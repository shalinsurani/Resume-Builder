/*! For license information please see main.04638c6c.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var s=n(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var s,i={},c=null,u=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,s)&&!l.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:r,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,f(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,s){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:j.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,r,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case s:l=!0}}if(l)return a=a(l=e),e=""===i?"."+I(l,0):i,w(a)?(r="",null!=e&&(r=e.replace(S,"$&/")+"/"),T(a,t,r,"",function(e){return e})):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+I(o=e[c],c);l+=T(o,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,r,u=i+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,n){if(null==e)return e;var s=[],r=0;return T(e,s,"","",function(e){return t.call(n,e,r++)}),s}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:j};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,n){C(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=j.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!E.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,r=e[s];if(!(0<i(r,t)))break e;e[s]=t,e[n]=r,n=s}}function s(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,r=e.length,a=r>>>1;s<a;){var o=2*(s+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<r&&0>i(u,l)?(e[s]=u,e[c]=n,s=c):(e[s]=l,e[o]=n,s=o);else{if(!(c<r&&0>i(u,n)))break e;e[s]=u,e[c]=n,s=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=s(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=s(u)}}function w(e){if(g=!1,b(e),!f)if(null!==s(c))f=!0,P(N);else{var t=s(u);null!==t&&D(w,t.startTime-e)}}function N(e,n){f=!1,g&&(g=!1,y(k),k=-1),p=!0;var i=m;try{for(b(n),h=s(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,m=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===s(c)&&r(c),b(n)}else r(c);h=s(c)}if(null!==h)var l=!0;else{var d=s(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,m=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,E=!1,_=null,k=-1,S=5,I=-1;function T(){return!(t.unstable_now()-I<S)}function C(){if(null!==_){var e=t.unstable_now();I=e;var n=!0;try{n=_(!0,e)}finally{n?j():(E=!1,_=null)}}else E=!1}if("function"===typeof x)j=function(){x(C)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=C,j=function(){R.postMessage(null)}}else j=function(){v(C,0)};function P(e){_=e,E||(E=!0,j())}function D(e,n){k=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,P(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===s(c)&&e===s(u)&&(g?(y(k),k=-1):g=!0,D(w,i-a))):(e.sortIndex=o,n(c,e),f||p||(f=!0,P(N))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var s=n(950);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var s=n(43),r=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,n,s,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,s){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,s){if(null===t||"undefined"===typeof t||function(e,t,n,s){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,s)&&(n=null),s||null===r?function(e){return!!d.call(p,e)||!d.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,s=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),i=s.stack.split("\n"),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||r[a]!==i[o]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case N:return"Portal";case _:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return $(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=q(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),s=t.type;if(null!=n)"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(s&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),s=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=s&&(e.defaultValue=""+s)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var s=0===n.indexOf("--"),r=fe(n,t[n],s);"float"===n&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,je=null,Ee=null;function _e(e){if(e=xr(e)){if("function"!==typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=wr(t),Ne(e.stateNode,e.type,t))}}function ke(e){je?Ee?Ee.push(e):Ee=[e]:je=e}function Se(){if(je){var e=je,t=Ee;if(Ee=je=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ie(e,t){return e(t)}function Te(){}var Ce=!1;function Ae(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Ie(e,t,n)}finally{Ce=!1,(null!==je||null!==Ee)&&(Te(),Se())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var s=wr(n);if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Oe(e,t,n,s,r,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Ue=!1,Fe=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,s,r,i,a,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if($e(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(s=r.return)){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return He(r),e;if(a===s)return He(r),t;a=a.sibling}throw Error(i(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Xe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,st=r.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~r;0!==o?s=dt(o):0!==(i&=a)&&(s=dt(i))}else 0!==(a=n&~r)?s=dt(a):0!==i&&(s=dt(i));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&s)&&(s|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)r=1<<(n=31-at(t)),s|=e[n],t&=~r;return s}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-at(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,jt,Et,_t,kt=!1,St=[],It=null,Tt=null,Ct=null,At=new Map,Rt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,s,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=xr(t))&&Nt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Mt(e){var t=yr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void _t(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xr(n))&&Nt(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);be=s,n.target.dispatchEvent(s),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){kt=!1,null!==It&&Ut(It)&&(It=null),null!==Tt&&Ut(Tt)&&(Tt=null),null!==Ct&&Ut(Ct)&&(Ct=null),At.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vt)))}function $t(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var s=St[n];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Tt&&zt(Tt,e),null!==Ct&&zt(Ct,e),At.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(s=Pt[n]).blockedOn===e&&(s.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,s){var r=xt,i=Bt.transition;Bt.transition=null;try{xt=1,Kt(e,t,n,s)}finally{xt=r,Bt.transition=i}}function Wt(e,t,n,s){var r=xt,i=Bt.transition;Bt.transition=null;try{xt=4,Kt(e,t,n,s)}finally{xt=r,Bt.transition=i}}function Kt(e,t,n,s){if(Ht){var r=Yt(e,t,n,s);if(null===r)Hs(e,t,s,Gt,n),Ot(e,s);else if(function(e,t,n,s,r){switch(t){case"focusin":return It=Lt(It,e,t,n,s,r),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,s,r),!0;case"mouseover":return Ct=Lt(Ct,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return At.set(i,Lt(At.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Rt.set(i,Lt(Rt.get(i)||null,e,t,n,s,r)),!0}return!1}(r,e,t,n,s))s.stopPropagation();else if(Ot(e,s),4&t&&-1<Dt.indexOf(e)){for(;null!==r;){var i=xr(r);if(null!==i&&wt(i),null===(i=Yt(e,t,n,s))&&Hs(e,t,s,Gt,n),i===r)break;r=i}null!==r&&s.stopPropagation()}else Hs(e,t,s,null,n)}}var Gt=null;function Yt(e,t,n,s){if(Gt=null,null!==(e=yr(e=we(s))))if(null===(t=$e(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,s=n.length,r="value"in Xt?Xt.value:Xt.textContent,i=r.length;for(e=0;e<s&&n[e]===r[e];e++);var a=s-e;for(t=1;t<=a&&n[s-t]===r[i-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function rn(e){function t(t,n,s,r,i){for(var a in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),dn=M({},cn,{view:0,detail:0}),hn=rn(dn),mn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=rn(mn),fn=rn(M({},mn,{dataTransfer:0})),gn=rn(M({},dn,{relatedTarget:0})),vn=rn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=rn(yn),bn=rn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function _n(){return En}var kn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn(kn),In=rn(M({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=rn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=rn(An),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,s){ke(s),0<(t=Ws(t,"onChange")).length&&(n=new un("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Us(e,0)}function Yn(e){if(K(br(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var es=document.createElement("div");es.setAttribute("oninput","return;"),Zn="function"===typeof es.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ts(){Wn&&(Wn.detachEvent("onpropertychange",ns),Kn=Wn=null)}function ns(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ae(Gn,t)}}function ss(e,t,n){"focusin"===e?(ts(),Kn=n,(Wn=t).attachEvent("onpropertychange",ns)):"focusout"===e&&ts()}function rs(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function is(e,t){if("click"===e)return Yn(t)}function as(e,t){if("input"===e||"change"===e)return Yn(t)}var os="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ls(e,t){if(os(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!d.call(t,r)||!os(e[r],t[r]))return!1}return!0}function cs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function us(e,t){var n,s=cs(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cs(s)}}function ds(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ds(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hs(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function ms(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ps(e){var t=hs(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ds(n.ownerDocument.documentElement,n)){if(null!==s&&ms(n))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=void 0===s.end?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=us(n,i);var a=us(n,s);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fs=u&&"documentMode"in document&&11>=document.documentMode,gs=null,vs=null,ys=null,xs=!1;function bs(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xs||null==gs||gs!==G(s)||("selectionStart"in(s=gs)&&ms(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ys&&ls(ys,s)||(ys=s,0<(s=Ws(vs,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=gs)))}function ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ns={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},js={},Es={};function _s(e){if(js[e])return js[e];if(!Ns[e])return e;var t,n=Ns[e];for(t in n)if(n.hasOwnProperty(t)&&t in Es)return js[e]=n[t];return e}u&&(Es=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);var ks=_s("animationend"),Ss=_s("animationiteration"),Is=_s("animationstart"),Ts=_s("transitionend"),Cs=new Map,As="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(e,t){Cs.set(e,t),l(t,[e])}for(var Ps=0;Ps<As.length;Ps++){var Ds=As[Ps];Rs(Ds.toLowerCase(),"on"+(Ds[0].toUpperCase()+Ds.slice(1)))}Rs(ks,"onAnimationEnd"),Rs(Ss,"onAnimationIteration"),Rs(Is,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(Ts,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ls=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function Ms(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,s,r,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(s,t,void 0,e),e.currentTarget=null}function Us(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;Ms(r,o,c),i=l}else for(a=0;a<s.length;a++){if(l=(o=s[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;Ms(r,o,c),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fs(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var s=e+"__bubble";n.has(s)||(Bs(t,e,2,!1),n.add(s))}function Vs(e,t,n){var s=0;t&&(s|=4),Bs(n,e,s,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function $s(e){if(!e[zs]){e[zs]=!0,a.forEach(function(t){"selectionchange"!==t&&(Ls.has(t)||Vs(t,!1,e),Vs(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zs]||(t[zs]=!0,Vs("selectionchange",!1,t))}}function Bs(e,t,n,s){switch(Qt(t)){case 1:var r=qt;break;case 4:r=Wt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),s?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hs(e,t,n,s,r){var i=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var a=s.tag;if(3===a||4===a){var o=s.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===a)for(a=s.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==o;){if(null===(a=yr(o)))return;if(5===(l=a.tag)||6===l){s=i=a;continue e}o=o.parentNode}}s=s.return}Ae(function(){var s=i,r=we(n),a=[];e:{var o=Cs.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case ks:case Ss:case Is:l=vn;break;case Ts:l=Cn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var m,p=s;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Re(p,h))&&u.push(qs(p,f,m)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,r),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[pr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=s,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(d=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=s),l!==c)){if(u=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,f="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:br(l),m=null==c?o:br(c),(o=new u(f,p+"leave",l,n,r)).target=d,o.relatedTarget=m,f=null,yr(r)===s&&((u=new u(h,p+"enter",c,n,r)).target=m,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,p=0,m=u=l;m;m=Ks(m))p++;for(m=0,f=h;f;f=Ks(f))m++;for(;0<p-m;)u=Ks(u),p--;for(;0<m-p;)h=Ks(h),m--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Ks(u),h=Ks(h)}u=null}else u=null;null!==l&&Gs(a,o,l,u,!1),null!==c&&null!==d&&Gs(a,d,c,u,!0)}if("select"===(l=(o=s?br(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if(Xn)g=as;else{g=rs;var v=ss}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=is);switch(g&&(g=g(e,s))?qn(a,g,n,r):(v&&v(e,o,s),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=s?br(s):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gs=v,vs=s,ys=null);break;case"focusout":ys=vs=gs=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,bs(a,n,r);break;case"selectionchange":if(fs)break;case"keydown":case"keyup":bs(a,n,r)}var y;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else $n?Vn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&($n||"onCompositionStart"!==x?"onCompositionEnd"===x&&$n&&(y=en()):(Jt="value"in(Xt=r)?Xt.value:Xt.textContent,$n=!0)),0<(v=Ws(s,x)).length&&(x=new bn(x,e,null,n,r),a.push({event:x,listeners:v}),y?x.data=y:null!==(y=zn(n))&&(x.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(s=Ws(s,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:s}),r.data=y))}Us(a,t)})}function qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ws(e,t){for(var n=t+"Capture",s=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Re(e,n))&&s.unshift(qs(e,i,r)),null!=(i=Re(e,t))&&s.push(qs(e,i,r))),e=e.return}return s}function Ks(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gs(e,t,n,s,r){for(var i=t._reactName,a=[];null!==n&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===s)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Re(n,i))&&a.unshift(qs(n,l,o)):r||null!=(l=Re(n,i))&&a.push(qs(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ys=/\r\n?/g,Qs=/\u0000|\uFFFD/g;function Xs(e){return("string"===typeof e?e:""+e).replace(Ys,"\n").replace(Qs,"")}function Js(e,t,n){if(t=Xs(t),Xs(e)!==t&&n)throw Error(i(425))}function Zs(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(or)}:sr;function or(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===s)return e.removeChild(r),void $t(t);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=r}while(n);$t(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,mr="__reactProps$"+dr,pr="__reactContainer$"+dr,fr="__reactEvents$"+dr,gr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function xr(e){return!(e=e[hr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wr(e){return e[mr]||null}var Nr=[],jr=-1;function Er(e){return{current:e}}function _r(e){0>jr||(e.current=Nr[jr],Nr[jr]=null,jr--)}function kr(e,t){jr++,Nr[jr]=e.current,e.current=t}var Sr={},Ir=Er(Sr),Tr=Er(!1),Cr=Sr;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Sr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pr(){_r(Tr),_r(Ir)}function Dr(e,t,n){if(Ir.current!==Sr)throw Error(i(168));kr(Ir,t),kr(Tr,n)}function Or(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return n;for(var r in s=s.getChildContext())if(!(r in t))throw Error(i(108,B(e)||"Unknown",r));return M({},n,s)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sr,Cr=Ir.current,kr(Ir,e),kr(Tr,Tr.current),!0}function Mr(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=Or(e,t,Cr),s.__reactInternalMemoizedMergedChildContext=e,_r(Tr),_r(Ir),kr(Ir,e)):_r(Tr),kr(Tr,n)}var Ur=null,Fr=!1,Vr=!1;function zr(e){null===Ur?Ur=[e]:Ur.push(e)}function $r(){if(!Vr&&null!==Ur){Vr=!0;var e=0,t=xt;try{var n=Ur;for(xt=1;e<n.length;e++){var s=n[e];do{s=s(!0)}while(null!==s)}Ur=null,Fr=!1}catch(r){throw null!==Ur&&(Ur=Ur.slice(e+1)),Ke(Ze,$r),r}finally{xt=t,Vr=!1}}return null}var Br=[],Hr=0,qr=null,Wr=0,Kr=[],Gr=0,Yr=null,Qr=1,Xr="";function Jr(e,t){Br[Hr++]=Wr,Br[Hr++]=qr,qr=e,Wr=t}function Zr(e,t,n){Kr[Gr++]=Qr,Kr[Gr++]=Xr,Kr[Gr++]=Yr,Yr=e;var s=Qr;e=Xr;var r=32-at(s)-1;s&=~(1<<r),n+=1;var i=32-at(t)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Qr=1<<32-at(t)+r|n<<r|s,Xr=i+e}else Qr=1<<i|n<<r|s,Xr=e}function ei(e){null!==e.return&&(Jr(e,1),Zr(e,1,0))}function ti(e){for(;e===qr;)qr=Br[--Hr],Br[Hr]=null,Wr=Br[--Hr],Br[Hr]=null;for(;e===Yr;)Yr=Kr[--Gr],Kr[Gr]=null,Xr=Kr[--Gr],Kr[Gr]=null,Qr=Kr[--Gr],Kr[Gr]=null}var ni=null,si=null,ri=!1,ii=null;function ai(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,si=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,si=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,si=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ri){var t=si;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cr(n.nextSibling);var s=ni;t&&oi(e,t)?ai(s,n):(e.flags=-4097&e.flags|2,ri=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ri)return ui(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=si)){if(li(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=cr(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){si=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}si=null}}else si=ni?cr(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=si;e;)e=cr(e.nextSibling)}function mi(){si=ni=null,ri=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var fi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var r=s,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=2,n):s:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,s){return null===t||6!==t.tag?((t=Fc(n,e.mode,s)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,s){var i=n.type;return i===j?d(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&yi(i)===t.type)?((s=r(t,n.props)).ref=gi(e,t,n),s.return=e,s):((s=Lc(n.type,n.key,n.props,null,e.mode,s)).ref=gi(e,t,n),s.return=e,s)}function u(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,s)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,s,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,s,i)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case N:return(t=Vc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function m(e,t,n,s){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,s):null;case N:return n.key===r?u(e,t,n,s):null;case R:return m(e,t,(r=n._init)(n._payload),s)}if(te(n)||O(n))return null!==r?null:d(e,t,n,s,null);vi(e,n)}return null}function p(e,t,n,s,r){if("string"===typeof s&&""!==s||"number"===typeof s)return l(t,e=e.get(n)||null,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case w:return c(t,e=e.get(null===s.key?n:s.key)||null,s,r);case N:return u(t,e=e.get(null===s.key?n:s.key)||null,s,r);case R:return p(e,t,n,(0,s._init)(s._payload),r)}if(te(s)||O(s))return d(t,e=e.get(n)||null,s,r,null);vi(t,s)}return null}function f(r,i,o,l){for(var c=null,u=null,d=i,f=i=0,g=null;null!==d&&f<o.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=m(r,d,o[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),i=a(v,i,f),null===u?c=v:u.sibling=v,u=v,d=g}if(f===o.length)return n(r,d),ri&&Jr(r,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(r,o[f],l))&&(i=a(d,i,f),null===u?c=d:u.sibling=d,u=d);return ri&&Jr(r,f),c}for(d=s(r,d);f<o.length;f++)null!==(g=p(d,r,f,o[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),i=a(g,i,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(r,e)}),ri&&Jr(r,f),c}function g(r,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var x=m(r,f,y.value,c);if(null===x){null===f&&(f=v);break}e&&f&&null===x.alternate&&t(r,f),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x,f=v}if(y.done)return n(r,f),ri&&Jr(r,g),u;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return ri&&Jr(r,g),u}for(f=s(r,f);!y.done;g++,y=l.next())null!==(y=p(f,r,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(r,e)}),ri&&Jr(r,g),u}return function e(s,i,a,l){if("object"===typeof a&&null!==a&&a.type===j&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===j){if(7===u.tag){n(s,u.sibling),(i=r(u,a.props.children)).return=s,s=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&yi(c)===u.type){n(s,u.sibling),(i=r(u,a.props)).ref=gi(s,u,a),i.return=s,s=i;break e}n(s,u);break}t(s,u),u=u.sibling}a.type===j?((i=Mc(a.props.children,s.mode,l,a.key)).return=s,s=i):((l=Lc(a.type,a.key,a.props,null,s.mode,l)).ref=gi(s,i,a),l.return=s,s=l)}return o(s);case N:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(s,i.sibling),(i=r(i,a.children||[])).return=s,s=i;break e}n(s,i);break}t(s,i),i=i.sibling}(i=Vc(a,s.mode,l)).return=s,s=i}return o(s);case R:return e(s,i,(u=a._init)(a._payload),l)}if(te(a))return f(s,i,a,l);if(O(a))return g(s,i,a,l);vi(s,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(s,i.sibling),(i=r(i,a)).return=s,s=i):(n(s,i),(i=Fc(a,s.mode,l)).return=s,s=i),o(s)):n(s,i)}}var bi=xi(!0),wi=xi(!1),Ni=Er(null),ji=null,Ei=null,_i=null;function ki(){_i=Ei=ji=null}function Si(e){var t=Ni.current;_r(Ni),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){ji=e,_i=Ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===Ei){if(null===ji)throw Error(i(308));Ei=e,ji.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return t}var Ai=null;function Ri(e){null===Ai?Ai=[e]:Ai.push(e)}function Pi(e,t,n,s){var r=t.interleaved;return null===r?(n.next=n,Ri(t)):(n.next=r.next,r.next=n),t.interleaved=n,Di(e,s)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Cl)){var r=s.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Di(e,n)}return null===(r=s.interleaved)?(t.next=t,Ri(s)):(t.next=r.next,r.next=t),s.interleaved=t,Di(e,n)}function Vi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zi(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $i(e,t,n,s){var r=e.updateQueue;Oi=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=r.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,m=o.eventTime;if((s&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=n,f.tag){case 1:if("function"===typeof(p=f.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,a|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);Ul|=a,e.lanes=a,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(null!==r){if(s.callback=null,s=n,"function"!==typeof r)throw Error(i(191,r));r.call(s)}}}var Hi={},qi=Er(Hi),Wi=Er(Hi),Ki=Er(Hi);function Gi(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(kr(Ki,t),kr(Wi,e),kr(qi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_r(qi),kr(qi,t)}function Qi(){_r(qi),_r(Wi),_r(Ki)}function Xi(e){Gi(Ki.current);var t=Gi(qi.current),n=le(t,e.type);t!==n&&(kr(Wi,e),kr(qi,n))}function Ji(e){Wi.current===e&&(_r(qi),_r(Wi))}var Zi=Er(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var sa=b.ReactCurrentDispatcher,ra=b.ReactCurrentBatchConfig,ia=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function ma(){throw Error(i(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!os(e[n],t[n]))return!1;return!0}function fa(e,t,n,s,r,a){if(ia=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sa.current=null===e||null===e.memoizedState?Za:eo,e=n(s,r),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(i(301));a+=1,la=oa=null,t.updateQueue=null,sa.current=to,e=n(s,r)}while(ua)}if(sa.current=Ja,t=null!==oa&&null!==oa.next,ia=0,la=oa=aa=null,ca=!1,t)throw Error(i(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function xa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var s=oa,r=s.baseQueue,a=n.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=s):c=c.next=h,aa.lanes|=d,Ul|=d}u=u.next}while(null!==u&&u!==a);null===c?o=s:c.next=l,os(s,t.memoizedState)||(bo=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,aa.lanes|=a,Ul|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=e(a,o.action),o=o.next}while(o!==r);os(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Na(){}function ja(e,t){var n=aa,s=ya(),r=t(),a=!os(s.memoizedState,r);if(a&&(s.memoizedState=r,bo=!0),s=s.queue,La(ka.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Aa(9,_a.bind(null,n,s,r,t),void 0,null),null===Al)throw Error(i(349));0!==(30&ia)||Ea(n,t,r)}return r}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,s){t.value=n,t.getSnapshot=s,Sa(t)&&Ia(e)}function ka(e,t,n){return n(function(){Sa(t)&&Ia(e)})}function Sa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!os(e,n)}catch(s){return!0}}function Ia(e){var t=Di(e,1);null!==t&&rc(t,e,1,-1)}function Ta(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Ra(){return ya().memoizedState}function Pa(e,t,n,s){var r=va();aa.flags|=e,r.memoizedState=Aa(1|t,n,void 0,void 0===s?null:s)}function Da(e,t,n,s){var r=ya();s=void 0===s?null:s;var i=void 0;if(null!==oa){var a=oa.memoizedState;if(i=a.destroy,null!==s&&pa(s,a.deps))return void(r.memoizedState=Aa(t,n,i,s))}aa.flags|=e,r.memoizedState=Aa(1|t,n,i,s)}function Oa(e,t){return Pa(8390656,8,e,t)}function La(e,t){return Da(2048,8,e,t)}function Ma(e,t){return Da(4,2,e,t)}function Ua(e,t){return Da(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Fa.bind(null,t,e),n)}function za(){}function $a(e,t){var n=ya();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&pa(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&pa(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(os(n,t)||(n=ft(),aa.lanes|=n,Ul|=n,e.baseState=!0),t)}function qa(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var s=ra.transition;ra.transition={};try{e(!1),t()}finally{xt=n,ra.transition=s}}function Wa(){return ya().memoizedState}function Ka(e,t,n){var s=sc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Qa(t,n);else if(null!==(n=Pi(e,t,n,s))){rc(n,e,s,nc()),Xa(n,t,s)}}function Ga(e,t,n){var s=sc(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Qa(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,os(o,a)){var l=t.interleaved;return null===l?(r.next=r,Ri(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Pi(e,t,r,s))&&(rc(n,e,s,r=nc()),Xa(n,t,s))}}function Ya(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Qa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Ci,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Za={readContext:Ci,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=va();return t=void 0!==n?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ta,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=qa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=aa,r=va();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Al)throw Error(i(349));0!==(30&ia)||Ea(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Oa(ka.bind(null,s,a,e),[e]),s.flags|=2048,Aa(9,_a.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Al.identifierPrefix;if(ri){var n=Xr;t=":"+t+"R"+(n=(Qr&~(1<<32-at(Qr)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Ci,useCallback:$a,useContext:Ci,useEffect:La,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Ua,useMemo:Ba,useReducer:ba,useRef:Ra,useState:function(){return ba(xa)},useDebugValue:za,useDeferredValue:function(e){return Ha(ya(),oa.memoizedState,e)},useTransition:function(){return[ba(xa)[0],ya().memoizedState]},useMutableSource:Na,useSyncExternalStore:ja,useId:Wa,unstable_isNewReconciler:!1},to={readContext:Ci,useCallback:$a,useContext:Ci,useEffect:La,useImperativeHandle:Va,useInsertionEffect:Ma,useLayoutEffect:Ua,useMemo:Ba,useReducer:wa,useRef:Ra,useState:function(){return wa(xa)},useDebugValue:za,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ya().memoizedState]},useMutableSource:Na,useSyncExternalStore:ja,useId:Wa,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function so(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=nc(),r=sc(e),i=Ui(s,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,r))&&(rc(t,e,r,s),Vi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=nc(),r=sc(e),i=Ui(s,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,r))&&(rc(t,e,r,s),Vi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),s=sc(e),r=Ui(n,s);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Fi(e,r,s))&&(rc(t,e,s,n),Vi(t,e,s))}};function io(e,t,n,s,r,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ls(n,s)||!ls(r,i))}function ao(e,t,n){var s=!1,r=Sr,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(r=Rr(t)?Cr:Ir.current,i=(s=null!==(s=t.contextTypes)&&void 0!==s)?Ar(e,r):Sr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function oo(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Ci(i):(i=Rr(t)?Cr:Ir.current,r.context=Ar(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(so(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ro.enqueueReplaceState(r,r.state,null),$i(e,n,r,s),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",s=t;do{n+=z(s),s=s.return}while(s);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=s),ho(0,t)},n}function fo(e,t,n){(n=Ui(-1,n)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){ho(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof s&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new mo;var r=new Set;s.set(t,r)}else void 0===(r=s.get(t))&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,s,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ui(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var xo=b.ReactCurrentOwner,bo=!1;function wo(e,t,n,s){t.child=null===e?wi(t,null,n,s):bi(t,e.child,n,s)}function No(e,t,n,s,r){n=n.render;var i=t.ref;return Ti(t,r),s=fa(e,t,n,s,i,r),n=ga(),null===e||bo?(ri&&n&&ei(t),t.flags|=1,wo(e,t,s,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function jo(e,t,n,s,r){if(null===e){var i=n.type;return"function"!==typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_o(e,t,i,s,r))}if(i=e.child,0===(e.lanes&r)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:ls)(a,s)&&e.ref===t.ref)return Wo(e,t,r)}return t.flags|=1,(e=Oc(i,s)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,s,r){if(null!==e){var i=e.memoizedProps;if(ls(i,s)&&e.ref===t.ref){if(bo=!1,t.pendingProps=s=i,0===(e.lanes&r))return t.lanes=e.lanes,Wo(e,t,r);0!==(131072&e.flags)&&(bo=!0)}}return Io(e,t,n,s,r)}function ko(e,t,n){var s=t.pendingProps,r=s.children,i=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==i?i.baseLanes:n,kr(Ol,Dl),Dl|=s}else null!==i?(s=i.baseLanes|n,t.memoizedState=null):s=n,kr(Ol,Dl),Dl|=s;return wo(e,t,r,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,s,r){var i=Rr(n)?Cr:Ir.current;return i=Ar(t,i),Ti(t,r),n=fa(e,t,n,s,i,r),s=ga(),null===e||bo?(ri&&s&&ei(t),t.flags|=1,wo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function To(e,t,n,s,r){if(Rr(n)){var i=!0;Lr(t)}else i=!1;if(Ti(t,r),null===t.stateNode)qo(e,t),ao(t,n,s),lo(t,n,s,r),s=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ci(c):c=Ar(t,c=Rr(n)?Cr:Ir.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==s||l!==c)&&oo(t,a,s,c),Oi=!1;var h=t.memoizedState;a.state=h,$i(t,s,a,r),l=t.memoizedState,o!==s||h!==l||Tr.current||Oi?("function"===typeof u&&(so(t,n,u,s),l=t.memoizedState),(o=Oi||io(t,n,o,s,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),a.props=s,a.state=l,a.context=c,s=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Mi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ci(l):l=Ar(t,l=Rr(n)?Cr:Ir.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&oo(t,a,s,l),Oi=!1,h=t.memoizedState,a.state=h,$i(t,s,a,r);var p=t.memoizedState;o!==d||h!==p||Tr.current||Oi?("function"===typeof m&&(so(t,n,m,s),p=t.memoizedState),(c=Oi||io(t,n,c,s,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(s,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(s,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),a.props=s,a.state=p,a.context=l,s=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Co(e,t,n,s,i,r)}function Co(e,t,n,s,r,i){So(e,t);var a=0!==(128&t.flags);if(!s&&!a)return r&&Mr(t,n,!1),Wo(e,t,i);s=t.stateNode,xo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&a?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=s.state,r&&Mr(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Dr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dr(0,t.context,!1),Yi(e,t.containerInfo)}function Ro(e,t,n,s,r){return mi(),pi(r),t.flags|=256,wo(e,t,n,s),t.child}var Po,Do,Oo,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var s,r=t.pendingProps,a=Zi.current,o=!1,l=0!==(128&t.flags);if((s=l)||(s=(null===e||null!==e.memoizedState)&&0!==(2&a)),s?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),kr(Zi,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Uc(l,r,0,null),e=Mc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Uo(n),t.memoizedState=Mo,e):Vo(t,l));if(null!==(a=e.memoizedState)&&null!==(s=a.dehydrated))return function(e,t,n,s,r,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,s=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=s.fallback,r=t.mode,s=Uc({mode:"visible",children:s.children},r,0,null),(a=Mc(a,r,o,null)).flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Uo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===r.data){if(s=r.nextSibling&&r.nextSibling.dataset)var l=s.dgst;return s=l,zo(e,t,o,s=uo(a=Error(i(419)),s,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(s=Al)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(s.suspendedLanes|o))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Di(e,r),rc(s,e,r,-1))}return vc(),zo(e,t,o,s=uo(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,si=cr(r.nextSibling),ni=t,ri=!0,ii=null,null!==e&&(Kr[Gr++]=Qr,Kr[Gr++]=Xr,Kr[Gr++]=Yr,Qr=e.id,Xr=e.overflow,Yr=t),t=Vo(t,s.children),t.flags|=4096,t)}(e,t,l,r,s,a,n);if(o){o=r.fallback,l=t.mode,s=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==s?o=Oc(s,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Uo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,r}return e=(o=e.child).sibling,r=Oc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vo(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,s){return null!==s&&pi(s),bi(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $o(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Ii(e.return,t,n)}function Bo(e,t,n,s,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Ho(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(wo(e,t,s.children,n),0!==(2&(s=Zi.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n,t);else if(19===e.tag)$o(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(kr(Zi,s),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Bo(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ea(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Bo(t,!0,n,null,i);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=14680064&r.subtreeFlags,s|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Yo(e,t,n){var s=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Rr(t.type)&&Pr(),Go(t),null;case 3:return s=t.stateNode,Qi(),_r(Tr),_r(Ir),na(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(lc(ii),ii=null))),Do(e,t),Go(t),null;case 5:Ji(t);var r=Gi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(i(166));return Go(t),null}if(e=Gi(qi.current),di(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[hr]=t,s[mr]=a,e=0!==(1&t.mode),n){case"dialog":Fs("cancel",s),Fs("close",s);break;case"iframe":case"object":case"embed":Fs("load",s);break;case"video":case"audio":for(r=0;r<Os.length;r++)Fs(Os[r],s);break;case"source":Fs("error",s);break;case"img":case"image":case"link":Fs("error",s),Fs("load",s);break;case"details":Fs("toggle",s);break;case"input":Q(s,a),Fs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Fs("invalid",s);break;case"textarea":re(s,a),Fs("invalid",s)}for(var l in ye(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?s.textContent!==c&&(!0!==a.suppressHydrationWarning&&Js(s.textContent,c,e),r=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Js(s.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fs("scroll",s)}switch(n){case"input":W(s),Z(s,a,!0);break;case"textarea":W(s),ae(s);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(s.onclick=Zs)}s=r,t.updateQueue=s,null!==s&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),"select"===n&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[hr]=t,e[mr]=s,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,s),n){case"dialog":Fs("cancel",e),Fs("close",e),r=s;break;case"iframe":case"object":case"embed":Fs("load",e),r=s;break;case"video":case"audio":for(r=0;r<Os.length;r++)Fs(Os[r],e);r=s;break;case"source":Fs("error",e),r=s;break;case"img":case"image":case"link":Fs("error",e),Fs("load",e),r=s;break;case"details":Fs("toggle",e),r=s;break;case"input":Q(e,s),r=Y(e,s),Fs("invalid",e);break;case"option":default:r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=M({},s,{value:void 0}),Fs("invalid",e);break;case"textarea":re(e,s),r=se(e,s),Fs("invalid",e)}for(a in ye(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fs("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":W(e),Z(e,s,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=s.value&&e.setAttribute("value",""+H(s.value));break;case"select":e.multiple=!!s.multiple,null!=(a=s.value)?ne(e,!!s.multiple,a,!1):null!=s.defaultValue&&ne(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(i(166));if(n=Gi(Ki.current),Gi(qi.current),di(t)){if(s=t.stateNode,n=t.memoizedProps,s[hr]=t,(a=s.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Js(s.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Js(s.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[hr]=t,t.stateNode=s}return Go(t),null;case 13:if(_r(Zi),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==si&&0!==(1&t.mode)&&0===(128&t.flags))hi(),mi(),t.flags|=98560,a=!1;else if(a=di(t),null!==s&&null!==s.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[hr]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ii&&(lc(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Ll&&(Ll=3):vc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Qi(),Do(e,t),null===e&&$s(t.stateNode.containerInfo),Go(t),null;case 10:return Si(t.type._context),Go(t),null;case 19:if(_r(Zi),null===(a=t.memoizedState))return Go(t),null;if(s=0!==(128&t.flags),null===(l=a.rendering))if(s)Ko(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ko(a,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)e=s,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kr(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Hl&&(t.flags|=128,s=!0,Ko(a,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=ea(l))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ri)return Go(t),null}else 2*Xe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,s=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Zi.current,kr(Zi,s?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return mc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qo(e,t){switch(ti(t),t.tag){case 1:return Rr(t.type)&&Pr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),_r(Tr),_r(Ir),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(_r(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _r(Zi),null;case 4:return Qi(),null;case 10:return Si(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Oo=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Gi(qi.current);var i,a=null;switch(n){case"input":r=Y(e,r),s=Y(e,s),a=[];break;case"select":r=M({},r,{value:void 0}),s=M({},s,{value:void 0}),a=[];break;case"textarea":r=se(e,r),s=se(e,s),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof s.onClick&&(e.onclick=Zs)}for(u in ye(n,s),n=null,r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=null!=r?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fs("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,s){n!==s&&(t.flags|=4)};var Xo=!1,Jo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(s){kc(e,t,s)}else n.current=null}function nl(e,t,n){try{n()}catch(s){kc(e,t,s)}}var sl=!1;function rl(e,t,n){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&nl(t,n,i)}r=r.next}while(r!==s)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[mr],delete t[fr],delete t[gr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zs));else if(4!==s&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,ml=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Jo||tl(n,t);case 6:var s=hl,r=ml;hl=null,pl(e,t,n),ml=r,null!==(hl=s)&&(ml?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(ml?(e=hl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),$t(e)):lr(hl,n.stateNode));break;case 4:s=hl,r=ml,hl=n.stateNode.containerInfo,ml=!0,pl(e,t,n),hl=s,ml=r;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(s=n.updateQueue)&&null!==(s=s.lastEffect))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&nl(n,t,a),r=r.next}while(r!==s)}pl(e,t,n);break;case 1:if(!Jo&&(tl(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){kc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Jo=(s=Jo)||null!==n.memoizedState,pl(e,t,n),Jo=s):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach(function(t){var s=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))})}}function vl(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var r=n[s];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,ml=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,ml=!0;break e}l=l.return}if(null===hl)throw Error(i(160));fl(a,o,r),hl=null,ml=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){kc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),xl(e),4&s){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:vl(t,e),xl(e),512&s&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),xl(e),512&s&&null!==n&&tl(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){kc(e,e.return,g)}}if(4&s&&null!=(r=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(r,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):x(r,d,h,u)}switch(l){case"input":J(r,a);break;case"textarea":ie(r,a);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(r,!!a.multiple,p,!1):m!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[mr]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(vl(t,e),xl(e),4&s){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(vl(t,e),xl(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:vl(t,e),xl(e);break;case 13:vl(t,e),xl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Bl=Xe())),4&s&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||d,vl(t,e),Jo=u):vl(t,e),xl(e),8192&s){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(p=(m=el).child,m.tag){case 0:case 11:case 14:case 15:rl(4,m,m.return);break;case 1:tl(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){s=m,n=m.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(s,n,g)}}break;case 5:tl(m,m.return);break;case 22:if(null!==m.memoizedState){jl(h);continue}}null!==p?(p.return=m,el=p):jl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),xl(e),4&s&&gl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var r=s.stateNode;32&s.flags&&(he(r,""),s.flags&=-33),dl(e,cl(e),r);break;case 3:case 4:var a=s.stateNode.containerInfo;ul(e,cl(e),a);break;default:throw Error(i(161))}}catch(Eo){kc(e,e.return,Eo)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){el=e,wl(e,t,n)}function wl(e,t,n){for(var s=0!==(1&e.mode);null!==el;){var r=el,i=r.child;if(22===r.tag&&s){var a=null!==r.memoizedState||Xo;if(!a){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Xo;var c=Jo;if(Xo=a,(Jo=l)&&!c)for(el=r;null!==el;)l=(a=el).child,22===a.tag&&null!==a.memoizedState?El(r):null!==l?(l.return=a,el=l):El(r);for(;null!==i;)el=i,wl(i,t,n),i=i.sibling;el=r,Xo=o,Jo=c}Nl(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,el=i):Nl(e)}}function Nl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Jo)if(null===n)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,s);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&$t(h)}}}break;default:throw Error(i(163))}Jo||512&t.flags&&al(t)}catch(m){kc(t,t.return,m)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function jl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(Eo){kc(t,n,Eo)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var r=t.return;try{s.componentDidMount()}catch(Eo){kc(t,r,Eo)}}var i=t.return;try{al(t)}catch(Eo){kc(t,i,Eo)}break;case 5:var a=t.return;try{al(t)}catch(Eo){kc(t,a,Eo)}}}catch(Eo){kc(t,t.return,Eo)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var _l,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Cl=0,Al=null,Rl=null,Pl=0,Dl=0,Ol=Er(0),Ll=0,Ml=null,Ul=0,Fl=0,Vl=0,zl=null,$l=null,Bl=0,Hl=1/0,ql=null,Wl=!1,Kl=null,Gl=null,Yl=!1,Ql=null,Xl=0,Jl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Cl)?Xe():-1!==ec?ec:ec=Xe()}function sc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==fi.transition?(0===tc&&(tc=ft()),tc):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,n,s){if(50<Jl)throw Jl=0,Zl=null,Error(i(185));vt(e,n,s),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Fl|=n),4===Ll&&cc(e,Pl)),ic(e,s),1===n&&0===Cl&&0===(1&t.mode)&&(Hl=Xe()+500,Fr&&$r()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&s)||(r[a]=mt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var s=ht(e,e===Al?Pl:0);if(0===s)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fr=!0,zr(e)}(uc.bind(null,e)):zr(uc.bind(null,e)),ar(function(){0===(6&Cl)&&$r()}),n=null;else{switch(bt(s)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=st}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(ec=-1,tc=0,0!==(6&Cl))throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var s=ht(e,e===Al?Pl:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=yc(e,s);else{t=s;var r=Cl;Cl|=2;var a=gc();for(Al===e&&Pl===t||(ql=null,Hl=Xe()+500,pc(e,t));;)try{bc();break}catch(l){fc(e,l)}ki(),Sl.current=a,Cl=r,null!==Rl?t=0:(Al=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(s=r,t=oc(e,r))),1===t)throw n=Ml,pc(e,0),cc(e,s),ic(e,Xe()),n;if(6===t)cc(e,s);else{if(r=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!os(i(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=yc(e,s))&&(0!==(a=pt(e))&&(s=a,t=oc(e,a))),1===t))throw n=Ml,pc(e,0),cc(e,s),ic(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:case 5:jc(e,$l,ql);break;case 3:if(cc(e,s),(130023424&s)===s&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&s)!==s){nc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=sr(jc.bind(null,e,$l,ql),t);break}jc(e,$l,ql);break;case 4:if(cc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-at(s);a=1<<o,(o=t[o])>r&&(r=o),s&=~a}if(s=r,10<(s=(120>(s=Xe()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kl(s/1960))-s)){e.timeoutHandle=sr(jc.bind(null,e,$l,ql),s);break}jc(e,$l,ql);break;default:throw Error(i(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=$l,$l=n,null!==t&&lc(t)),e}function lc(e){null===$l?$l=e:$l.push.apply($l,e)}function cc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),s=1<<n;e[n]=-1,t&=~s}}function uc(e){if(0!==(6&Cl))throw Error(i(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var s=pt(e);0!==s&&(t=s,n=oc(e,s))}if(1===n)throw n=Ml,pc(e,0),cc(e,t),ic(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,$l,ql),ic(e,Xe()),null}function dc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Hl=Xe()+500,Fr&&$r())}}function hc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&Ec();var t=Cl;Cl|=1;var n=Tl.transition,s=xt;try{if(Tl.transition=null,xt=1,e)return e()}finally{xt=s,Tl.transition=n,0===(6&(Cl=t))&&$r()}}function mc(){Dl=Ol.current,_r(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Rl)for(n=Rl.return;null!==n;){var s=n;switch(ti(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Pr();break;case 3:Qi(),_r(Tr),_r(Ir),na();break;case 5:Ji(s);break;case 4:Qi();break;case 13:case 19:_r(Zi);break;case 10:Si(s.type._context);break;case 22:case 23:mc()}n=n.return}if(Al=e,Rl=e=Oc(e.current,null),Pl=Dl=t,Ll=0,Ml=null,Vl=Fl=Ul=0,$l=zl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(s=(n=Ai[t]).interleaved)){n.interleaved=null;var r=s.next,i=n.pending;if(null!==i){var a=i.next;i.next=r,s.next=a}n.pending=s}Ai=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(ki(),sa.current=Ja,ca){for(var s=aa.memoizedState;null!==s;){var r=s.queue;null!==r&&(r.pending=null),s=s.next}ca=!1}if(ia=0,la=oa=aa=null,ua=!1,da=0,Il.current=null,null===n||null===n.return){Ll=1,Ml=t,Rl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){go(a,u,t),vc();break e}c=Error(i(426))}else if(ri&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),pi(co(c,l));break e}}a=c=co(c,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,po(0,c,t));break e;case 1:l=c;var y=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}Nc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=Sl.current;return Sl.current=Ja,null===e?Ja:e}function vc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Ul)&&0===(268435455&Fl)||cc(Al,Pl)}function yc(e,t){var n=Cl;Cl|=2;var s=gc();for(Al===e&&Pl===t||(ql=null,pc(e,t));;)try{xc();break}catch(r){fc(e,r)}if(ki(),Cl=n,Sl.current=s,null!==Rl)throw Error(i(261));return Al=null,Pl=0,Ll}function xc(){for(;null!==Rl;)wc(Rl)}function bc(){for(;null!==Rl&&!Ye();)wc(Rl)}function wc(e){var t=_l(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?Nc(e):Rl=t,Il.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ll=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ll&&(Ll=5)}function jc(e,t,n){var s=xt,r=Tl.transition;try{Tl.transition=null,xt=1,function(e,t,n,s){do{Ec()}while(null!==Ql);if(0!==(6&Cl))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}(e,a),e===Al&&(Rl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Ac(tt,function(){return Ec(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=xt;xt=1;var l=Cl;Cl|=4,Il.current=null,function(e,t){if(er=Ht,ms(e=hs())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch(Ca){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==a||0!==s&&3!==h.nodeType||(c=o+s),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===r&&(l=o),m===a&&++d===s&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(Ca){kc(t,t.return,Ca)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}f=sl,sl=!1}(e,n),yl(n,e),ps(tr),Ht=!!er,tr=er=null,e.current=n,bl(n,e,r),Qe(),Cl=l,xt=o,Tl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Ql=e,Xl=r),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,$r()}(e,t,n,s)}finally{Tl.transition=r,xt=s}return null}function Ec(){if(null!==Ql){var e=bt(Xl),t=Tl.transition,n=xt;try{if(Tl.transition=null,xt=16>e?16:e,null===Ql)var s=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Cl))throw Error(i(331));var r=Cl;for(Cl|=4,el=e.current;null!==el;){var a=el,o=a.child;if(0!==(16&el.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var m=(d=el).sibling,p=d.return;if(ol(d),d===u){el=null;break}if(null!==m){m.return=p,el=m;break}el=p}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}el=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,el=o;else e:for(;null!==el;){if(0!==(2048&(a=el).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,el=y;break e}el=a.return}}var x=e.current;for(el=x;null!==el;){var b=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,el=b;else e:for(o=x;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(N){kc(l,l.return,N)}if(l===o){el=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,el=w;break e}el=l.return}}if(Cl=r,$r(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(N){}s=!0}return s}finally{xt=n,Tl.transition=t}}return!1}function _c(e,t,n){e=Fi(e,t=po(0,t=co(n,t),1),1),t=nc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Gl||!Gl.has(s))){t=Fi(t,e=fo(t,e=co(n,e),1),1),e=nc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Xe()-Bl?pc(e,0):Vl|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Di(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}null!==s&&s.delete(t),Ic(e,n)}function Ac(e,t){return Ke(e,t)}function Rc(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,s){return new Rc(e,t,n,s)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,s,r,a){var o=2;if(s=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Mc(n.children,r,a,t);case E:o=8,r|=8;break;case _:return(e=Pc(12,n,t,2|r)).elementType=_,e.lanes=a,e;case T:return(e=Pc(13,n,t,r)).elementType=T,e.lanes=a,e;case C:return(e=Pc(19,n,t,r)).elementType=C,e.lanes=a,e;case P:return Uc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case S:o=9;break e;case I:o=11;break e;case A:o=14;break e;case R:o=16,s=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,r)).elementType=e,t.type=s,t.lanes=a,t}function Mc(e,t,n,s){return(e=Pc(7,e,s,t)).lanes=n,e}function Uc(e,t,n,s){return(e=Pc(22,e,s,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,s,r,i,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Bc(e){if(!e)return Sr;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Rr(n))return Or(e,n,t)}return t}function Hc(e,t,n,s,r,i,a,o,l){return(e=$c(n,s,!0,e,0,i,0,o,l)).context=Bc(null),n=e.current,(i=Ui(s=nc(),r=sc(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,r),e.current.lanes=r,vt(e,r,s),ic(e,s),e}function qc(e,t,n,s){var r=t.current,i=nc(),a=sc(r);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ui(i,a)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Fi(r,t,a))&&(rc(e,r,a,i),Vi(e,r,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tr.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),mi();break;case 5:Xi(t);break;case 1:Rr(t.type)&&Lr(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;kr(Ni,s._currentValue),s._currentValue=r;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(kr(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(kr(Zi,1&Zi.current),null!==(e=Wo(e,t,n))?e.sibling:null);kr(Zi,1&Zi.current);break;case 19:if(s=0!==(n&t.childLanes),0!==(128&e.flags)){if(s)return Ho(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),kr(Zi,Zi.current),s)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ri&&0!==(1048576&t.flags)&&Zr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qo(e,t),e=t.pendingProps;var r=Ar(t,Ir.current);Ti(t,n),r=fa(null,t,s,e,r,n);var a=ga();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(s)?(a=!0,Lr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Li(t),r.updater=ro,t.stateNode=r,r._reactInternals=t,lo(t,s,e,n),t=Co(null,t,s,!0,a,n)):(t.tag=0,ri&&a&&ei(t),wo(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,s=(r=s._init)(s._payload),t.type=s,r=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(s),e=no(s,e),r){case 0:t=Io(null,t,s,e,n);break e;case 1:t=To(null,t,s,e,n);break e;case 11:t=No(null,t,s,e,n);break e;case 14:t=jo(null,t,s,no(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,Io(e,t,s,r=t.elementType===s?r:no(s,r),n);case 1:return s=t.type,r=t.pendingProps,To(e,t,s,r=t.elementType===s?r:no(s,r),n);case 3:e:{if(Ao(t),null===e)throw Error(i(387));s=t.pendingProps,r=(a=t.memoizedState).element,Mi(e,t),$i(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ro(e,t,s,n,r=co(Error(i(423)),t));break e}if(s!==r){t=Ro(e,t,s,n,r=co(Error(i(424)),t));break e}for(si=cr(t.stateNode.containerInfo.firstChild),ni=t,ri=!0,ii=null,n=wi(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),s===r){t=Wo(e,t,n);break e}wo(e,t,s,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),s=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,o=r.children,nr(s,r)?o=null:null!==a&&nr(s,a)&&(t.flags|=32),So(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Fo(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=bi(t,null,s,n):wo(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,No(e,t,s,r=t.elementType===s?r:no(s,r),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,kr(Ni,s._currentValue),s._currentValue=o,null!==a)if(os(a.value,o)){if(a.children===r.children&&!Tr.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===s){if(1===a.tag){(c=Ui(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ii(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ii(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Ti(t,n),s=s(r=Ci(r)),t.flags|=1,wo(e,t,s,n),t.child;case 14:return r=no(s=t.type,t.pendingProps),jo(e,t,s,r=no(s.type,r),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:no(s,r),qo(e,t),t.tag=1,Rr(s)?(e=!0,Lr(t)):e=!1,Ti(t,n),ao(t,s,r),lo(t,s,r,n),Co(null,t,s,!0,e,n);case 19:return Ho(e,t,n);case 22:return ko(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}qc(t,a,e,r)}else a=function(e,t,n,s,r){if(r){if("function"===typeof s){var i=s;s=function(){var e=Wc(a);i.call(e)}}var a=Hc(t,s,e,0,null,!1,0,"",eu);return e._reactRootContainer=a,e[pr]=a.current,$s(8===e.nodeType?e.parentNode:e),hc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof s){var o=s;s=function(){var e=Wc(l);o.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[pr]=l.current,$s(8===e.nodeType?e.parentNode:e),hc(function(){qc(t,l,n,s)}),l}(n,t,e,r,s);return Wc(a)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc(function(){qc(null,e,null,null)}),t[pr]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Cl)&&(Hl=Xe()+500,$r()))}break;case 13:hc(function(){var t=Di(e,1);if(null!==t){var n=nc();rc(t,e,1,n)}}),Gc(e,1)}},Nt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)rc(t,e,134217728,nc());Gc(e,134217728)}},jt=function(e){if(13===e.tag){var t=sc(e),n=Di(e,t);if(null!==n)rc(n,e,t,nc());Gc(e,t)}},Et=function(){return xt},_t=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Ne=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=wr(s);if(!r)throw Error(i(90));K(s),J(s,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=dc,Te=hc;var nu={usingClientEntryPoint:!1,Events:[xr,br,wr,ke,Se,dc]},su={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{rt=iu.inject(ru),it=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,s="",r=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,s,r),e[pr]=t.current,$s(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var s=null!=n&&n.hydratedSources||null,r=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,r,0,a,o),e[pr]=t.current,$s(e),s)for(e=0;e<s.length;e++)r=(r=(n=s[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(hc(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return tu(e,t,n,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(s,r){if(1&r&&(s=this(s)),8&r)return s;if("object"===typeof s&&s){if(4&r&&s.__esModule)return s;if(16&r&&"function"===typeof s.then)return s}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&s;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>s[e]);return a.default=()=>s,n.d(i,a),i}})(),n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s,r=n(43),i=n.t(r,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,s){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=s.Pop,h=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=s.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:b.location,delta:t})}function x(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let b={get action(){return l},get location(){return e(i,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(u,y),h=e,()=>{i.removeEventListener(u,y),h=null}},createHref:e=>t(i,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=s.Push;let r=p(b.location,e,t);n&&n(r,e),g=v()+1;let c=m(r,g),u=b.createHref(r);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(u)}a&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,t){l=s.Replace;let r=p(b.location,e,t);n&&n(r,e),g=v();let i=m(r,g),c=b.createHref(r);o.replaceState(i,"",c),a&&h&&h({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,s){let r=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=P(r);a=A(i[o],e,s)}return a}function w(e,t,n,s){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===s&&(s="");let r=(e,r,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(s),'Absolute route path "'+a.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(s.length));let o=F([s,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let s of N(e.path))r(e,t,s);else r(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===s.length)return r?[i,""]:[i];let a=N(s.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),r&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,E=3,_=2,k=1,S=10,I=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),s=n.length;return n.some(T)&&(s+=I),t&&(s+=_),n.filter(e=>!T(e)).reduce((e,t)=>e+(j.test(t)?E:""===t?k:S),s)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:s}=e,r={},i="/",a=[];for(let o=0;o<s.length;++o){let e=s[o],l=o===s.length-1,c="/"===i?t:t.slice(i.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!s[s.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),a.push({params:r,pathname:F([i,u.pathname]),pathnameBase:V(F([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=F([i,u.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let i=new RegExp(r,t?void 0:"i");return[i,s]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((e,t,n)=>{let{paramName:s,isOptional:r}=t;if("*"===s){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[s]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function O(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function U(e,t,n,s){let r;void 0===s&&(s=!1),"string"===typeof e?r=g(e):(r=c({},e),d(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let i,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:s="",hash:r=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:z(s),hash:$(r)}}(r,i),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],q=(new Set(H),["get",...H]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},W.apply(this,arguments)}const K=r.createContext(null);const G=r.createContext(null);const Y=r.createContext(null);const Q=r.createContext(null);const X=r.createContext({outlet:null,matches:[],isDataRoute:!1});const J=r.createContext(null);function Z(){return null!=r.useContext(Q)}function ee(){return Z()||d(!1),r.useContext(Q).location}function te(e){r.useContext(Y).static||r.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=r.useRef(!1);return te(()=>{n.current=!0}),r.useCallback(function(s,r){void 0===r&&(r={}),n.current&&("number"===typeof s?e.navigate(s):e.navigate(s,W({fromRouteId:t},r)))},[e,t])}():function(){Z()||d(!1);let e=r.useContext(K),{basename:t,future:n,navigator:s}=r.useContext(Y),{matches:i}=r.useContext(X),{pathname:a}=ee(),o=JSON.stringify(M(i,n.v7_relativeSplatPath)),l=r.useRef(!1);return te(()=>{l.current=!0}),r.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void s.go(n);let i=U(n,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:F([t,i.pathname])),(r.replace?s.replace:s.push)(i,r.state,r)},[t,s,o,a,e])}()}function se(e,t){let{relative:n}=void 0===t?{}:t,{future:s}=r.useContext(Y),{matches:i}=r.useContext(X),{pathname:a}=ee(),o=JSON.stringify(M(i,s.v7_relativeSplatPath));return r.useMemo(()=>U(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function re(e,t,n,i){Z()||d(!1);let{navigator:a}=r.useContext(Y),{matches:o}=r.useContext(X),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,m=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=m;let f=h.pathname||"/",v=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(e,{pathname:v});let b=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,i);return t&&b?r.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:s.Pop}},b):b}function ie(){let e=function(){var e;let t=r.useContext(J),n=me(de.UseRouteError),s=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[s]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const ae=r.createElement(ie,null);class oe extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:s}=e,i=r.useContext(K);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},s)}function ce(e,t,n,s){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===s&&(s=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=s)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:s}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||r){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,s,i)=>{let a,d=!1,h=null,m=null;var p;n&&(a=l&&s.route.id?l[s.route.id]:void 0,h=s.route.errorElement||ae,c&&(u<0&&0===i?(p="route-fallback",!1||fe[p]||(fe[p]=!0),d=!0,m=null):u===i&&(d=!0,m=s.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?h:d?m:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(le,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===i)?r.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=r.useContext(K);return t||d(!1),t}function me(e){let t=r.useContext(G);return t||d(!1),t}function pe(e){let t=function(){let e=r.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const fe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ve(e){let{to:t,replace:n,state:s,relative:i}=e;Z()||d(!1);let{future:a,static:o}=r.useContext(Y),{matches:l}=r.useContext(X),{pathname:c}=ee(),u=ne(),h=U(t,M(l,a.v7_relativeSplatPath),c,"path"===i),m=JSON.stringify(h);return r.useEffect(()=>u(JSON.parse(m),{replace:n,state:s,relative:i}),[u,m,i,n,s]),null}function ye(e){d(!1)}function xe(e){let{basename:t="/",children:n=null,location:i,navigationType:a=s.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=r.useMemo(()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof i&&(i=g(i));let{pathname:m="/",search:p="",hash:f="",state:v=null,key:y="default"}=i,x=r.useMemo(()=>{let e=D(m,u);return null==e?null:{location:{pathname:e,search:p,hash:f,state:v,key:y},navigationType:a}},[u,m,p,f,v,y,a]);return null==x?null:r.createElement(Y.Provider,{value:h},r.createElement(Q.Provider,{children:n,value:x}))}function be(e){let{children:t,location:n}=e;return re(we(t),n)}new Promise(()=>{});r.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,s)=>{if(!r.isValidElement(e))return;let i=[...t,s];if(e.type===r.Fragment)return void n.push.apply(n,we(e.props.children,i));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,i)),n.push(a)}),n}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ne.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}function Ee(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(e=>[n,e]):[[n,s]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(lb){}new Map;const ke=i.startTransition;l.flushSync,i.useId;function Se(e){let{basename:t,children:n,future:s,window:i}=e,a=r.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:s,hash:r}=e.location;return p("",{pathname:n,search:s,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=a.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},h=r.useCallback(e=>{d&&ke?ke(()=>u(e)):u(e)},[u,d]);return r.useLayoutEffect(()=>l.listen(h),[l,h]),r.useEffect(()=>ge(s),[s]),r.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:s})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=r.forwardRef(function(e,t){let n,{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:m}=e,p=je(e,_e),{basename:g}=r.useContext(Y),v=!1;if("string"===typeof u&&Te.test(u)&&(n=u,Ie))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(lb){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:s,navigator:i}=r.useContext(Y),{hash:a,pathname:o,search:l}=se(e,{relative:n}),c=o;return"/"!==s&&(c="/"===o?s:F([s,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),x=function(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=se(e,{relative:o});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==s?s:f(u)===f(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:m});return r.createElement("a",Ne({},p,{href:n||y,onClick:v||a?s:function(e){s&&s(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var Ae,Re;function Pe(e){let t=r.useRef(Ee(e)),n=r.useRef(!1),s=ee(),i=r.useMemo(()=>function(e,t){let n=Ee(e);return t&&t.forEach((e,s)=>{n.has(s)||t.getAll(s).forEach(e=>{n.append(s,e)})}),n}(s.search,n.current?null:t.current),[s.search]),a=ne(),o=r.useCallback((e,t)=>{const s=Ee("function"===typeof e?e(i):e);n.current=!0,a("?"+s,t)},[a,i]);return[i,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));const De=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&s+1<e.length&&56320===(64512&e.charCodeAt(s+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++s)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const t=e[r],i=r+1<e.length,a=i?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),s.push(n[c],n[u],n[d],n[h])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(De(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((31&r)<<6|63&i)}else if(r>239&&r<365){const i=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[s++]=String.fromCharCode(55296+(i>>10)),t[s++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[s++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],i=r<e.length?n[e.charAt(r)]:0;++r;const a=r<e.length?n[e.charAt(r)]:64;++r;const o=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==i||null==a||null==o)throw new Le;const l=t<<2|i>>4;if(s.push(l),64!==a){const e=i<<4&240|a>>2;if(s.push(e),64!==o){const e=a<<6&192|o;s.push(e)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(e){return function(e){const t=De(e);return Oe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ue=function(e){try{return Oe.decodeString(e,!0)}catch(lb){console.error("base64Decode failed: ",lb)}return null};function Fe(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ve=()=>{try{return Fe().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GEMINI_API_KEY:"AIzaSyDiY5QHNaKePD0Q5FoYP-5T50cmCYpKeTo"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(lb){return}const t=e&&Ue(e[1]);return t&&JSON.parse(t)})()}catch(lb){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${lb}`)}},ze=e=>{var t,n;return null===(n=null===(t=Ve())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$e=e=>{const t=ze(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Be=()=>{var e;return null===(e=Ve())||void 0===e?void 0:e.config},He=e=>{var t;return null===(t=Ve())||void 0===t?void 0:t[`_${e}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function We(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ke(e){return(await fetch(e,{credentials:"include"})).ok}function Ge(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(i)),""].join(".")}const Ye={};let Qe=!1;function Xe(e,t){if("undefined"===typeof window||"undefined"===typeof document||!We(window.location.host)||Ye[e]===t||Ye[e]||Qe)return;function n(e){return`__firebase__banner__${e}`}Ye[e]=t;const s="__firebase__banner",r=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ye))Ye[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Qe=!0,function(){const e=document.getElementById(s);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(s),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}r?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Je(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ze(){var e;const t=null===(e=Ve())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(lb){return!1}}function et(){return!Ze()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){try{return"object"===typeof indexedDB}catch(lb){return!1}}class nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,s=this.errors[e],r=s?function(e,t){return e.replace(rt,(e,n)=>{const s=t[n];return null!=s?String(s):`<${n}?>`})}(s,t):"Error",i=`${this.serviceName}: ${r} (${n}).`;return new nt(n,i,t)}}const rt=/\{\$([^}]+)}/g;function it(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const n=e[r],i=t[r];if(at(n)&&at(i)){if(!it(n,i))return!1}else if(n!==i)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function at(e){return null!==e&&"object"===typeof e}function ot(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function lt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,s]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(s)}}),t}function ct(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");s=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===s.next&&(s.next=dt),void 0===s.error&&(s.error=dt),void 0===s.complete&&(s.complete=dt);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(lb){}}),this.observers.push(s),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(lb){"undefined"!==typeof console&&console.error&&console.error(lb)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}function ht(e){return e&&e._delegate?e._delegate:e}class mt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pt="[DEFAULT]";class ft{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(lb){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),s=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(lb){if(s)return null;throw lb}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pt})}catch(lb){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(lb){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&i.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(s))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(s){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===pt?void 0:r),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch(i){}var r;return s||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.component?this.component.multipleInstances?e:pt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ft(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vt=[];var yt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yt||(yt={}));const xt={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},bt=yt.INFO,wt={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},Nt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),s=wt[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];console[s](`[${n}]  ${e.name}:`,...i)};class jt{constructor(e){this.name=e,this._logLevel=bt,this._logHandler=Nt,this._userLogHandler=null,vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?xt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}let Et,_t;const kt=new WeakMap,St=new WeakMap,It=new WeakMap,Tt=new WeakMap,Ct=new WeakMap;let At={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return St.get(e);if("objectStoreNames"===t)return e.objectStoreNames||It.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Rt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_t||(_t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.apply(Ot(this),n),Dt(kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Dt(e.apply(Ot(this),n))}:function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];const i=e.call(Ot(this),t,...s);return It.set(i,t.sort?t.sort():[t]),Dt(i)}}function Pt(e){return"function"===typeof e?Rt(e):(e instanceof IDBTransaction&&function(e){if(St.has(e))return;const t=new Promise((t,n)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",i),e.removeEventListener("abort",i)},r=()=>{t(),s()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",i),e.addEventListener("abort",i)});St.set(e,t)}(e),t=e,(Et||(Et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,At):e);var t}function Dt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",i)},r=()=>{t(Dt(e.result)),s()},i=()=>{n(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&kt.set(t,e)}).catch(()=>{}),Ct.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);const t=Pt(e);return t!==e&&(Tt.set(e,t),Ct.set(t,e)),t}const Ot=e=>Ct.get(e);const Lt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],Ut=new Map;function Ft(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ut.get(t))return Ut.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=Mt.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!r&&!Lt.includes(n))return;const i=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return s&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),r&&t.done]))[0]};return Ut.set(t,i),i}At=(e=>({...e,get:(t,n,s)=>Ft(t,n)||e.get(t,n,s),has:(t,n)=>!!Ft(t,n)||e.has(t,n)}))(At);class Vt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const zt="@firebase/app",$t="0.13.2",Bt=new jt("@firebase/app"),Ht="@firebase/app-compat",qt="@firebase/analytics-compat",Wt="@firebase/analytics",Kt="@firebase/app-check-compat",Gt="@firebase/app-check",Yt="@firebase/auth",Qt="@firebase/auth-compat",Xt="@firebase/database",Jt="@firebase/data-connect",Zt="@firebase/database-compat",en="@firebase/functions",tn="@firebase/functions-compat",nn="@firebase/installations",sn="@firebase/installations-compat",rn="@firebase/messaging",an="@firebase/messaging-compat",on="@firebase/performance",ln="@firebase/performance-compat",cn="@firebase/remote-config",un="@firebase/remote-config-compat",dn="@firebase/storage",hn="@firebase/storage-compat",mn="@firebase/firestore",pn="@firebase/ai",fn="@firebase/firestore-compat",gn="firebase",vn="[DEFAULT]",yn={[zt]:"fire-core",[Ht]:"fire-core-compat",[Wt]:"fire-analytics",[qt]:"fire-analytics-compat",[Gt]:"fire-app-check",[Kt]:"fire-app-check-compat",[Yt]:"fire-auth",[Qt]:"fire-auth-compat",[Xt]:"fire-rtdb",[Jt]:"fire-data-connect",[Zt]:"fire-rtdb-compat",[en]:"fire-fn",[tn]:"fire-fn-compat",[nn]:"fire-iid",[sn]:"fire-iid-compat",[rn]:"fire-fcm",[an]:"fire-fcm-compat",[on]:"fire-perf",[ln]:"fire-perf-compat",[cn]:"fire-rc",[un]:"fire-rc-compat",[dn]:"fire-gcs",[hn]:"fire-gcs-compat",[mn]:"fire-fst",[fn]:"fire-fst-compat",[pn]:"fire-vertex","fire-js":"fire-js",[gn]:"fire-js-all"},xn=new Map,bn=new Map,wn=new Map;function Nn(e,t){try{e.container.addComponent(t)}catch(lb){Bt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,lb)}}function jn(e){const t=e.name;if(wn.has(t))return Bt.debug(`There were multiple attempts to register component ${t}.`),!1;wn.set(t,e);for(const n of xn.values())Nn(n,e);for(const n of bn.values())Nn(n,e);return!0}function En(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _n(e){return null!==e&&void 0!==e&&void 0!==e.settings}const kn=new st("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Sn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const In="11.10.0";function Tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=Object.assign({name:vn,automaticDataCollectionEnabled:!0},t),r=s.name;if("string"!==typeof r||!r)throw kn.create("bad-app-name",{appName:String(r)});if(n||(n=Be()),!n)throw kn.create("no-options");const i=xn.get(r);if(i){if(it(n,i.options)&&it(s,i.config))return i;throw kn.create("duplicate-app",{appName:r})}const a=new gt(r);for(const l of wn.values())a.addComponent(l);const o=new Sn(n,s,a);return xn.set(r,o),o}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;const t=xn.get(e);if(!t&&e===vn&&Be())return Tn();if(!t)throw kn.create("no-app",{appName:e});return t}function An(e,t,n){var s;let r=null!==(s=yn[e])&&void 0!==s?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Bt.warn(e.join(" "))}jn(new mt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Rn="firebase-heartbeat-store";let Pn=null;function Dn(){return Pn||(Pn=function(e,t){let{blocked:n,upgrade:s,blocking:r,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Dt(a);return s&&a.addEventListener("upgradeneeded",e=>{s(Dt(a.result),e.oldVersion,e.newVersion,Dt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Rn)}catch(lb){console.warn(lb)}}}).catch(e=>{throw kn.create("idb-open",{originalErrorMessage:e.message})})),Pn}async function On(e,t){try{const n=(await Dn()).transaction(Rn,"readwrite"),s=n.objectStore(Rn);await s.put(t,Ln(e)),await n.done}catch(lb){if(lb instanceof nt)Bt.warn(lb.message);else{const t=kn.create("idb-set",{originalErrorMessage:null===lb||void 0===lb?void 0:lb.message});Bt.warn(t.message)}}}function Ln(e){return`${e.name}!${e.options.appId}`}class Mn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Un();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(e=>e.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(lb){Bt.warn(lb)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Un(),{heartbeatsToSend:n,unsentEntries:s}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let s=e.slice();for(const r of e){const e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),Vn(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Vn(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}(this._heartbeatsCache.heartbeats),r=Me(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(lb){return Bt.warn(lb),""}}}function Un(){return(new Date).toISOString().substring(0,10)}class Fn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!tt()&&new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dn()).transaction(Rn),n=await t.objectStore(Rn).get(Ln(e));return await t.done,n}catch(lb){if(lb instanceof nt)Bt.warn(lb.message);else{const t=kn.create("idb-get",{originalErrorMessage:null===lb||void 0===lb?void 0:lb.message});Bt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return On(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return On(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Vn(e){return Me(JSON.stringify({version:2,heartbeats:e})).length}var zn;zn="",jn(new mt("platform-logger",e=>new Vt(e),"PRIVATE")),jn(new mt("heartbeat",e=>new Mn(e),"PRIVATE")),An(zt,$t,zn),An(zt,$t,"esm2017"),An("fire-js","");function $n(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Bn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hn=Bn,qn=new st("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wn=new jt("@firebase/auth");function Kn(e){if(Wn.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];Wn.error(`Auth (${In}): ${e}`,...n)}}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];throw Jn(e,...n)}function Yn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return Jn(e,...n)}function Qn(e,t,n){const s=Object.assign(Object.assign({},Hn()),{[t]:n});return new st("auth","Firebase",s).create(t,{appName:e.name})}function Xn(e){return Qn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if("string"!==typeof e){const t=n[0],s=[...n.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(t,...s)}return qn.create(e,...n)}function Zn(e,t){if(!e){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];throw Jn(t,...s)}}function es(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Kn(t),new Error(t)}function ts(e,t){e||es(t)}function ns(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ss(){return"http:"===rs()||"https:"===rs()}function rs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function is(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ss()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class as{constructor(e,t){this.shortDelay=e,this.longDelay=t,ts(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return is()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function os(e,t){ts(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ls{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},us=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ds=new as(3e4,6e4);function hs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ms(e,t,n,s){return ps(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let r={},i={};s&&("GET"===t?i=s:r={body:JSON.stringify(s)});const a=ot(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},r);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&We(e.emulatorConfig.host)&&(l.credentials="include"),ls.fetch()(await gs(e,e.config.apiHost,n,a),l)})}async function ps(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},cs),t);try{const t=new ys(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await r.json();if("needConfirmation"in i)throw xs(e,"account-exists-with-different-credential",i);if(r.ok&&!("errorMessage"in i))return i;{const t=r.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw xs(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw xs(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw xs(e,"user-disabled",i);const o=s[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Qn(e,o,a);Gn(e,o)}}catch(lb){if(lb instanceof nt)throw lb;Gn(e,"network-request-failed",{message:String(lb)})}}async function fs(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await ms(e,t,n,s,r);return"mfaPendingCredential"in i&&Gn(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function gs(e,t,n,s){const r=`${t}${n}?${s}`,i=e,a=i.config.emulator?os(e.config,r):`${e.config.apiScheme}://${r}`;if(us.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function vs(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ys{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Yn(this.auth,"network-request-failed")),ds.get())})}}function xs(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Yn(e,t,s);return r.customData._tokenResponse=n,r}function bs(e){return void 0!==e&&void 0!==e.enterprise}class ws{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vs(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ns(e,t){return ms(e,"GET","/v2/recaptchaConfig",hs(e,t))}async function js(e,t){return ms(e,"POST","/v1/accounts:lookup",t)}function Es(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(lb){}}function _s(e){return 1e3*Number(e)}function ks(e){const[t,n,s]=e.split(".");if(void 0===t||void 0===n||void 0===s)return Kn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ue(n);return e?JSON.parse(e):(Kn("Failed to decode base64 JWT payload"),null)}catch(lb){return Kn("Caught error parsing JWT payload as JSON",null===lb||void 0===lb?void 0:lb.toString()),null}}function Ss(e){const t=ks(e);return Zn(t,"internal-error"),Zn("undefined"!==typeof t.exp,"internal-error"),Zn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Is(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(lb){throw lb instanceof nt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(lb)&&e.auth.currentUser===e&&await e.auth.signOut(),lb}}class Ts{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(lb){return void("auth/network-request-failed"===(null===lb||void 0===lb?void 0:lb.code)&&this.schedule(!0))}this.schedule()}}class Cs{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Es(this.lastLoginAt),this.creationTime=Es(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function As(e){var t;const n=e.auth,s=await e.getIdToken(),r=await Is(e,js(n,{idToken:s}));Zn(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Rs(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cs(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function Rs(e){return e.map(e=>{var{providerId:t}=e,n=$n(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Ps{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zn(e.idToken,"internal-error"),Zn("undefined"!==typeof e.idToken,"internal-error"),Zn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Ss(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zn(0!==e.length,"internal-error");const t=Ss(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Zn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:r}=await async function(e,t){const n=await ps(e,{},async()=>{const n=ot({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,i=await gs(e,s,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&We(e.emulatorConfig.host)&&(o.credentials="include"),ls.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,s,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:r}=t,i=new Ps;return n&&(Zn("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),s&&(Zn("string"===typeof s,"internal-error",{appName:e}),i.accessToken=s),r&&(Zn("number"===typeof r,"internal-error",{appName:e}),i.expirationTime=r),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ps,this.toJSON())}_performRefresh(){return es("not implemented")}}function Ds(e,t){Zn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Os{constructor(e){var{uid:t,auth:n,stsTokenManager:s}=e,r=$n(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Cs(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Is(this,this.stsTokenManager.getToken(this.auth,e));return Zn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ht(e),s=await n.getIdToken(t),r=ks(s);Zn(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i="object"===typeof r.firebase?r.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Es(_s(r.auth_time)),issuedAtTime:Es(_s(r.iat)),expirationTime:Es(_s(r.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ht(e);await As(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Zn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await As(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Xn(this.auth));const e=await this.getIdToken();return await Is(this,async function(e,t){return ms(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,r,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(s=t.email)&&void 0!==s?s:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,f=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:N}=t;Zn(y&&N,e,"internal-error");const j=Ps.fromJSON(this.name,N);Zn("string"===typeof y,e,"internal-error"),Ds(u,e.name),Ds(d,e.name),Zn("boolean"===typeof x,e,"internal-error"),Zn("boolean"===typeof b,e,"internal-error"),Ds(h,e.name),Ds(m,e.name),Ds(p,e.name),Ds(f,e.name),Ds(g,e.name),Ds(v,e.name);const E=new Os({uid:y,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:m,phoneNumber:h,tenantId:p,stsTokenManager:j,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map(e=>Object.assign({},e))),f&&(E._redirectEventId=f),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=new Ps;s.updateFromServerResponse(t);const r=new Os({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await As(r),r}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];Zn(void 0!==s.localId,"internal-error");const r=void 0!==s.providerUserInfo?Rs(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(null===r||void 0===r?void 0:r.length),a=new Ps;a.updateFromIdToken(n);const o=new Os({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Cs(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(o,l),o}}const Ls=new Map;function Ms(e){ts(e instanceof Function,"Expected a class definition");let t=Ls.get(e);return t?(ts(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ls.set(e,t),t)}class Us{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Us.type="NONE";const Fs=Us;function Vs(e,t,n){return`firebase:${e}:${t}:${n}`}class zs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:r}=this.auth;this.fullUserKey=Vs(this.userKey,s.apiKey,r),this.fullPersistenceKey=Vs("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await js(this.auth,{idToken:e}).catch(()=>{});return t?Os._fromGetAccountInfoResponse(this.auth,t,e):null}return Os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new zs(Ms(Fs),e,n);const s=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=s[0]||Ms(Fs);const i=Vs(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const s=await js(e,{idToken:t}).catch(()=>{});if(!s)break;n=await Os._fromGetAccountInfoResponse(e,s,t)}else n=Os._fromJSON(e,t);c!==r&&(a=n),r=c;break}}catch(l){}const o=s.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(i)}catch(l){}})),new zs(r,e,n)):new zs(r,e,n)}}function $s(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ws(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gs(t))return"Blackberry";if(Ys(t))return"Webos";if(Hs(t))return"Safari";if((t.includes("chrome/")||qs(t))&&!t.includes("edge/"))return"Chrome";if(Ks(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Bs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/firefox\//i.test(e)}function Hs(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/crios\//i.test(e)}function Ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/iemobile/i.test(e)}function Ks(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/android/i.test(e)}function Gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/blackberry/i.test(e)}function Ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/webos/i.test(e)}function Qs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xs(){return function(){const e=Je();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Js(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je();return Qs(e)||Ks(e)||Ys(e)||Gs(e)||/windows phone/i.test(e)||Ws(e)}function Zs(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$s(Je());break;case"Worker":t=`${$s(Je())}-${e}`;break;default:t=e}const s=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${In}/${s}`}class er{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,s)=>{try{n(e(t))}catch(lb){s(lb)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(lb){t.reverse();for(const s of t)try{s()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===lb||void 0===lb?void 0:lb.message})}}}class tr{constructor(e){var t,n,s,r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(s=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==s?s:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,s,r,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(s=o.containsLowercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class nr{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rr(this),this.idTokenSubscription=new rr(this),this.beforeStateQueue=new er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ms(t)),this._initializationPromise=this.queue(async()=>{var n,s,r;if(!this._deleted&&(this.persistenceManager=await zs.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(s=this._popupRedirectResolver)||void 0===s?void 0:s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(lb){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await js(this,{idToken:e}),n=await Os._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_n(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===s||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(s=a.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(lb){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(lb))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Zn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(lb){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await As(e)}catch(lb){if("auth/network-request-failed"!==(null===lb||void 0===lb?void 0:lb.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Xn(this));const t=e?ht(e):null;return t&&Zn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Zn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ms(e,"GET","/v2/passwordPolicy",hs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new tr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new st("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ms(e,"POST","/v2/accounts:revokeToken",hs(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ms(e)||this._popupRedirectResolver;Zn(t,this,"argument-error"),this.redirectPersistenceManager=await zs.create(this,[Ms(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zn(a,this,"internal-error"),a.then(()=>{i||r(this.currentUser)}),"function"===typeof t){const r=e.addObserver(t,n,s);return()=>{i=!0,r()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Wn.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];Wn.warn(`Auth (${In}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function sr(e){return ht(e)}class rr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ut(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Zn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ir={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ar(e){return ir.loadJS(e)}function or(e){return`__${e}${Math.floor(1e6*Math.random())}`}class lr{constructor(){this.enterprise=new cr}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cr{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ur="NO_RECAPTCHA";class dr{constructor(e){this.type="recaptcha-enterprise",this.auth=sr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,s){const r=window.grecaptcha;bs(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ur)})}):s(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new lr).execute("siteKey",{action:"verify"})}return new Promise((e,s)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Ns(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(s=>{if(void 0!==s.recaptchaKey){const n=new ws(s);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(r=>{if(!t&&bs(window.grecaptcha))n(r,e,s);else{if("undefined"===typeof window)return void s(new Error("RecaptchaVerifier is only supported in browser"));let t=ir.recaptchaEnterpriseScript;0!==t.length&&(t+=r),ar(t).then(()=>{n(r,e,s)}).catch(e=>{s(e)})}}).catch(e=>{s(e)})})}}async function hr(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new dr(e);let a;if(r)a=ur;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return s?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mr(e,t,n,s,r){var i,a;if("EMAIL_PASSWORD_PROVIDER"===r){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await hr(e,t,n,"getOobCode"===n);return s(e,r)}return s(e,t).catch(async r=>{if("auth/missing-recaptcha-token"===r.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const r=await hr(e,t,n,"getOobCode"===n);return s(e,r)}return Promise.reject(r)})}if("PHONE_PROVIDER"===r){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const r=await hr(e,t,n);return s(e,r).catch(async r=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===r.code||"auth/invalid-app-credential"===r.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const r=await hr(e,t,n,!1,!0);return s(e,r)}return Promise.reject(r)})}{const r=await hr(e,t,n,!1,!0);return s(e,r)}}return Promise.reject(r+" provider is not supported.")}async function pr(e){const t=sr(e),n=await Ns(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new ws(n);if(null==t.tenantId?t._agentRecaptchaConfig=s:t._tenantRecaptchaConfigs[t.tenantId]=s,s.isAnyProviderEnabled()){new dr(t).verify()}}function fr(e,t,n){const s=sr(e);Zn(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),i=gr(t),{host:a,port:o}=function(e){const t=gr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const e=r[1];return{host:e,port:vr(s.substr(e.length+1))}}{const[e,t]=s.split(":");return{host:e,port:vr(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${i}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator)return Zn(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),void Zn(it(c,s.config.emulator)&&it(u,s.emulatorConfig),s,"emulator-config-failed");s.config.emulator=c,s.emulatorConfig=u,s.settings.appVerificationDisabledForTesting=!0,We(a)?(Ke(`${i}//${a}${l}`),Xe("Auth",!0)):r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function gr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function vr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class yr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,t){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function xr(e,t){return ms(e,"POST","/v1/accounts:signUp",t)}async function br(e,t){return fs(e,"POST","/v1/accounts:signInWithPassword",hs(e,t))}async function wr(e,t){return ms(e,"POST","/v1/accounts:sendOobCode",hs(e,t))}async function Nr(e,t){return wr(e,t)}class jr extends yr{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new jr(e,t,"password")}static _fromEmailAndCode(e,t){return new jr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return mr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",br,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return fs(e,"POST","/v1/accounts:signInWithEmailLink",hs(e,t))}(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return mr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return fs(e,"POST","/v1/accounts:signInWithEmailLink",hs(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Er(e,t){return fs(e,"POST","/v1/accounts:signInWithIdp",hs(e,t))}class _r extends yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:s}=t,r=$n(t,["providerId","signInMethod"]);if(!n||!s)return null;const i=new _r(n,s);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){return Er(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Er(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Er(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot(t)}return e}}async function kr(e,t){return ms(e,"POST","/v1/accounts:sendVerificationCode",hs(e,t))}const Sr={USER_NOT_FOUND:"user-not-found"};class Ir extends yr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ir({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ir({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return fs(e,"POST","/v1/accounts:signInWithPhoneNumber",hs(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await fs(e,"POST","/v1/accounts:signInWithPhoneNumber",hs(e,t));if(n.temporaryProof)throw xs(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return fs(e,"POST","/v1/accounts:signInWithPhoneNumber",hs(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Sr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:s,temporaryProof:r}=e;return n||t||s||r?new Ir({verificationId:t,verificationCode:n,phoneNumber:s,temporaryProof:r}):null}}class Tr{constructor(e){var t,n,s,r,i,a;const o=lt(ct(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(s=o.mode)&&void 0!==s?s:null);Zn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=lt(ct(e)).link,n=t?lt(ct(t)).deep_link_id:null,s=lt(ct(e)).deep_link_id;return(s?lt(ct(s)).link:null)||s||n||t||e}(e);try{return new Tr(t)}catch(n){return null}}}class Cr{constructor(){this.providerId=Cr.PROVIDER_ID}static credential(e,t){return jr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Tr.parseLink(t);return Zn(n,"argument-error"),jr._fromEmailAndCode(e,n.code,n.tenantId)}}Cr.PROVIDER_ID="password",Cr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Cr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ar{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rr extends Ar{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pr extends Rr{constructor(){super("facebook.com")}static credential(e){return _r._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch(n){return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pr.PROVIDER_ID="facebook.com";class Dr extends Rr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _r._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Dr.credential(n,s)}catch(r){return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com",Dr.PROVIDER_ID="google.com";class Or extends Rr{constructor(){super("github.com")}static credential(e){return _r._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch(n){return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com",Or.PROVIDER_ID="github.com";class Lr extends Rr{constructor(){super("twitter.com")}static credential(e,t){return _r._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Lr.credential(n,s)}catch(r){return null}}}async function Mr(e,t){return fs(e,"POST","/v1/accounts:signUp",hs(e,t))}Lr.TWITTER_SIGN_IN_METHOD="twitter.com",Lr.PROVIDER_ID="twitter.com";class Ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Os._fromIdTokenResponse(e,n,s),i=Fr(n);return new Ur({user:r,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=Fr(n);return new Ur({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function Fr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Vr extends nt{constructor(e,t,n,s){var r;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Vr.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new Vr(e,t,n,s)}}function zr(e,t,n,s){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Vr._fromErrorAndOperation(e,n,t,s);throw n})}async function $r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=await Is(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ur._forOperation(e,"link",s)}async function Br(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:s}=e;if(_n(s.app))return Promise.reject(Xn(s));const r="reauthenticate";try{const i=await Is(e,zr(s,r,t,e),n);Zn(i.idToken,s,"internal-error");const a=ks(i.idToken);Zn(a,s,"internal-error");const{sub:o}=a;return Zn(e.uid===o,s,"user-mismatch"),Ur._forOperation(e,r,i)}catch(lb){throw"auth/user-not-found"===(null===lb||void 0===lb?void 0:lb.code)&&Gn(s,"user-mismatch"),lb}}async function Hr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_n(e.app))return Promise.reject(Xn(e));const s="signIn",r=await zr(e,s,t),i=await Ur._fromIdTokenResponse(e,s,r);return n||await e._updateCurrentUser(i.user),i}async function qr(e,t){return Hr(sr(e),t)}function Wr(e,t,n){var s;Zn((null===(s=n.url)||void 0===s?void 0:s.length)>0,e,"invalid-continue-uri"),Zn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Zn("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Zn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Zn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Kr(e){const t=sr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Gr(e,t){let{displayName:n,photoURL:s}=t;if(void 0===n&&void 0===s)return;const r=ht(e),i={idToken:await r.getIdToken(),displayName:n,photoUrl:s,returnSecureToken:!0},a=await Is(r,async function(e,t){return ms(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Yr(e,t){return ms(e,"POST","/v2/accounts/mfaEnrollment:start",hs(e,t))}new WeakMap;const Qr="__sak";class Xr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qr,"1"),this.storage.removeItem(Qr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Jr extends Xr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Js(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Xs()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,10):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jr.type="LOCAL";const Zr=Jr;function ei(e){var t,n;const s=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp(`${s}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(r))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function ti(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class ni{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ti(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ei(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ti(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=ti(e);if(window.cookieStore){const e=e=>{const s=e.changed.find(e=>e.name===n);s&&t(s.value);e.deleted.find(e=>e.name===n)&&t(null)},s=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,s),window.cookieStore.addEventListener("change",e)}let s=ei(n);const r=setInterval(()=>{const e=ei(n);e!==s&&(t(e),s=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(r))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ni.type="COOKIE";class si extends Xr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}si.type="SESSION";const ri=si;class ii{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ii(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:r}=t.data,i=this.handlersMap[s];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(i).map(async e=>e(t.origin,r)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let s=0;s<t;s++)n+=Math.floor(10*Math.random());return e+n}ii.receivers=[];class oi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const s="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,i;return new Promise((a,o)=>{const l=ai("",20);s.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function li(){return window}function ci(){return"undefined"!==typeof li().WorkerGlobalScope&&"function"===typeof li().importScripts}const ui="firebaseLocalStorageDb",di="firebaseLocalStorage",hi="fbase_key";class mi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pi(e,t){return e.transaction([di],t?"readwrite":"readonly").objectStore(di)}function fi(){const e=indexedDB.open(ui,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(di,{keyPath:hi})}catch(lb){n(lb)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(di)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ui);return new mi(e).toPromise()}(),t(await fi()))})})}async function gi(e,t,n){const s=pi(e,!0).put({[hi]:t,value:n});return new mi(s).toPromise()}function vi(e,t){const n=pi(e,!0).delete(t);return new mi(n).toPromise()}class yi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await fi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(lb){if(t++>3)throw lb;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ci()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ii._getInstance(ci()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new oi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fi();return await gi(e,Qr,"1"),await vi(e,Qr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gi(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=pi(e,!1).get(t),s=await new mi(n).toPromise();return void 0===s?null:s.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=pi(e,!1).getAll();return new mi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:s,value:r}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}yi.type="LOCAL";const xi=yi;function bi(e,t){return ms(e,"POST","/v2/accounts/mfaSignIn:start",hs(e,t))}or("rcb"),new as(3e4,6e4);const wi="recaptcha";async function Ni(e,t,n){var s;if(!e._getRecaptchaConfig())try{await pr(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){Zn("enroll"===t.type,e,"internal-error");const s={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=mr(e,s,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ur){Zn((null===n||void 0===n?void 0:n.type)===wi,e,"argument-error");return Yr(e,await ji(e,t,n))}return Yr(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Zn("signin"===t.type,e,"internal-error");const i=(null===(s=r.multiFactorHint)||void 0===s?void 0:s.uid)||r.multiFactorUid;Zn(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=mr(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ur){Zn((null===n||void 0===n?void 0:n.type)===wi,e,"argument-error");return bi(e,await ji(e,t,n))}return bi(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},s=mr(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ur){Zn((null===n||void 0===n?void 0:n.type)===wi,e,"argument-error");return kr(e,await ji(e,t,n))}return kr(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ji(e,t,n){Zn(n.type===wi,e,"argument-error");const s=await n.verify();Zn("string"===typeof s,e,"argument-error");const r=Object.assign({},t);if("phoneEnrollmentInfo"in r){const e=r.phoneEnrollmentInfo.phoneNumber,t=r.phoneEnrollmentInfo.captchaResponse,n=r.phoneEnrollmentInfo.clientType,i=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:s,captchaResponse:t,clientType:n,recaptchaVersion:i}}),r}if("phoneSignInInfo"in r){const e=r.phoneSignInInfo.captchaResponse,t=r.phoneSignInInfo.clientType,n=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:e,clientType:t,recaptchaVersion:n}}),r}return Object.assign(r,{recaptchaToken:s}),r}class Ei{constructor(e){this.providerId=Ei.PROVIDER_ID,this.auth=sr(e)}verifyPhoneNumber(e,t){return Ni(this.auth,e,ht(t))}static credential(e,t){return Ir._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ei.credentialFromTaggedObject(t)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:s}=t;return n&&s?Ir._fromTokenResponse(n,s):null}}function _i(e,t){return t?Ms(t):(Zn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ei.PROVIDER_ID="phone",Ei.PHONE_SIGN_IN_METHOD="phone";class ki extends yr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Er(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Er(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Er(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Si(e){return Hr(e.auth,new ki(e),e.bypassAuthState)}function Ii(e){const{auth:t,user:n}=e;return Zn(n,t,"internal-error"),Br(n,new ki(e),e.bypassAuthState)}async function Ti(e){const{auth:t,user:n}=e;return Zn(n,t,"internal-error"),$r(n,new ki(e),e.bypassAuthState)}class Ci{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(lb){this.reject(lb)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:r,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(lb){this.reject(lb)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Si;case"linkViaPopup":case"linkViaRedirect":return Ti;case"reauthViaPopup":case"reauthViaRedirect":return Ii;default:Gn(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ai=new as(2e3,1e4);class Ri extends Ci{constructor(e,t,n,s,r){super(e,t,s,r),this.provider=n,this.authWindow=null,this.pollId=null,Ri.currentPopupAction&&Ri.currentPopupAction.cancel(),Ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zn(e,this.auth,"internal-error"),e}async onExecution(){ts(1===this.filter.length,"Popup operations only handle one event");const e=ai();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ai.get())};e()}}Ri.currentPopupAction=null;const Pi=new Map;class Di extends Ci{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Pi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mi(t),s=Li(e);if(!await s._isAvailable())return!1;const r="true"===await s._get(n);return await s._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(lb){e=()=>Promise.reject(lb)}Pi.set(this.auth._key(),e)}return this.bypassAuthState||Pi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Oi(e,t){Pi.set(e._key(),t)}function Li(e){return Ms(e._redirectPersistence)}function Mi(e){return Vs("pendingRedirect",e.config.apiKey,e.name)}async function Ui(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_n(e.app))return Promise.reject(Xn(e));const s=sr(e),r=_i(s,t),i=new Di(s,r,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,t)),a}class Fi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zi(e)){const s=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vi(e))}saveEventToCache(e){this.cachedEventUids.add(Vi(e)),this.lastProcessedEventTime=Date.now()}}function Vi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function zi(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const $i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bi=/^https?/;async function Hi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ms(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const s of t)try{if(qi(s))return}catch(n){}Gn(e,"unauthorized-domain")}function qi(e){const t=ns(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===s?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===s}if(!Bi.test(n))return!1;if($i.test(e))return s===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const Wi=new as(3e4,6e4);function Ki(){const e=li().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Gi(e){return new Promise((t,n)=>{var s,r,i;function a(){Ki(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ki(),n(Yn(e,"network-request-failed"))},timeout:Wi.get()})}if(null===(r=null===(s=li().gapi)||void 0===s?void 0:s.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=li().gapi)||void 0===i?void 0:i.load)){const t=or("iframefcb");return li()[t]=()=>{gapi.load?a():n(Yn(e,"network-request-failed"))},ar(`${ir.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Yi=null,e})}let Yi=null;const Qi=new as(5e3,15e3),Xi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ji=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zi(e){const t=e.config;Zn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?os(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:In},r=Ji.get(e.config.apiHost);r&&(s.eid=r);const i=e._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${ot(s).slice(1)}`}async function ea(e){const t=await function(e){return Yi=Yi||Gi(e),Yi}(e),n=li().gapi;return Zn(n,e,"internal-error"),t.open({where:document.body,url:Zi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xi,dontclear:!0},t=>new Promise(async(n,s)=>{await t.restyle({setHideOnLeave:!1});const r=Yn(e,"network-request-failed"),i=li().setTimeout(()=>{s(r)},Qi.get());function a(){li().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{s(r)})}))}const ta={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class na{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(lb){}}}function sa(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ta),{width:s.toString(),height:r.toString(),top:i,left:a}),c=Je().toLowerCase();n&&(o=qs(c)?"_blank":n),Bs(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,s]=t;return`${e}${n}=${s},`},"");if(function(){var e;return Qs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}(t||"",o),new na(null);const d=window.open(t||"",o,u);Zn(d,e,"popup-blocked");try{d.focus()}catch(lb){}return new na(d)}const ra="__/auth/handler",ia="emulator/auth/handler",aa=encodeURIComponent("fac");async function oa(e,t,n,s,r,i){Zn(e.config.authDomain,e,"auth-domain-config-required"),Zn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:In,eventId:r};if(t instanceof Ar){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof Rr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${aa}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ra}`;return os(t,ia)}(e)}?${ot(o).slice(1)}${c}`}const la="webStorageSupport";const ca=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ri,this._completeRedirectFn=Ui,this._overrideRedirectResult=Oi}async _openPopup(e,t,n,s){var r;ts(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return sa(e,await oa(e,t,n,ns(),s),ai())}async _openRedirect(e,t,n,s){await this._originValidation(e);return function(e){li().location.href=e}(await oa(e,t,n,ns(),s)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ts(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ea(e),n=new Fi(e);return t.register("authEvent",t=>{Zn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(la,{type:la},n=>{var s;const r=null===(s=null===n||void 0===n?void 0:n[0])||void 0===s?void 0:s[la];void 0!==r&&t(!!r),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Js()||Hs()||Qs()}};var ua="@firebase/auth",da="1.10.8";class ha{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ma=He("authIdTokenMaxAge")||300;let pa=null;var fa;ir={loadJS:e=>new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{const t=Yn("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},fa="Browser",jn(new mt("auth",(e,t)=>{let{options:n}=t;const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=s.options;Zn(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:a,authDomain:o,clientPlatform:fa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zs(fa)},c=new nr(s,r,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ms);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),jn(new mt("auth-internal",e=>(e=>new ha(e))(sr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),An(ua,da,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(fa)),An(ua,da,"esm2017");An("firebase","11.10.0","app");var ga,va,ya="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},xa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var s=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)s[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var i=e.g[3],a=t+(i^n&(r^i))+s[0]+3614090360&4294967295;a=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=(n=(r=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(r^i))+s[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(r^t&(n^r))+s[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^i&(t^n))+s[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(i^t))+s[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^i&(n^r))+s[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^i&(n^r))+s[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^r&(t^n))+s[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(i^t))+s[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(r^i))+s[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^r^i)+s[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^i)+s[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^r)+s[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(i^t^n)+s[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^i^t)+s[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(n|~i))+s[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~i))+s[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~i))+s[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(i|~n))+s[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(r|~t))+s[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(r^(n|~i))+s[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~r))+s[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=i+((a=r+(t^(i|~n))+s[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+i&4294967295}function s(e,t){this.h=t;for(var n=[],s=!0,r=e.length-1;0<=r;r--){var i=0|e[r];s&&i==t||(n[r]=i,s=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,s){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var s=t-this.blockSize,r=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=s;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){n(this,r),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var s=0;32>s;s+=8)e[n++]=this.g[t]>>>s&255;return e};var r={};function i(e){return-128<=e&&128>e?function(e,t){var n=r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],0>e?-1:0)}):new s([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(l)}function m(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new f(o,o);if(d(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,s=t;0>=s.l(e);)n=v(n),s=v(s);var r=y(n,1),i=y(s,1);for(s=y(s,2),n=y(n,2);!u(s);){var c=i.add(s);0>=c.l(e)&&(r=r.add(n),i=c),s=y(s,1),n=y(n,1)}return t=m(e,r.j(t)),new f(r,t)}for(r=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=s)).j(t);u(i)&&(i=l),r=r.add(i),e=m(e,c)}return new f(r,e)}function v(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var s=this.i(n);e+=(0<=s?s:4294967296+s)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,s="";;){var r=g(n,t).g,i=((0<(n=m(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=r))return i+s;for(;6>i.length;)i="0"+i;s=i+s}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=m(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var l=this.i(r)>>>16,m=65535&this.i(r),f=e.i(i)>>>16,g=65535&e.i(i);n[2*r+2*i]+=m*g,p(n,2*r+2*i),n[2*r+2*i+1]+=l*g,p(n,2*r+2*i+1),n[2*r+2*i+1]+=m*f,p(n,2*r+2*i+1),n[2*r+2*i+2]+=l*f,p(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new s(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,va=xa.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=a,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=a(Math.pow(n,8)),r=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),r=r.j(l).add(a(c))):r=(r=r.j(s)).add(a(c))}return r},ga=xa.Integer=s}).apply("undefined"!==typeof ya?ya:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ba,wa,Na,ja,Ea,_a,ka,Sa,Ia="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ta={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ia&&Ia];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,s){if(s)e:{var r=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in r))break e;r=r[a]}(s=s(i=r[e=e[e.length-1]]))!=i&&null!=s&&t(r,e,{configurable:!0,writable:!0,value:s})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,s=!1,r={next:function(){if(!s&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return s=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(e,t){return t})}});var s=s||{},r=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,s),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,s){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function m(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,s=t.length||0;e.length=n+s;for(let r=0;r<s;r++)e[n+r]=t[r]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=f().indexOf("Gecko")&&!(-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge"))&&!(-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE"))&&-1==f().indexOf("Edge");function y(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,s;for(let r=1;r<arguments.length;r++){for(n in s=arguments[r],s)e[n]=s[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){r.setTimeout(()=>{throw e},0)}function E(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new k,e=>e.reset());class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let S,I=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},C=()=>{const e=r.Promise.resolve(void 0);S=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){j(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function R(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var r=!0;break e}catch(i){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,P);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,s,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.ha=r,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var s,r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,s){for(var r=0;r<e.length;++r){var i=e[r];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==s)return r}return-1}z.prototype.add=function(e,t,n,s,r){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=B(e,t,s,r);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,i,!!s,r)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,s,r){if(s&&s.once)return G(e,t,n,s,r);if(Array.isArray(t)){for(var i=0;i<t.length;i++)W(e,t[i],n,s,r);return null}return n=te(n),e&&e[M]?e.K(t,n,a(s)?!!s.capture:!!s,r):K(e,t,n,!1,s,r)}function K(e,t,n,s,r,i){if(!t)throw Error("Invalid event type");var o=a(r)?!!r.capture:!!r,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,s,o,i)).proxy)return n;if(s=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)D||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),s,r);else if(e.attachEvent)e.attachEvent(X(t.toString()),s);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(s)}return n}function G(e,t,n,s,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,s,r);return null}return n=te(n),e&&e[M]?e.L(t,n,a(s)?!!s.capture:!!s,r):K(e,t,n,!0,s,r)}function Y(e,t,n,s,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,s,r);else s=a(s)?!!s.capture:!!s,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(i=e.g[t],n,s,r))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,s,r)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])$(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(X(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=Z(t))?($(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,s=e.ha||e.src;e.fa&&Q(e),e=n.call(s,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new z(this),this.M=this,this.F=null}function se(e,t){var n,s=e.F;if(s)for(n=[];s;s=s.F)n.push(s);if(e=e.M,s=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var r=t;w(t=new P(s,e),r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];r=re(a,s,!0,t)&&r}if(r=re(a=t.g=e,s,!0,t)&&r,r=re(a,s,!1,t)&&r,n)for(i=0;i<n.length;i++)r=re(a=t.g=n[i],s,!1,t)&&r}function re(e,t,n,s){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&$(e.i,a),r=!1!==o.call(l,s)&&r}}return r&&!s.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function ae(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,s){Y(this,e,t,n,s)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)V(n[s]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)},ne.prototype.L=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=r.JSON.stringify,he=r.JSON.parse,me=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function pe(){}function fe(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function xe(){P.call(this,"c")}d(ye,P),d(xe,P);var be={},we=null;function Ne(){return we=we||new ne}function je(e){P.call(this,be.La,e)}function Ee(e){const t=Ne();se(t,new je(t))}function _e(e,t){P.call(this,be.STAT_EVENT,e),this.stat=t}function ke(e){const t=Ne();se(t,new _e(t,e))}function Se(e,t){P.call(this,be.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){e()},t)}function Te(){this.g=!0}function Ce(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<r.length;a++)r[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(s?" "+s:"")})}be.La="serverreachability",d(je,P),be.STAT_EVENT="statevent",d(_e,P),be.Ma="timingevent",d(Se,P),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ae,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,s){this.j=e,this.i=t,this.l=n,this.R=s||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),Be(e),e.A=at(e.v);var n=e.A,s=e.R;Array.isArray(s)||(s=[String(s)]),_t(n.i,"t",s),e.C=0,n=e.j.J,e.h=new Le,e.g=mn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,s=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(ce[0]=r.toString()),r=ce);for(var i=0;i<r.length;i++){var a=W(n,r[i],s||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,s,r,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,s=t.indexOf("\n",n);return-1==s?Ue:(n=Number(t.substring(n,s)),isNaN(n)?Me:(s+=1)+n>t.length?Ue:(t=t.slice(s,s+n),e.C=s+n,t))}function Be(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function qe(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var s=n.Da.g.parse(t)}catch(u){s=null}if(Array.isArray(s)&&3==s.length){var r=s;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Qt(n)}sn(n),ke(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(s=1.5*u,n.L=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=s.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(s.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(s.ya=e,ut(s.I,s.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((s=n).qa=hn(s,s.J?s.ia:null,s.W),a.K){tt(s.h,a);var o=a,l=s.L;l&&(o.I=l),o.B&&(qe(o),Be(o)),s.g=a}else nn(s);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ee(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var s=Wt(this.g);e="";var i=s.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var o="";break t}this.h.i=new r.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:!(a&&t==i-1)});s.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,s,r,i,a){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Ke(this),We(this);break e}Ce(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=$e(this,o),e==Ue){4==h&&(this.s=4,ke(14),n=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),Ce(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ce(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,ke(11))}}else Ce(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ce(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<e.length;s++){if(p(e[s]))continue;var n=N(e[s]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[r]||[];t[r]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Ke(this),We(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),ke(17)),Ke(this),this.s=2,We(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function st(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}(e),s=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}for(s in t=[],n=0,e)t[n++]=e[s];return t}(e),r=s.length,a=0;a<r;a++)t.call(void 0,s[a],n&&n[a],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(rt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=mt(t,xt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(mt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(mt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",mt(n,bt)),e.join("")};var ft,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,xt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),r=null;if(0<=s){var i=e[n].substring(0,s);r=e[n].substring(s+1)}else i=e[n];t(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function jt(e,t){Nt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return Nt(e),t=kt(e,t),e.g.has(t)}function _t(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,s,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),s(n)}catch(i){}}function It(){this.g=new me}function Tt(e,t,n){const s=n||"";try{st(e,function(e,n){let r=e;a(e)&&(r=de(e)),t.push(s+n+"="+encodeURIComponent(r))})}catch(lb){throw t.push(s+"type="+encodeURIComponent("_badmap")),lb}}function Ct(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Nt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach(function(n,s){n.forEach(function(n){e.call(t,n,s,this)},this)},this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const r=e[s];for(let e=0;e<r.length;e++)n.push(t[s])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,Et(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const i=encodeURIComponent(String(s)),a=this.V(s);for(s=0;s<a.length;s++){var r=i;""!==a[s]&&(r+="="+encodeURIComponent(String(a[s]))),e.push(r)}}return this.i=e.join("&")},d(Ct,pe),Ct.prototype.g=function(){return new At(this.l,this.j)},Ct.prototype.i=(ft={},function(){return ft}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Dt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Bt(e)}function zt(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof s&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ie(e.Ea,0,e);else if(se(e,"readystatechange"),4==qt(e)){e.h=!1;try{const s=e.Z();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===s){var a=String(e.D).match(rt)[1]||null;!a&&r.self&&r.self.location&&(a=r.self.location.protocol.slice(0,-1)),i=!Ut.test(a?a.toLowerCase():"")}n=i}if(n)se(e,"complete"),se(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Ht(e);const n=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||se(e,"ready");try{n.onreadystatechange=s}catch(lb){}}}function Ht(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(s){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=mn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}dn(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(r.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;S||C(),I||(S(),I=!0),T.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const s=at(e.I);ut(s,"SID",e.K),ut(s,"RID",n),ut(s,"AID",e.T),en(e,s),e.m&&e.o&&Lt(s,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,s,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&st({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var s=e.l?c(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=r[o].g;const l=r[o].map;if(n-=t,0>n)t=Math.max(0,r[o].g-100),a=!1;else try{Tt(l,e,"req"+n+"_")}catch(i){s&&s(l)}}if(a){s=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,s}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;S||C(),I||(S(),I=!0),T.add(t,e),e.v=0}}function sn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var s=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),s=1}if(0!=e.G)if(t.o)if(1==s){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;se(s=Ne(),new Se(s,n)),Jt(e)}else nn(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==s&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==s&&sn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),s=e.Xa;const t=!s;s=new it(s||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||ot(s,"https"),dt(s),t?function(e,t){const n=new Te;if(r.Image){const s=new Image;s.onload=u(St,n,"TestLoadImage: loaded",!0,t,s),s.onerror=u(St,n,"TestLoadImage: error",!1,t,s),s.onabort=u(St,n,"TestLoadImage: abort",!1,t,s),s.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,s),r.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}(s.toString(),n):function(e,t){new Te;const n=new AbortController,s=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(s),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(s),St(0,0,!1,t)})}(s.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var s=n instanceof it?at(n):new it(n);if(""!=s.g)t&&(s.g=t+"."+s.g),lt(s,s.s);else{var i=r.location;s=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);s&&ot(a,s),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),s=a}return n=e.D,t=e.ya,n&&t&&ut(s,n,t),ut(s,"VER",e.la),en(e,s),s}function mn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Ct({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function fn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){xe.call(this),this.status=1}function xn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?fe(this.o):fe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else{if("function"!==typeof s.keys||"function"!==typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const e of s.keys())n.set(e,s.get(e))}s=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,se(this,"complete"),se(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(ft){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ft){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,s){ke(0),this.W=e,this.H=t||{},n&&void 0!==s&&(this.H.OSID=n,this.H.OAID=s),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=x(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(r.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var s=this.i[n];if(void 0===(s="__data__"in s.map&&"string"===typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(t+=s)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,r,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,r),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),r.T=!0,Fe(r,n,null)):Fe(r,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),sn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,xe),d(xn,pn),xn.prototype.ua=function(){se(this.g,"a")},xn.prototype.ta=function(e){se(this.g,new vn(e))},xn.prototype.sa=function(e){se(this.g,new yn)},xn.prototype.ra=function(){se(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Sa=Ta.createWebChannelTransport=function(){return new fn},ka=Ta.getStatEventTarget=function(){return Ne()},_a=Ta.Event=be,Ea=Ta.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,ja=Ta.ErrorCode=Re,Pe.COMPLETE="complete",Na=Ta.EventType=Pe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,wa=Ta.WebChannel=ge,Ta.FetchXmlHttpFactory=Ct,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,ba=Ta.XhrIo=Mt}).apply("undefined"!==typeof Ia?Ia:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ca="@firebase/firestore",Aa="4.8.0";class Ra{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ra.UNAUTHENTICATED=new Ra(null),Ra.GOOGLE_CREDENTIALS=new Ra("google-credentials-uid"),Ra.FIRST_PARTY=new Ra("first-party-uid"),Ra.MOCK_USER=new Ra("mock-user");let Pa="11.10.0";const Da=new jt("@firebase/firestore");function Oa(){return Da.logLevel}function La(e){if(Da.logLevel<=yt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(Fa);Da.debug(`Firestore (${Pa}): ${e}`,...r)}}function Ma(e){if(Da.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(Fa);Da.error(`Firestore (${Pa}): ${e}`,...r)}}function Ua(e){if(Da.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=n.map(Fa);Da.warn(`Firestore (${Pa}): ${e}`,...r)}}function Fa(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Va(e,t,n){let s="Unexpected state";"string"==typeof t?s=t:n=t,za(e,s,n)}function za(e,t,n){let s=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{s+=" CONTEXT: "+JSON.stringify(n)}catch(e){s+=" CONTEXT: "+n}throw Ma(s),new Error(s)}function $a(e,t,n,s){let r="Unexpected state";"string"==typeof n?r=n:s=n,e||za(t,r,s)}function Ba(e,t){return e}const Ha={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qa extends nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ka{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ra.UNAUTHENTICATED))}shutdown(){}}class Ya{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qa{constructor(e){this.t=e,this.currentUser=Ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$a(void 0===this.o,42304);let n=this.i;const s=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Wa;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Wa,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const t=r;e.enqueueRetryable(async()=>{await t.promise,await s(this.currentUser)})},a=e=>{La("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(La("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Wa)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(La("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($a("string"==typeof t.accessToken,31837,{l:t}),new Ka(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $a(null===e||"string"==typeof e,2055,{h:e}),new Ra(e)}}class Xa{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ra.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ja{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Xa(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ra.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Za{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eo{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$a(void 0===this.o,3512);const n=e=>{null!=e.error&&La("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,La("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const s=e=>{La("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>s(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?s(e):La("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Za(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?($a("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Za(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function to(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}function no(){return new TextEncoder}class so{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=to(40);for(let s=0;s<n.length;++s)t.length<20&&n[s]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[s]%62))}return t}}function ro(e,t){return e<t?-1:e>t?1:0}function io(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=e.codePointAt(n),r=t.codePointAt(n);if(s!==r){if(s<128&&r<128)return ro(s,r);{const i=no(),a=oo(i.encode(ao(e,n)),i.encode(ao(t,n)));return 0!==a?a:ro(s,r)}}n+=s>65535?2:1}return ro(e.length,t.length)}function ao(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function oo(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ro(e[n],t[n]);return ro(e.length,t.length)}function lo(e,t,n){return e.length===t.length&&e.every((e,s)=>n(e,t[s]))}const co="__name__";class uo{constructor(e,t,n){void 0===t?t=0:t>e.length&&Va(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Va(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===uo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uo?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const n=uo.compareSegments(e.get(s),t.get(s));if(0!==n)return n}return ro(e.length,t.length)}static compareSegments(e,t){const n=uo.isNumericId(e),s=uo.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?uo.extractNumericId(e).compare(uo.extractNumericId(t)):io(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ga.fromString(e.substring(4,e.length-2))}}class ho extends uo{construct(e,t,n){return new ho(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n){if(r.indexOf("//")>=0)throw new qa(Ha.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(e=>e.length>0))}return new ho(e)}static emptyPath(){return new ho([])}}const mo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class po extends uo{construct(e,t,n){return new po(e,t,n)}static isValidIdentifier(e){return mo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),po.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===co}static keyField(){return new po([co])}static fromServerFormat(e){const t=[];let n="",s=0;const r=()=>{if(0===n.length)throw new qa(Ha.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;s<e.length;){const t=e[s];if("\\"===t){if(s+1===e.length)throw new qa(Ha.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[s+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new qa(Ha.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,s+=2}else"`"===t?(i=!i,s++):"."!==t||i?(n+=t,s++):(r(),s++)}if(r(),i)throw new qa(Ha.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new po(t)}static emptyPath(){return new po([])}}class fo{constructor(e){this.path=e}static fromPath(e){return new fo(ho.fromString(e))}static fromName(e){return new fo(ho.fromString(e).popFirst(5))}static empty(){return new fo(ho.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ho.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ho.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fo(new ho(e.slice()))}}function go(e,t,n){if(!n)throw new qa(Ha.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vo(e){if(!fo.isDocumentKey(e))throw new qa(Ha.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function yo(e){if(fo.isDocumentKey(e))throw new qa(Ha.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function bo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Va(12329,{type:typeof e})}function wo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qa(Ha.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bo(e);throw new qa(Ha.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function No(e,t){const n={typeString:e};return t&&(n.value=t),n}function jo(e,t){if(!xo(e))throw new qa(Ha.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const r=t[s].typeString,i="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const a=e[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(void 0!==i&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new qa(Ha.INVALID_ARGUMENT,n);return!0}const Eo=-62135596800,_o=1e6;class ko{static now(){return ko.fromMillis(Date.now())}static fromDate(e){return ko.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*_o);return new ko(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qa(Ha.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qa(Ha.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Eo)throw new qa(Ha.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qa(Ha.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_o}_compareTo(e){return this.seconds===e.seconds?ro(this.nanoseconds,e.nanoseconds):ro(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ko._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jo(e,ko._jsonSchema))return new ko(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eo;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ko._jsonSchemaVersion="firestore/timestamp/1.0",ko._jsonSchema={type:No("string",ko._jsonSchemaVersion),seconds:No("number"),nanoseconds:No("number")};class So{static fromTimestamp(e){return new So(e)}static min(){return new So(new ko(0,0))}static max(){return new So(new ko(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;class To{constructor(e,t,n,s){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=s}}To.UNKNOWN_ID=-1;function Co(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=So.fromTimestamp(1e9===s?new ko(n+1,0):new ko(n,s));return new Ro(r,fo.empty(),t)}function Ao(e){return new Ro(e.readTime,e.key,Io)}class Ro{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ro(So.min(),fo.empty(),Io)}static max(){return new Ro(So.max(),fo.empty(),Io)}}function Po(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=fo.comparator(e.documentKey,t.documentKey),0!==n?n:ro(e.largestBatchId,t.largestBatchId))}const Do="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Lo(e){if(e.code!==Ha.FAILED_PRECONDITION||e.message!==Do)throw e;La("LocalStore","Unexpectedly lost primary lease")}class Mo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Va(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Mo((n,s)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,s)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Mo?t:Mo.resolve(t)}catch(e){return Mo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Mo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Mo.reject(t)}static resolve(e){return new Mo((t,n)=>{t(e)})}static reject(e){return new Mo((t,n)=>{n(e)})}static waitFor(e){return new Mo((t,n)=>{let s=0,r=0,i=!1;e.forEach(e=>{++s,e.next(()=>{++r,i&&r===s&&t()},e=>n(e))}),i=!0,r===s&&t()})}static or(e){let t=Mo.resolve(!1);for(const n of e)t=t.next(e=>e?Mo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,s)=>{n.push(t.call(this,e,s))}),this.waitFor(n)}static mapArray(e,t){return new Mo((n,s)=>{const r=e.length,i=new Array(r);let a=0;for(let o=0;o<r;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===r&&n(i)},e=>s(e))}})}static doWhile(e,t){return new Mo((n,s)=>{const r=()=>{!0===e()?t().next(()=>{r()},s):n()};r()})}}function Uo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(e){return"IndexedDbTransactionError"===e.name}class Vo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Vo.ue=-1;const zo=-1;function $o(e){return null==e}function Bo(e){return 0===e&&1/e==-1/0}function Ho(e){return"number"==typeof e&&Number.isInteger(e)&&!Bo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const qo="\x01";function Wo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Go(t)),t=Ko(e.get(n),t);return Go(t)}function Ko(e,t){let n=t;const s=e.length;for(let r=0;r<s;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case qo:n+="\x01\x11";break;default:n+=t}}return n}function Go(e){return e+qo+"\x01"}const Yo="remoteDocuments",Qo="owner",Xo="mutationQueues",Jo="mutations";const Zo="documentMutations",el="remoteDocumentsV14",tl="remoteDocumentGlobal",nl="targets",sl="targetDocuments",rl="targetGlobal",il="collectionParents",al="clientMetadata",ol="bundles",ll="namedQueries",cl="indexConfiguration",ul="indexState",dl="indexEntries",hl="documentOverlays",ml="globals",pl=[Xo,Jo,Zo,Yo,nl,Qo,rl,sl,al,tl,il,ol,ll],fl=[Xo,Jo,Zo,el,nl,Qo,rl,sl,al,tl,il,ol,ll,hl],gl=fl,vl=[...gl,cl,ul,dl];function yl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wl{constructor(e,t){this.comparator=e,this.root=t||jl.EMPTY}insert(e,t){return new wl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jl.BLACK,null,null))}remove(e){return new wl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nl(this.root,e,this.comparator,!0)}}class Nl{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jl{constructor(e,t,n,s,r){this.key=e,this.value=t,this.color=null!=n?n:jl.RED,this.left=null!=s?s:jl.EMPTY,this.right=null!=r?r:jl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,r){return new jl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=s?s:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const r=n(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,n),null):0===r?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return jl.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Va(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Va(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Va(27949);return e+(this.isRed()?0:1)}}jl.EMPTY=null,jl.RED=!0,jl.BLACK=!1,jl.EMPTY=new class{constructor(){this.size=0}get key(){throw Va(57766)}get value(){throw Va(16141)}get color(){throw Va(16727)}get left(){throw Va(29726)}get right(){throw Va(36894)}copy(e,t,n,s,r){return this}insert(e,t,n){return new jl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class El{constructor(e){this.comparator=e,this.data=new wl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _l(this.data.getIterator())}getIteratorFrom(e){return new _l(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof El))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(e,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new El(this.comparator);return t.data=e,t}}class _l{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kl{constructor(e){this.fields=e,e.sort(po.comparator)}static empty(){return new kl([])}unionWith(e){let t=new El(po.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new kl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Sl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Il{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Sl("Invalid base64 string: "+e):e}}(e);return new Il(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Il(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ro(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Il.EMPTY_BYTE_STRING=new Il("");const Tl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cl(e){if($a(!!e,39018),"string"==typeof e){let t=0;const n=Tl.exec(e);if($a(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Al(e.seconds),nanos:Al(e.nanos)}}function Al(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rl(e){return"string"==typeof e?Il.fromBase64String(e):Il.fromUint8Array(e)}const Pl="server_timestamp",Dl="__type__",Ol="__previous_value__",Ll="__local_write_time__";function Ml(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Dl])||void 0===n?void 0:n.stringValue)===Pl}function Ul(e){const t=e.mapValue.fields[Ol];return Ml(t)?Ul(t):t}function Fl(e){const t=Cl(e.mapValue.fields[Ll].timestampValue);return new ko(t.seconds,t.nanos)}class Vl{constructor(e,t,n,s,r,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const zl="(default)";class $l{constructor(e,t){this.projectId=e,this.database=t||zl}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===zl}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const Bl="__type__",Hl="__max__",ql={mapValue:{fields:{__type__:{stringValue:Hl}}}},Wl="__vector__",Kl="value";function Gl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ml(e)?4:uc(e)?9007199254740991:lc(e)?10:11:Va(28295,{value:e})}function Yl(e,t){if(e===t)return!0;const n=Gl(e);if(n!==Gl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fl(e).isEqual(Fl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cl(e.timestampValue),s=Cl(t.timestampValue);return n.seconds===s.seconds&&n.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rl(e.bytesValue).isEqual(Rl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Al(e.geoPointValue.latitude)===Al(t.geoPointValue.latitude)&&Al(e.geoPointValue.longitude)===Al(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Al(e.integerValue)===Al(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Al(e.doubleValue),s=Al(t.doubleValue);return n===s?Bo(n)===Bo(s):isNaN(n)&&isNaN(s)}return!1}(e,t);case 9:return lo(e.arrayValue.values||[],t.arrayValue.values||[],Yl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},s=t.mapValue.fields||{};if(yl(n)!==yl(s))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===s[r]||!Yl(n[r],s[r])))return!1;return!0}(e,t);default:return Va(52216,{left:e})}}function Ql(e,t){return void 0!==(e.values||[]).find(e=>Yl(e,t))}function Xl(e,t){if(e===t)return 0;const n=Gl(e),s=Gl(t);if(n!==s)return ro(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ro(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Al(e.integerValue||e.doubleValue),s=Al(t.integerValue||t.doubleValue);return n<s?-1:n>s?1:n===s?0:isNaN(n)?isNaN(s)?0:-1:1}(e,t);case 3:return Jl(e.timestampValue,t.timestampValue);case 4:return Jl(Fl(e),Fl(t));case 5:return io(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Rl(e),s=Rl(t);return n.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),s=t.split("/");for(let r=0;r<n.length&&r<s.length;r++){const e=ro(n[r],s[r]);if(0!==e)return e}return ro(n.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ro(Al(e.latitude),Al(t.latitude));return 0!==n?n:ro(Al(e.longitude),Al(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Zl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,s,r,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Kl])||void 0===n?void 0:n.arrayValue,c=null===(s=o[Kl])||void 0===s?void 0:s.arrayValue,u=ro((null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Zl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ql.mapValue&&t===ql.mapValue)return 0;if(e===ql.mapValue)return 1;if(t===ql.mapValue)return-1;const n=e.fields||{},s=Object.keys(n),r=t.fields||{},i=Object.keys(r);s.sort(),i.sort();for(let a=0;a<s.length&&a<i.length;++a){const e=io(s[a],i[a]);if(0!==e)return e;const t=Xl(n[s[a]],r[i[a]]);if(0!==t)return t}return ro(s.length,i.length)}(e.mapValue,t.mapValue);default:throw Va(23264,{le:n})}}function Jl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ro(e,t);const n=Cl(e),s=Cl(t),r=ro(n.seconds,s.seconds);return 0!==r?r:ro(n.nanos,s.nanos)}function Zl(e,t){const n=e.values||[],s=t.values||[];for(let r=0;r<n.length&&r<s.length;++r){const e=Xl(n[r],s[r]);if(e)return e}return ro(n.length,s.length)}function ec(e){return tc(e)}function tc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Rl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return fo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const s of e.values||[])n?n=!1:t+=",",t+=tc(s);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const r of t)s?s=!1:n+=",",n+=`${r}:${tc(e.fields[r])}`;return n+"}"}(e.mapValue):Va(61005,{value:e})}function nc(e){switch(Gl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ul(e);return t?16+nc(t):16;case 5:return 2*e.stringValue.length;case 6:return Rl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+nc(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return xl(e.fields,(e,n)=>{t+=e.length+nc(n)}),t}(e.mapValue);default:throw Va(13486,{value:e})}}function sc(e){return!!e&&"integerValue"in e}function rc(e){return!!e&&"arrayValue"in e}function ic(e){return!!e&&"nullValue"in e}function ac(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oc(e){return!!e&&"mapValue"in e}function lc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Bl])||void 0===n?void 0:n.stringValue)===Wl}function cc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=cc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function uc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Hl}class dc{constructor(e){this.value=e}static empty(){return new dc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(t)}setAll(e){let t=po.emptyPath(),n={},s=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,s),n={},s=[],t=r.popLast()}e?n[r.lastSegment()]=cc(e):s.push(r.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,n,s)}delete(e){const t=this.field(e.popLast());oc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];oc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){xl(t,(t,n)=>e[t]=n);for(const s of n)delete e[s]}clone(){return new dc(cc(this.value))}}function hc(e){const t=[];return xl(e.fields,(e,n)=>{const s=new po([e]);if(oc(n)){const e=hc(n.mapValue).fields;if(0===e.length)t.push(s);else for(const n of e)t.push(s.child(n))}else t.push(s)}),new kl(t)}class mc{constructor(e,t,n,s,r,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new mc(e,0,So.min(),So.min(),So.min(),dc.empty(),0)}static newFoundDocument(e,t,n,s){return new mc(e,1,t,So.min(),n,s,0)}static newNoDocument(e,t){return new mc(e,2,t,So.min(),So.min(),dc.empty(),0)}static newUnknownDocument(e,t){return new mc(e,3,t,So.min(),So.min(),dc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(So.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=So.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pc{constructor(e,t){this.position=e,this.inclusive=t}}function fc(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],a=e.position[r];if(s=i.field.isKeyField()?fo.comparator(fo.fromName(a.referenceValue),n.key):Xl(a,n.data.field(i.field)),"desc"===i.dir&&(s*=-1),0!==s)break}return s}function gc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yl(e.position[n],t.position[n]))return!1;return!0}class vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function yc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xc{}class bc extends xc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ic(e,t,n):"array-contains"===t?new Rc(e,n):"in"===t?new Pc(e,n):"not-in"===t?new Dc(e,n):"array-contains-any"===t?new Oc(e,n):new bc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tc(e,n):new Cc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Xl(t,this.value)):null!==t&&Gl(this.value)===Gl(t)&&this.matchesComparison(Xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Va(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wc extends xc{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new wc(e,t)}matches(e){return Nc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Nc(e){return"and"===e.op}function jc(e){return Ec(e)&&Nc(e)}function Ec(e){for(const t of e.filters)if(t instanceof wc)return!1;return!0}function _c(e){if(e instanceof bc)return e.field.canonicalString()+e.op.toString()+ec(e.value);if(jc(e))return e.filters.map(e=>_c(e)).join(",");{const t=e.filters.map(e=>_c(e)).join(",");return`${e.op}(${t})`}}function kc(e,t){return e instanceof bc?function(e,t){return t instanceof bc&&e.op===t.op&&e.field.isEqual(t.field)&&Yl(e.value,t.value)}(e,t):e instanceof wc?function(e,t){return t instanceof wc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,s)=>e&&kc(n,t.filters[s]),!0)}(e,t):void Va(19439)}function Sc(e){return e instanceof bc?function(e){return`${e.field.canonicalString()} ${e.op} ${ec(e.value)}`}(e):e instanceof wc?function(e){return e.op.toString()+" {"+e.getFilters().map(Sc).join(" ,")+"}"}(e):"Filter"}class Ic extends bc{constructor(e,t,n){super(e,t,n),this.key=fo.fromName(n.referenceValue)}matches(e){const t=fo.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tc extends bc{constructor(e,t){super(e,"in",t),this.keys=Ac("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cc extends bc{constructor(e,t){super(e,"not-in",t),this.keys=Ac("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ac(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>fo.fromName(e.referenceValue))}class Rc extends bc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rc(t)&&Ql(t.arrayValue,this.value)}}class Pc extends bc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ql(this.value.arrayValue,t)}}class Dc extends bc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ql(this.value.arrayValue,t)}}class Oc extends bc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ql(this.value.arrayValue,e))}}class Lc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=r,this.startAt=i,this.endAt=a,this.Pe=null}}function Mc(e){return new Lc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Uc(e){const t=Ba(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>_c(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),$o(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ec(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ec(e)).join(",")),t.Pe=e}return t.Pe}function Fc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!kc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gc(e.startAt,t.startAt)&&gc(e.endAt,t.endAt)}function Vc(e){return fo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class zc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=r,this.limitType=i,this.startAt=a,this.endAt=o,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $c(e,t,n,s,r,i,a,o){return new zc(e,t,n,s,r,i,a,o)}function Bc(e){return new zc(e)}function Hc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function qc(e){return null!==e.collectionGroup}function Wc(e){const t=Ba(e);if(null===t.Te){t.Te=[];const e=new Set;for(const r of t.explicitOrderBy)t.Te.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){let t=new El(po.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);s.forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Te.push(new vc(s,n))}),e.has(po.keyField().canonicalString())||t.Te.push(new vc(po.keyField(),n))}return t.Te}function Kc(e){const t=Ba(e);return t.Ie||(t.Ie=Gc(t,Wc(e))),t.Ie}function Gc(e,t){if("F"===e.limitType)return Mc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new vc(e.field,t)});const n=e.endAt?new pc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new pc(e.startAt.position,e.startAt.inclusive):null;return Mc(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Yc(e,t,n){return new zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qc(e,t){return Fc(Kc(e),Kc(t))&&e.limitType===t.limitType}function Xc(e){return`${Uc(Kc(e))}|lt:${e.limitType}`}function Jc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Sc(e)).join(", ")}]`),$o(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ec(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ec(e)).join(",")),`Target(${t})`}(Kc(e))}; limitType=${e.limitType})`}function Zc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):fo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Wc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const s=fc(e,t,n);return e.inclusive?s<=0:s<0}(e.startAt,Wc(e),t))&&!(e.endAt&&!function(e,t,n){const s=fc(e,t,n);return e.inclusive?s>=0:s>0}(e.endAt,Wc(e),t))}(e,t)}function eu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tu(e){return(t,n)=>{let s=!1;for(const r of Wc(e)){const e=nu(r,t,n);if(0!==e)return e;s=s||r.field.isKeyField()}return 0}}function nu(e,t,n){const s=e.field.isKeyField()?fo.comparator(t.key,n.key):function(e,t,n){const s=t.data.field(e),r=n.data.field(e);return null!==s&&null!==r?Xl(s,r):Va(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Va(19790,{direction:e.dir})}}class su{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[s,r]of n)if(this.equalsFn(s,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return 1===n.length?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(t,n)=>{for(const[s,r]of n)e(s,r)})}isEmpty(){return bl(this.inner)}size(){return this.innerSize}}const ru=new wl(fo.comparator);function iu(){return ru}const au=new wl(fo.comparator);function ou(){let e=au;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n)e=e.insert(r.key,r);return e}function lu(e){let t=au;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function cu(){return du()}function uu(){return du()}function du(){return new su(e=>e.toString(),(e,t)=>e.isEqual(t))}const hu=new wl(fo.comparator),mu=new El(fo.comparator);function pu(){let e=mu;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(const r of n)e=e.add(r);return e}const fu=new El(ro);function gu(){return fu}function vu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(t)?"-0":t}}function yu(e){return{integerValue:""+e}}function xu(e,t){return Ho(t)?yu(t):vu(e,t)}class bu{constructor(){this._=void 0}}function wu(e,t,n){return e instanceof Eu?function(e,t){const n={fields:{[Dl]:{stringValue:Pl},[Ll]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ml(t)&&(t=Ul(t)),t&&(n.fields[Ol]=t),{mapValue:n}}(n,t):e instanceof _u?ku(e,t):e instanceof Su?Iu(e,t):function(e,t){const n=ju(e,t),s=Cu(n)+Cu(e.Ee);return sc(n)&&sc(e.Ee)?yu(s):vu(e.serializer,s)}(e,t)}function Nu(e,t,n){return e instanceof _u?ku(e,t):e instanceof Su?Iu(e,t):n}function ju(e,t){return e instanceof Tu?function(e){return sc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Eu extends bu{}class _u extends bu{constructor(e){super(),this.elements=e}}function ku(e,t){const n=Au(t);for(const s of e.elements)n.some(e=>Yl(e,s))||n.push(s);return{arrayValue:{values:n}}}class Su extends bu{constructor(e){super(),this.elements=e}}function Iu(e,t){let n=Au(t);for(const s of e.elements)n=n.filter(e=>!Yl(e,s));return{arrayValue:{values:n}}}class Tu extends bu{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Cu(e){return Al(e.integerValue||e.doubleValue)}function Au(e){return rc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ru{constructor(e,t){this.field=e,this.transform=t}}class Pu{constructor(e,t){this.version=e,this.transformResults=t}}class Du{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Du}static exists(e){return new Du(void 0,e)}static updateTime(e){return new Du(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Lu{}function Mu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ku(e.key,Du.none()):new $u(e.key,e.data,Du.none());{const n=e.data,s=dc.empty();let r=new El(po.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?s.delete(e):s.set(e,t),r=r.add(e)}return new Bu(e.key,s,new kl(r.toArray()),Du.none())}}function Uu(e,t,n){e instanceof $u?function(e,t,n){const s=e.value.clone(),r=qu(e.fieldTransforms,t,n.transformResults);s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):e instanceof Bu?function(e,t,n){if(!Ou(e.precondition,t))return void t.convertToUnknownDocument(n.version);const s=qu(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Hu(e)),r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fu(e,t,n,s){return e instanceof $u?function(e,t,n,s){if(!Ou(e.precondition,t))return n;const r=e.value.clone(),i=Wu(e.fieldTransforms,s,t);return r.setAll(i),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,s):e instanceof Bu?function(e,t,n,s){if(!Ou(e.precondition,t))return n;const r=Wu(e.fieldTransforms,s,t),i=t.data;return i.setAll(Hu(e)),i.setAll(r),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,s):function(e,t,n){return Ou(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vu(e,t){let n=null;for(const s of e.fieldTransforms){const e=t.data.field(s.field),r=ju(s.transform,e||null);null!=r&&(null===n&&(n=dc.empty()),n.set(s.field,r))}return n||null}function zu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&lo(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _u&&t instanceof _u||e instanceof Su&&t instanceof Su?lo(e.elements,t.elements,Yl):e instanceof Tu&&t instanceof Tu?Yl(e.Ee,t.Ee):e instanceof Eu&&t instanceof Eu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $u extends Lu{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bu extends Lu{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Hu(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function qu(e,t,n){const s=new Map;$a(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let r=0;r<n.length;r++){const i=e[r],a=i.transform,o=t.data.field(i.field);s.set(i.field,Nu(a,o,n[r]))}return s}function Wu(e,t,n){const s=new Map;for(const r of e){const e=r.transform,i=n.data.field(r.field);s.set(r.field,wu(e,i,t))}return s}class Ku extends Lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gu extends Lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yu{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const t=this.mutations[s];t.key.isEqual(e.key)&&Uu(t,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=uu();return this.mutations.forEach(s=>{const r=e.get(s.key),i=r.overlayedDocument;let a=this.applyToLocalView(i,r.mutatedFields);a=t.has(s.key)?null:a;const o=Mu(i,a);null!==o&&n.set(s.key,o),i.isValidDocument()||i.convertToNoDocument(So.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pu())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(e,t)=>zu(e,t))&&lo(this.baseMutations,e.baseMutations,(e,t)=>zu(e,t))}}class Qu{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){$a(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let s=hu;const r=e.mutations;for(let i=0;i<r.length;i++)s=s.insert(r[i].key,n[i].version);return new Qu(e,t,n,s)}}class Xu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ju{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zu,ed;function td(e){switch(e){case Ha.OK:return Va(64938);case Ha.CANCELLED:case Ha.UNKNOWN:case Ha.DEADLINE_EXCEEDED:case Ha.RESOURCE_EXHAUSTED:case Ha.INTERNAL:case Ha.UNAVAILABLE:case Ha.UNAUTHENTICATED:return!1;case Ha.INVALID_ARGUMENT:case Ha.NOT_FOUND:case Ha.ALREADY_EXISTS:case Ha.PERMISSION_DENIED:case Ha.FAILED_PRECONDITION:case Ha.ABORTED:case Ha.OUT_OF_RANGE:case Ha.UNIMPLEMENTED:case Ha.DATA_LOSS:return!0;default:return Va(15467,{code:e})}}function nd(e){if(void 0===e)return Ma("GRPC error has no .code"),Ha.UNKNOWN;switch(e){case Zu.OK:return Ha.OK;case Zu.CANCELLED:return Ha.CANCELLED;case Zu.UNKNOWN:return Ha.UNKNOWN;case Zu.DEADLINE_EXCEEDED:return Ha.DEADLINE_EXCEEDED;case Zu.RESOURCE_EXHAUSTED:return Ha.RESOURCE_EXHAUSTED;case Zu.INTERNAL:return Ha.INTERNAL;case Zu.UNAVAILABLE:return Ha.UNAVAILABLE;case Zu.UNAUTHENTICATED:return Ha.UNAUTHENTICATED;case Zu.INVALID_ARGUMENT:return Ha.INVALID_ARGUMENT;case Zu.NOT_FOUND:return Ha.NOT_FOUND;case Zu.ALREADY_EXISTS:return Ha.ALREADY_EXISTS;case Zu.PERMISSION_DENIED:return Ha.PERMISSION_DENIED;case Zu.FAILED_PRECONDITION:return Ha.FAILED_PRECONDITION;case Zu.ABORTED:return Ha.ABORTED;case Zu.OUT_OF_RANGE:return Ha.OUT_OF_RANGE;case Zu.UNIMPLEMENTED:return Ha.UNIMPLEMENTED;case Zu.DATA_LOSS:return Ha.DATA_LOSS;default:return Va(39323,{code:e})}}(ed=Zu||(Zu={}))[ed.OK=0]="OK",ed[ed.CANCELLED=1]="CANCELLED",ed[ed.UNKNOWN=2]="UNKNOWN",ed[ed.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ed[ed.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ed[ed.NOT_FOUND=5]="NOT_FOUND",ed[ed.ALREADY_EXISTS=6]="ALREADY_EXISTS",ed[ed.PERMISSION_DENIED=7]="PERMISSION_DENIED",ed[ed.UNAUTHENTICATED=16]="UNAUTHENTICATED",ed[ed.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ed[ed.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ed[ed.ABORTED=10]="ABORTED",ed[ed.OUT_OF_RANGE=11]="OUT_OF_RANGE",ed[ed.UNIMPLEMENTED=12]="UNIMPLEMENTED",ed[ed.INTERNAL=13]="INTERNAL",ed[ed.UNAVAILABLE=14]="UNAVAILABLE",ed[ed.DATA_LOSS=15]="DATA_LOSS";let sd=null;const rd=new ga([4294967295,4294967295],0);function id(e){const t=no().encode(e),n=new va;return n.update(t),new Uint8Array(n.digest())}function ad(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ga([n,s],0),new ga([r,i],0)]}class od{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ld(`Invalid padding: ${t}`);if(n<0)throw new ld(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ld(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ld(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ga.fromNumber(this.fe)}pe(e,t,n){let s=e.add(t.multiply(ga.fromNumber(n)));return 1===s.compare(rd)&&(s=new ga([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=id(e),[n,s]=ad(t);for(let r=0;r<this.hashCount;r++){const e=this.pe(n,s,r);if(!this.ye(e))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),i=new od(r,s,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.fe)return;const t=id(e),[n,s]=ad(t);for(let r=0;r<this.hashCount;r++){const e=this.pe(n,s,r);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(e,t,n,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cd(So.min(),s,new wl(ro),iu(),pu())}}class ud{constructor(e,t,n,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ud(n,t,pu(),pu(),pu())}}class dd{constructor(e,t,n,s){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=s}}class hd{constructor(e,t){this.targetId=e,this.De=t}}class md{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Il.EMPTY_BYTE_STRING,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class pd{constructor(){this.ve=0,this.Ce=vd(),this.Fe=Il.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=pu(),t=pu(),n=pu();return this.Ce.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Va(38017,{changeType:r})}}),new ud(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=vd()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$a(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class fd{constructor(e){this.We=e,this.Ge=new Map,this.ze=iu(),this.je=gd(),this.Je=gd(),this.He=new wl(ro)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Va(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,s=this.st(t);if(s){const r=s.target;if(Vc(r))if(0===n){const e=new fo(r.path);this.Xe(t,e,mc.newNoDocument(e,So.min()))}else $a(1===n,20013,{expectedCount:n});else{const s=this.ot(t);if(s!==n){const n=this._t(e),r=n?this.ut(n,e,s):1;if(0!==r){this.rt(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==sd||sd.ct(function(e,t,n,s,r){var i,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===r,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==s?void 0:s.mightContain(e))&&void 0!==t&&t}}),d}(s,e.De,this.We.lt(),n,r))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:r=0}=t;let i,a;try{i=Rl(n).toUint8Array()}catch(e){if(e instanceof Sl)return Ua("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new od(i,s,r)}catch(e){return Ua(e instanceof ld?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let s=0;return n.forEach(n=>{const r=this.We.lt(),i=`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.Xe(t,n,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((n,s)=>{const r=this.st(s);if(r){if(n.current&&Vc(r.target)){const t=new fo(r.target.path);this.Tt(t).has(s)||this.It(s,t)||this.Xe(s,t,mc.newNoDocument(t,e))}n.Ne&&(t.set(s,n.Le()),n.ke())}});let n=pu();this.Je.forEach((e,t)=>{let s=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(s=!1,!1)}),s&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const s=new cd(e,t,this.He,this.ze,n);return this.ze=iu(),this.je=gd(),this.Je=gd(),this.He=new wl(ro),s}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new pd,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new El(ro),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new El(ro),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||La("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new pd),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function gd(){return new wl(fo.comparator)}function vd(){return new wl(fo.comparator)}const yd={asc:"ASCENDING",desc:"DESCENDING"},xd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bd={and:"AND",or:"OR"};class wd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nd(e,t){return e.useProto3Json||$o(t)?t:{value:t}}function jd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ed(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _d(e,t){return jd(e,t.toTimestamp())}function kd(e){return $a(!!e,49232),So.fromTimestamp(function(e){const t=Cl(e);return new ko(t.seconds,t.nanos)}(e))}function Sd(e,t){return Id(e,t).canonicalString()}function Id(e,t){const n=function(e){return new ho(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Td(e){const t=ho.fromString(e);return $a(Yd(t),10190,{key:t.toString()}),t}function Cd(e,t){return Sd(e.databaseId,t.path)}function Ad(e,t){const n=Td(t);if(n.get(1)!==e.databaseId.projectId)throw new qa(Ha.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qa(Ha.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new fo(Od(n))}function Rd(e,t){return Sd(e.databaseId,t)}function Pd(e){const t=Td(e);return 4===t.length?ho.emptyPath():Od(t)}function Dd(e){return new ho(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Od(e){return $a(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ld(e,t,n){return{name:Cd(e,t),fields:n.value.mapValue.fields}}function Md(e,t){let n;if(t instanceof $u)n={update:Ld(e,t.key,t.value)};else if(t instanceof Ku)n={delete:Cd(e,t.key)};else if(t instanceof Bu)n={update:Ld(e,t.key,t.data),updateMask:Gd(t.fieldMask)};else{if(!(t instanceof Gu))return Va(16599,{Rt:t.type});n={verify:Cd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _u)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Su)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw Va(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_d(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Va(27497)}(e,t.precondition)),n}function Ud(e,t){return{documents:[Rd(e,t.path)]}}function Fd(e,t){const n={structuredQuery:{}},s=t.path;let r;null!==t.collectionGroup?(r=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Rd(e,r);const i=function(e){if(0!==e.length)return Kd(wc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:qd(e.field),direction:$d(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Nd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:r}}function Vd(e){let t=Pd(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){$a(1===s,65062);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=zd(e);return t instanceof wc&&jc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new vc(Wd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,$o(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new pc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new pc(n,t)}(n.endAt)),$c(t,r,a,i,o,"F",l,c)}function zd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wd(e.unaryFilter.field);return bc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Wd(e.unaryFilter.field);return bc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wd(e.unaryFilter.field);return bc.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Wd(e.unaryFilter.field);return bc.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Va(61313);default:return Va(60726)}}(e):void 0!==e.fieldFilter?function(e){return bc.create(Wd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Va(58110);default:return Va(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wc.create(e.compositeFilter.filters.map(e=>zd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Va(1026)}}(e.compositeFilter.op))}(e):Va(30097,{filter:e})}function $d(e){return yd[e]}function Bd(e){return xd[e]}function Hd(e){return bd[e]}function qd(e){return{fieldPath:e.canonicalString()}}function Wd(e){return po.fromServerFormat(e.fieldPath)}function Kd(e){return e instanceof bc?function(e){if("=="===e.op){if(ac(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NAN"}};if(ic(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ac(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NAN"}};if(ic(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(e.field),op:Bd(e.op),value:e.value}}}(e):e instanceof wc?function(e){const t=e.getFilters().map(e=>Kd(e));return 1===t.length?t[0]:{compositeFilter:{op:Hd(e.op),filters:t}}}(e):Va(54877,{filter:e})}function Gd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Yd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Qd{constructor(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:So.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:So.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Il.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Qd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xd{constructor(e){this.gt=e}}function Jd(e){const t=Vd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yc(t,t.limit,"L"):t}class Zd{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Al(e.integerValue));else if("doubleValue"in e){const n=Al(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Bo(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=Cl(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Rl(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?uc(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):lc(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Va(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const s of Object.keys(n))this.xt(s,t),this.Dt(n[s],t)}Lt(e,t){var n,s;const r=e.fields||{};this.Ct(t,53);const i=Kl,a=(null===(s=null===(n=r[i].arrayValue)||void 0===n?void 0:n.values)||void 0===s?void 0:s.length)||0;this.Ct(t,15),t.Ft(Al(a)),this.xt(i,t),this.Dt(r[i],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const s of n)this.Dt(s,t)}Bt(e,t){this.Ct(t,37),fo.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Zd.Ut=new Zd;class eh{constructor(){this.Dn=new th}addToCollectionParentIndex(e,t){return this.Dn.add(t),Mo.resolve()}getCollectionParents(e,t){return Mo.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Mo.resolve()}deleteFieldIndex(e,t){return Mo.resolve()}deleteAllFieldIndexes(e){return Mo.resolve()}createTargetIndexes(e,t){return Mo.resolve()}getDocumentsMatchingTarget(e,t){return Mo.resolve(null)}getIndexType(e,t){return Mo.resolve(0)}getFieldIndexes(e,t){return Mo.resolve([])}getNextCollectionGroupToUpdate(e){return Mo.resolve(null)}getMinOffset(e,t){return Mo.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,t){return Mo.resolve(Ro.min())}updateCollectionGroup(e,t,n){return Mo.resolve()}updateIndexEntries(e,t){return Mo.resolve()}}class th{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new El(ho.comparator),r=!s.has(n);return this.index[t]=s.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new El(ho.comparator)).toArray()}}new Uint8Array(0);const nh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sh=41943040;class rh{static withCacheSize(e){return new rh(e,rh.DEFAULT_COLLECTION_PERCENTILE,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}rh.DEFAULT_COLLECTION_PERCENTILE=10,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rh.DEFAULT=new rh(sh,rh.DEFAULT_COLLECTION_PERCENTILE,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rh.DISABLED=new rh(-1,0,0);class ih{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ih(0)}static ur(){return new ih(-1)}}const ah="LruGarbageCollector",oh=1048576;function lh(e,t){let[n,s]=e,[r,i]=t;const a=ro(n,r);return 0===a?ro(s,i):a}class ch{constructor(e){this.Tr=e,this.buffer=new El(lh),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();lh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){La(ah,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fo(e)?La(ah,"Ignoring IndexedDB error during garbage collection: ",e):await Lo(e)}await this.Rr(3e5)})}}class dh{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Mo.resolve(Vo.ue);const n=new ch(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(La("LruGarbageCollector","Garbage collection skipped; disabled"),Mo.resolve(nh)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(La("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nh):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,s,r,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(La("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),s=this.params.maximumSequenceNumbersToCollect):s=t,i=Date.now(),this.nthSequenceNumber(e,s))).next(s=>(n=s,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(r=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Oa()<=yt.DEBUG&&La("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${s} in `+(a-i)+"ms\n"+`\tRemoved ${r} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Mo.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:e})))}}function hh(e,t){return new dh(e,t)}class mh{constructor(){this.changes=new su(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Mo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ph{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fh{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Fu(n.mutation,e,kl.empty(),ko.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,pu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pu();const s=cu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(e=>{let t=ou();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=cu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,pu()))}populateOverlays(e,t,n){const s=[];return n.forEach(e=>{t.has(e)||s.push(e)}),this.documentOverlayCache.getOverlays(e,s).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,s){let r=iu();const i=du(),a=du();return t.forEach((e,t)=>{const a=n.get(t.key);s.has(t.key)&&(void 0===a||a.mutation instanceof Bu)?r=r.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Fu(a.mutation,t,a.mutation.getFieldMask(),ko.now())):i.set(t.key,kl.empty())}),this.recalculateAndSaveOverlays(e,r).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new ph(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=du();let s=new wl((e,t)=>e-t),r=pu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const r of e)r.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||kl.empty();a=r.applyToLocalView(i,a),n.set(e,a);const o=(s.get(r.batchId)||pu()).add(e);s=s.insert(r.batchId,o)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const s=a.getNext(),o=s.key,l=s.value,c=uu();l.forEach(e=>{if(!r.has(e)){const s=Mu(t.get(e),n.get(e));null!==s&&c.set(e,s),r=r.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Mo.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,s){return function(e){return fo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(r=>{const i=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-r.size):Mo.resolve(cu());let a=Io,o=r;return i.next(t=>Mo.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),r.get(t)?Mo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,r)).next(()=>this.computeViews(e,o,t,pu())).next(e=>({batchId:a,changes:lu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fo(t)).next(e=>{let t=ou();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const r=t.collectionGroup;let i=ou();return this.indexManager.getCollectionParents(e,r).next(a=>Mo.forEach(a,a=>{const o=function(e,t){return new zc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n,s).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,s))).next(e=>{r.forEach((t,n)=>{const s=n.getKey();null===e.get(s)&&(e=e.insert(s,mc.newInvalidDocument(s)))});let n=ou();return e.forEach((e,s)=>{const i=r.get(e);void 0!==i&&Fu(i.mutation,s,kl.empty(),ko.now()),Zc(t,s)&&(n=n.insert(e,s))}),n})}}class gh{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Mo.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:kd(e.createTime)}}(t)),Mo.resolve()}getNamedQuery(e,t){return Mo.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Jd(e.bundledQuery),readTime:kd(e.readTime)}}(t)),Mo.resolve()}}class vh{constructor(){this.overlays=new wl(fo.comparator),this.kr=new Map}getOverlay(e,t){return Mo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cu();return Mo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,s)=>{this.wt(e,t,s)}),Mo.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.kr.get(n);return void 0!==s&&(s.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Mo.resolve()}getOverlaysForCollection(e,t,n){const s=cu(),r=t.length+1,i=new fo(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===r&&e.largestBatchId>n&&s.set(e.getKey(),e)}return Mo.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let r=new wl((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=cu(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=cu(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=s)););return Mo.resolve(a)}wt(e,t,n){const s=this.overlays.get(n.key);if(null!==s){const e=this.kr.get(s.largestBatchId).delete(n.key);this.kr.set(s.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xu(t,n));let r=this.kr.get(t);void 0===r&&(r=pu(),this.kr.set(t,r)),this.kr.set(t,r.add(n.key))}}class yh{constructor(){this.sessionToken=Il.EMPTY_BYTE_STRING}getSessionToken(e){return Mo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Mo.resolve()}}class xh{constructor(){this.qr=new El(bh.Qr),this.$r=new El(bh.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new bh(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new bh(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new fo(new ho([])),n=new bh(t,e),s=new bh(t,e+1),r=[];return this.$r.forEachInRange([n,s],e=>{this.Wr(e),r.push(e.key)}),r}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new fo(new ho([])),n=new bh(t,e),s=new bh(t,e+1);let r=pu();return this.$r.forEachInRange([n,s],e=>{r=r.add(e.key)}),r}containsKey(e){const t=new bh(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class bh{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return fo.comparator(e.key,t.key)||ro(e.Hr,t.Hr)}static Ur(e,t){return ro(e.Hr,t.Hr)||fo.comparator(e.key,t.key)}}class wh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new El(bh.Qr)}checkEmpty(e){return Mo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,s){const r=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Yu(r,t,n,s);this.mutationQueue.push(i);for(const a of s)this.Yr=this.Yr.add(new bh(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Mo.resolve(i)}lookupMutationBatch(e,t){return Mo.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.Xr(n),r=s<0?0:s;return Mo.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Mo.resolve(0===this.mutationQueue.length?zo:this.er-1)}getAllMutationBatches(e){return Mo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new bh(t,0),s=new bh(t,Number.POSITIVE_INFINITY),r=[];return this.Yr.forEachInRange([n,s],e=>{const t=this.Zr(e.Hr);r.push(t)}),Mo.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new El(ro);return t.forEach(e=>{const t=new bh(e,0),s=new bh(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,s],e=>{n=n.add(e.Hr)})}),Mo.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let r=n;fo.isDocumentKey(r)||(r=r.child(""));const i=new bh(new fo(r),0);let a=new El(ro);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===s&&(a=a.add(e.Hr)),!0)},i),Mo.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){$a(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Mo.forEach(t.mutations,s=>{const r=new bh(s.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new bh(t,0),s=this.Yr.firstAfterOrEqual(n);return Mo.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Mo.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Nh{constructor(e){this.ni=e,this.docs=new wl(fo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),r=s?s.size:0,i=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Mo.resolve(n?n.document.mutableCopy():mc.newInvalidDocument(t))}getEntries(e,t){let n=iu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():mc.newInvalidDocument(e))}),Mo.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let r=iu();const i=t.path,a=new fo(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Po(Ao(a),n)<=0||(s.has(a.key)||Zc(t,a))&&(r=r.insert(a.key,a.mutableCopy()))}return Mo.resolve(r)}getAllFromCollectionGroup(e,t,n,s){Va(9500)}ri(e,t){return Mo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new jh(this)}getSize(e){return Mo.resolve(this.size)}}class jh extends mh{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(n)}),Mo.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class Eh{constructor(e){this.persistence=e,this.ii=new su(e=>Uc(e),Fc),this.lastRemoteSnapshotVersion=So.min(),this.highestTargetId=0,this.si=0,this.oi=new xh,this.targetCount=0,this._i=ih.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Mo.resolve()}getLastRemoteSnapshotVersion(e){return Mo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mo.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Mo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Mo.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Mo.resolve()}updateTargetData(e,t){return this.hr(t),Mo.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Mo.resolve()}removeTargets(e,t,n){let s=0;const r=[];return this.ii.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(i),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Mo.waitFor(r).next(()=>s)}getTargetCount(e){return Mo.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Mo.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Mo.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(t=>{r.push(s.markPotentiallyOrphaned(e,t))}),Mo.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Mo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Mo.resolve(n)}containsKey(e,t){return Mo.resolve(this.oi.containsKey(t))}}class _h{constructor(e,t){this.ai={},this.overlays={},this.ui=new Vo(0),this.ci=!1,this.ci=!0,this.li=new yh,this.referenceDelegate=e(this),this.hi=new Eh(this),this.indexManager=new eh,this.remoteDocumentCache=function(e){return new Nh(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Xd(t),this.Ti=new gh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new wh(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){La("MemoryPersistence","Starting transaction:",e);const s=new kh(this.ui.next());return this.referenceDelegate.Ii(),n(s).next(e=>this.referenceDelegate.di(s).next(()=>e)).toPromise().then(e=>(s.raiseOnCommittedEvent(),e))}Ei(e,t){return Mo.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class kh extends Oo{constructor(e){super(),this.currentSequenceNumber=e}}class Sh{constructor(e){this.persistence=e,this.Ai=new xh,this.Ri=null}static Vi(e){return new Sh(e)}get mi(){if(this.Ri)return this.Ri;throw Va(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Mo.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Mo.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Mo.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mo.forEach(this.mi,n=>{const s=fo.fromPath(n);return this.fi(e,s).next(e=>{e||t.removeEntry(s,So.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Mo.or([()=>Mo.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ih{constructor(e,t){this.persistence=e,this.gi=new su(e=>Wo(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=hh(this,t)}static Vi(e,t){return new Ih(e,t)}Ii(){}di(e){return Mo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Mo.forEach(this.gi,(n,s)=>this.Sr(e,n,s).next(e=>e?Mo.resolve():t(s)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ri(e,s=>this.Sr(e,s,t).next(e=>{e||(n++,r.removeEntry(s,So.min()))})).next(()=>r.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Mo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Mo.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Mo.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Mo.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nc(e.data.value)),t}Sr(e,t,n){return Mo.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Mo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Th{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=s}static Es(e,t){let n=pu(),s=pu();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Th(e,t.fromCache,n,s)}}class Ch{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ah{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=et()?8:Uo(Je())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,s){const r={result:null};return this.ps(e,t).next(e=>{r.result=e}).next(()=>{if(!r.result)return this.ys(e,t,s,n).next(e=>{r.result=e})}).next(()=>{if(r.result)return;const n=new Ch;return this.ws(e,t,n).next(s=>{if(r.result=s,this.Rs)return this.Ss(e,t,n,s.size)})}).next(()=>r.result)}Ss(e,t,n,s){return n.documentReadCount<this.Vs?(Oa()<=yt.DEBUG&&La("QueryEngine","SDK will not create cache indexes for query:",Jc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Mo.resolve()):(Oa()<=yt.DEBUG&&La("QueryEngine","Query:",Jc(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.fs*s?(Oa()<=yt.DEBUG&&La("QueryEngine","The SDK decides to create cache indexes for query:",Jc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kc(t))):Mo.resolve())}ps(e,t){if(Hc(t))return Mo.resolve(null);let n=Kc(t);return this.indexManager.getIndexType(e,n).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Yc(t,null,"F"),n=Kc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const r=pu(...s);return this.gs.getDocuments(e,r).next(s=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.bs(t,s);return this.Ds(t,i,r,n.readTime)?this.ps(e,Yc(t,null,"F")):this.vs(e,i,t,n)}))})))}ys(e,t,n,s){return Hc(t)||s.isEqual(So.min())?Mo.resolve(null):this.gs.getDocuments(e,n).next(r=>{const i=this.bs(t,r);return this.Ds(t,i,n,s)?Mo.resolve(null):(Oa()<=yt.DEBUG&&La("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Jc(t)),this.vs(e,i,t,Co(s,Io)).next(e=>e))})}bs(e,t){let n=new El(tu(e));return t.forEach((t,s)=>{Zc(e,s)&&(n=n.add(s))}),n}Ds(e,t,n,s){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ws(e,t,n){return Oa()<=yt.DEBUG&&La("QueryEngine","Using full collection scan to execute query:",Jc(t)),this.gs.getDocumentsMatchingQuery(e,t,Ro.min(),n)}vs(e,t,n,s){return this.gs.getDocumentsMatchingQuery(e,n,s).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Rh="LocalStore";class Ph{constructor(e,t,n,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new wl(ro),this.Ms=new su(e=>Uc(e),Fc),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fh(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Dh(e,t,n,s){return new Ph(e,t,n,s)}async function Oh(e,t){const n=Ba(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.mutationQueue.getAllMutationBatches(e).next(r=>(s=r,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const r=[],i=[];let a=pu();for(const e of s){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:r,addedBatchIds:i}))})})}function Lh(e){const t=Ba(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Mh(e,t,n){let s=pu(),r=pu();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=iu();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),i.isNoDocument()&&i.version.isEqual(So.min())?(t.removeEntry(n,i.readTime),s=s.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),s=s.insert(n,i)):La(Rh,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{Ls:s,ks:r}})}function Uh(e,t){const n=Ba(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=zo),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Fh(e,t){const n=Ba(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let s;return n.hi.getTargetData(e,t).next(r=>r?(s=r,Mo.resolve(s)):n.hi.allocateTargetId(e).next(r=>(s=new Qd(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,s).next(()=>s))))}).then(e=>{const s=n.Fs.get(e.targetId);return(null===s||e.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function Vh(e,t,n){const s=Ba(e),r=s.Fs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,e=>s.persistence.referenceDelegate.removeTarget(e,r))}catch(e){if(!Fo(e))throw e;La(Rh,`Failed to update sequence numbers for target ${t}: ${e}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(r.target)}function zh(e,t,n){const s=Ba(e);let r=So.min(),i=pu();return s.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const s=Ba(e),r=s.Ms.get(n);return void 0!==r?Mo.resolve(s.Fs.get(r)):s.hi.getTargetData(t,n)}(s,e,Kc(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>s.Cs.getDocumentsMatchingQuery(e,t,n?r:So.min(),n?i:pu())).next(e=>($h(s,eu(t),e),{documents:e,qs:i})))}function $h(e,t,n){let s=e.xs.get(t)||So.min();n.forEach((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)}),e.xs.set(t,s)}class Bh{constructor(){this.activeTargetIds=gu()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hh{constructor(){this.Fo=new Bh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Bh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qh{xo(e){}shutdown(){}}const Wh="ConnectivityMonitor";class Kh{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){La(Wh,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){La(Wh,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gh=null;function Yh(){return null===Gh?Gh=268435456+Math.round(2147483648*Math.random()):Gh++,"0x"+Gh.toString(16)}const Qh="RestConnection",Xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jh{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${s}`,this.Ko=this.databaseId.database===zl?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Wo(e,t,n,s,r){const i=Yh(),a=this.Go(e,t.toUriEncodedString());La(Qh,`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(o,s,r);const{host:l}=new URL(a),c=We(l);return this.jo(e,a,o,n,c).then(t=>(La(Qh,`Received RPC '${e}' ${i}: `,t),t),t=>{throw Ua(Qh,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,s,r,i){return this.Wo(e,t,n,s,r)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Xh[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class Zh{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const em="WebChannelConnection";class tm extends Jh{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,s,r){const i=Yh();return new Promise((r,a)=>{const o=new ba;o.setWithCredentials(!0),o.listenOnce(Na.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case ja.NO_ERROR:const t=o.getResponseJson();La(em,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),r(t);break;case ja.TIMEOUT:La(em,`RPC '${e}' ${i} timed out`),a(new qa(Ha.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const n=o.getStatus();if(La(em,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ha).indexOf(t)>=0?t:Ha.UNKNOWN}(t.status);a(new qa(e,t.message))}else a(new qa(Ha.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new qa(Ha.UNAVAILABLE,"Connection failed."));break;default:Va(9055,{c_:e,streamId:i,l_:o.getLastErrorCode(),h_:o.getLastError()})}}finally{La(em,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);La(em,`RPC '${e}' ${i} sending request:`,s),o.send(t,"POST",l,n,15)})}P_(e,t,n){const s=Yh(),r=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Sa(),a=ka(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.zo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=r.join("");La(em,`Creating RPC '${e}' stream ${s}: ${c}`,o);const u=i.createWebChannel(c,o);this.T_(u);let d=!1,h=!1;const m=new Zh({Ho:t=>{h?La(em,`Not sending because RPC '${e}' stream ${s} is closed:`,t):(d||(La(em,`Opening RPC '${e}' stream ${s} transport.`),u.open(),d=!0),La(em,`RPC '${e}' stream ${s} sending:`,t),u.send(t))},Yo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,wa.EventType.OPEN,()=>{h||(La(em,`RPC '${e}' stream ${s} transport opened.`),m.s_())}),p(u,wa.EventType.CLOSE,()=>{h||(h=!0,La(em,`RPC '${e}' stream ${s} transport closed`),m.__(),this.I_(u))}),p(u,wa.EventType.ERROR,t=>{h||(h=!0,Ua(em,`RPC '${e}' stream ${s} transport errored. Name:`,t.name,"Message:",t.message),m.__(new qa(Ha.UNAVAILABLE,"The operation could not be completed")))}),p(u,wa.EventType.MESSAGE,t=>{var n;if(!h){const r=t.data[0];$a(!!r,16349);const i=r,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){La(em,`RPC '${e}' stream ${s} received error:`,a);const t=a.status;let n=function(e){const t=Zu[e];if(void 0!==t)return nd(t)}(t),r=a.message;void 0===n&&(n=Ha.INTERNAL,r="Unknown error status: "+t+" with message "+a.message),h=!0,m.__(new qa(n,r)),u.close()}else La(em,`RPC '${e}' stream ${s} received:`,r),m.a_(r)}}),p(a,_a.STAT_EVENT,t=>{t.stat===Ea.PROXY?La(em,`RPC '${e}' stream ${s} detected buffering proxy`):t.stat===Ea.NOPROXY&&La(em,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.o_()},0),m}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function nm(){return"undefined"!=typeof document?document:null}function sm(e){return new wd(e,!0)}class rm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=s,this.A_=r,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-n);s>0&&La("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const im="PersistentStream";class am{constructor(e,t,n,s,r,i,a,o){this.Fi=e,this.w_=n,this.S_=s,this.connection=r,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rm(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===Ha.RESOURCE_EXHAUSTED?(Ma(t.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ha.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,s]=e;this.b_===t&&this.W_(n,s)},t=>{e(()=>{const e=new qa(Ha.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return La(im,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(La(im,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class om extends am{constructor(e,t,n,s,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,i),this.serializer=r}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Va(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?($a(void 0===t||"string"==typeof t,58123),Il.fromBase64String(t||"")):($a(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Il.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Ha.UNKNOWN:nd(e.code);return new qa(t,e.message||"")}(a);n=new md(s,r,i,o||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=Ad(e,s.document.name),i=kd(s.document.updateTime),a=s.document.createTime?kd(s.document.createTime):So.min(),o=new dc({mapValue:{fields:s.document.fields}}),l=mc.newFoundDocument(r,i,a,o),c=s.targetIds||[],u=s.removedTargetIds||[];n=new dd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=Ad(e,s.document),i=s.readTime?kd(s.readTime):So.min(),a=mc.newNoDocument(r,i),o=s.removedTargetIds||[];n=new dd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=Ad(e,s.document),i=s.removedTargetIds||[];n=new dd([],i,r,null)}else{if(!("filter"in t))return Va(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:s=0,unchangedNames:r}=e,i=new Ju(s,r),a=e.targetId;n=new hd(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return So.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?So.min():t.readTime?kd(t.readTime):So.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Dd(this.serializer),t.addTarget=function(e,t){let n;const s=t.target;if(n=Vc(s)?{documents:Ud(e,s)}:{query:Fd(e,s).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ed(e,t.resumeToken);const s=Nd(e,t.expectedCount);null!==s&&(n.expectedCount=s)}else if(t.snapshotVersion.compareTo(So.min())>0){n.readTime=jd(e,t.snapshotVersion.toTimestamp());const s=Nd(e,t.expectedCount);null!==s&&(n.expectedCount=s)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Va(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Dd(this.serializer),t.removeTarget=e,this.k_(t)}}class lm extends am{constructor(e,t,n,s,r,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,i),this.serializer=r}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return $a(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$a(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){$a(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?($a(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?kd(e.updateTime):kd(t);return n.isEqual(So.min())&&(n=kd(t)),new Pu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=kd(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Dd(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Md(this.serializer,e))};this.k_(t)}}class cm{}class um extends cm{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new qa(Ha.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,a]=r;return this.connection.Wo(e,Id(t,n),s,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ha.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qa(Ha.UNKNOWN,e.toString())})}Jo(e,t,n,s,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Jo(e,Id(t,n),s,a,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ha.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qa(Ha.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class dm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ma(t),this._a=!1):La("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const hm="RemoteStore";class mm{constructor(e,t,n,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=r,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Nm(this)&&(La(hm,"Restarting streams for network reachability change."),await async function(e){const t=Ba(e);t.Ia.add(4),await fm(t),t.Aa.set("Unknown"),t.Ia.delete(4),await pm(t)}(this))})}),this.Aa=new dm(n,s)}}async function pm(e){if(Nm(e))for(const t of e.da)await t(!0)}async function fm(e){for(const t of e.da)await t(!1)}function gm(e,t){const n=Ba(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),wm(n)?bm(n):zm(n).x_()&&ym(n,t))}function vm(e,t){const n=Ba(e),s=zm(n);n.Ta.delete(t),s.x_()&&xm(n,t),0===n.Ta.size&&(s.x_()?s.B_():Nm(n)&&n.Aa.set("Unknown"))}function ym(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(So.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zm(e).H_(t)}function xm(e,t){e.Ra.$e(t),zm(e).Y_(t)}function bm(e){e.Ra=new fd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),zm(e).start(),e.Aa.aa()}function wm(e){return Nm(e)&&!zm(e).M_()&&e.Ta.size>0}function Nm(e){return 0===Ba(e).Ia.size}function jm(e){e.Ra=void 0}async function Em(e){e.Aa.set("Online")}async function _m(e){e.Ta.forEach((t,n)=>{ym(e,t)})}async function km(e,t){jm(e),wm(e)?(e.Aa.la(t),bm(e)):e.Aa.set("Unknown")}async function Sm(e,t,n){if(e.Aa.set("Online"),t instanceof md&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const s of t.targetIds)e.Ta.has(s)&&(await e.remoteSyncer.rejectListen(s,n),e.Ta.delete(s),e.Ra.removeTarget(s))}(e,t)}catch(n){La(hm,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Im(e,n)}else if(t instanceof dd?e.Ra.Ye(t):t instanceof hd?e.Ra.it(t):e.Ra.et(t),!n.isEqual(So.min()))try{const t=await Lh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,s)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Ta.get(s);r&&e.Ta.set(s,r.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const s=e.Ta.get(t);if(!s)return;e.Ta.set(t,s.withResumeToken(Il.EMPTY_BYTE_STRING,s.snapshotVersion)),xm(e,t);const r=new Qd(s.target,t,n,s.sequenceNumber);ym(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){La(hm,"Failed to raise snapshot:",t),await Im(e,t)}}async function Im(e,t,n){if(!Fo(t))throw t;e.Ia.add(1),await fm(e),e.Aa.set("Offline"),n||(n=()=>Lh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{La(hm,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await pm(e)})}function Tm(e,t){return t().catch(n=>Im(e,n,t))}async function Cm(e){const t=Ba(e),n=$m(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:zo;for(;Am(t);)try{const e=await Uh(t.localStore,s);if(null===e){0===t.Pa.length&&n.B_();break}s=e.batchId,Rm(t,e)}catch(e){await Im(t,e)}Pm(t)&&Dm(t)}function Am(e){return Nm(e)&&e.Pa.length<10}function Rm(e,t){e.Pa.push(t);const n=$m(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Pm(e){return Nm(e)&&!$m(e).M_()&&e.Pa.length>0}function Dm(e){$m(e).start()}async function Om(e){$m(e).na()}async function Lm(e){const t=$m(e);for(const n of e.Pa)t.X_(n.mutations)}async function Mm(e,t,n){const s=e.Pa.shift(),r=Qu.from(s,t,n);await Tm(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Cm(e)}async function Um(e,t){t&&$m(e).Z_&&await async function(e,t){if(function(e){return td(e)&&e!==Ha.ABORTED}(t.code)){const n=e.Pa.shift();$m(e).N_(),await Tm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Cm(e)}}(e,t),Pm(e)&&Dm(e)}async function Fm(e,t){const n=Ba(e);n.asyncQueue.verifyOperationInProgress(),La(hm,"RemoteStore received new credentials");const s=Nm(n);n.Ia.add(3),await fm(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await pm(n)}async function Vm(e,t){const n=Ba(e);t?(n.Ia.delete(2),await pm(n)):t||(n.Ia.add(2),await fm(n),n.Aa.set("Unknown"))}function zm(e){return e.Va||(e.Va=function(e,t,n){const s=Ba(e);return s.ia(),new om(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Em.bind(null,e),e_:_m.bind(null,e),n_:km.bind(null,e),J_:Sm.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),wm(e)?bm(e):e.Aa.set("Unknown")):(await e.Va.stop(),jm(e))})),e.Va}function $m(e){return e.ma||(e.ma=function(e,t,n){const s=Ba(e);return s.ia(),new lm(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Om.bind(null,e),n_:Um.bind(null,e),ea:Lm.bind(null,e),ta:Mm.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Cm(e)):(await e.ma.stop(),e.Pa.length>0&&(La(hm,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class Bm{constructor(e,t,n,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=r,this.deferred=new Wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,r){const i=Date.now()+n,a=new Bm(e,t,i,s,r);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qa(Ha.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(e,t){if(Ma("AsyncQueue",`${t}: ${e}`),Fo(e))return new qa(Ha.UNAVAILABLE,`${t}: ${e}`);throw e}class qm{static emptySet(e){return new qm(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||fo.comparator(t.key,n.key):(e,t)=>fo.comparator(e.key,t.key),this.keyedMap=ou(),this.sortedSet=new wl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(!e.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wm{constructor(){this.fa=new wl(fo.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Va(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Km{constructor(e,t,n,s,r,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=r,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,s,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Km(e,t,qm.emptySet(t),i,n,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}class Gm{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Ym{constructor(){this.queries=Qm(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=Ba(e),s=n.queries;n.queries=Qm(),s.forEach((e,n)=>{for(const s of n.wa)s.onError(t)})}(this,new qa(Ha.ABORTED,"Firestore shutting down"))}}function Qm(){return new su(e=>Xc(e),Qc)}async function Xm(e,t){const n=Ba(e);let s=3;const r=t.query;let i=n.queries.get(r);i?!i.Sa()&&t.ba()&&(s=2):(i=new Gm,s=t.ba()?0:1);try{switch(s){case 0:i.ya=await n.onListen(r,!0);break;case 1:i.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=Hm(e,`Initialization of query '${Jc(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,i),i.wa.push(t),t.va(n.onlineState),i.ya&&t.Ca(i.ya)&&tp(n)}async function Jm(e,t){const n=Ba(e),s=t.query;let r=3;const i=n.queries.get(s);if(i){const e=i.wa.indexOf(t);e>=0&&(i.wa.splice(e,1),0===i.wa.length?r=t.ba()?0:1:!i.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Zm(e,t){const n=Ba(e);let s=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(r)&&(s=!0);t.ya=r}}s&&tp(n)}function ep(e,t,n){const s=Ba(e),r=s.queries.get(t);if(r)for(const i of r.wa)i.onError(n);s.queries.delete(t)}function tp(e){e.Da.forEach(e=>{e.next()})}var np,sp;(sp=np||(np={})).Fa="default",sp.Cache="cache";class rp{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Km(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Km.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==np.Cache}}class ip{constructor(e){this.key=e}}class ap{constructor(e){this.key=e}}class op{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=pu(),this.mutatedKeys=pu(),this.Xa=tu(e),this.eu=new qm(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Wm,s=t?t.eu:this.eu;let r=t?t.mutatedKeys:this.mutatedKeys,i=s,a=!1;const o="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,l="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((e,t)=>{const c=s.get(e),u=Zc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.iu(c,u)||(n.track({type:2,doc:u}),m=!0,(o&&this.Xa(u,o)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(u?(i=i.add(u),r=h?r.add(e):r.delete(e)):(i=i.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{eu:i,ru:n,Ds:a,mutatedKeys:r}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const r=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const i=e.ru.pa();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Va(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),s=null!=s&&s;const a=t&&!s?this.ou():[],o=0===this.Za.size&&this.current&&!s?1:0,l=o!==this.Ya;return this.Ya=o,0!==i.length||l?{snapshot:new Km(this.query,e.eu,r,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Wm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=pu(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new ap(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new ip(n))}),t}uu(e){this.Ha=e.qs,this.Za=pu();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Km.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const lp="SyncEngine";class cp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class up{constructor(e){this.key=e,this.lu=!1}}class dp{constructor(e,t,n,s,r,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=i,this.hu={},this.Pu=new su(e=>Xc(e),Qc),this.Tu=new Map,this.Iu=new Set,this.du=new wl(fo.comparator),this.Eu=new Map,this.Au=new xh,this.Ru={},this.Vu=new Map,this.mu=ih.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function hp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=Pp(e);let r;const i=s.Pu.get(t);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.cu()):r=await pp(s,t,n,!0),r}async function mp(e,t){const n=Pp(e);await pp(n,t,!0,!1)}async function pp(e,t,n,s){const r=await Fh(e.localStore,Kc(t)),i=r.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return s&&(o=await fp(e,t,i,"current"===a,r.resumeToken)),e.isPrimaryClient&&n&&gm(e.remoteStore,r),o}async function fp(e,t,n,s,r){e.gu=(t,n,s)=>async function(e,t,n,s){let r=t.view.nu(n);r.Ds&&(r=await zh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,r)}));const i=s&&s.targetChanges.get(t.targetId),a=s&&null!=s.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,i,a);return Sp(e,t.targetId,o._u),o.snapshot}(e,t,n,s);const i=await zh(e.localStore,t,!0),a=new op(t,i.qs),o=a.nu(i.documents),l=ud.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==e.onlineState,r),c=a.applyChanges(o,e.isPrimaryClient,l);Sp(e,n,c._u);const u=new cp(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function gp(e,t,n){const s=Ba(e),r=s.Pu.get(t),i=s.Tu.get(r.targetId);if(i.length>1)return s.Tu.set(r.targetId,i.filter(e=>!Qc(e,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Vh(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&vm(s.remoteStore,r.targetId),_p(s,r.targetId)}).catch(Lo)):(_p(s,r.targetId),await Vh(s.localStore,r.targetId,!0))}async function vp(e,t){const n=Ba(e),s=n.Pu.get(t),r=n.Tu.get(s.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vm(n.remoteStore,s.targetId))}async function yp(e,t){const n=Ba(e);try{const e=await function(e,t){const n=Ba(e),s=t.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const a=[];t.targetChanges.forEach((i,o)=>{const l=r.get(o);if(!l)return;a.push(n.hi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.hi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Il.EMPTY_BYTE_STRING,So.min()).withLastLimboFreeSnapshotVersion(So.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,s)),r=r.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.hi.updateTargetData(e,c))});let o=iu(),l=pu();if(t.documentUpdates.forEach(s=>{t.resolvedLimboDocuments.has(s)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,s))}),a.push(Mh(e,i,t.documentUpdates).next(e=>{o=e.Ls,l=e.ks})),!s.isEqual(So.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,s));a.push(t)}return Mo.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Fs=r,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const s=n.Eu.get(t);s&&($a(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?s.lu=!0:e.modifiedDocuments.size>0?$a(s.lu,14607):e.removedDocuments.size>0&&($a(s.lu,42227),s.lu=!1))}),await Cp(n,e,t)}catch(e){await Lo(e)}}function xp(e,t,n){const s=Ba(e);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const e=[];s.Pu.forEach((n,s)=>{const r=s.view.va(t);r.snapshot&&e.push(r.snapshot)}),function(e,t){const n=Ba(e);n.onlineState=t;let s=!1;n.queries.forEach((e,n)=>{for(const r of n.wa)r.va(t)&&(s=!0)}),s&&tp(n)}(s.eventManager,t),e.length&&s.hu.J_(e),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function bp(e,t,n){const s=Ba(e);s.sharedClientState.updateQueryState(t,"rejected",n);const r=s.Eu.get(t),i=r&&r.key;if(i){let e=new wl(fo.comparator);e=e.insert(i,mc.newNoDocument(i,So.min()));const n=pu().add(i),r=new cd(So.min(),new Map,new wl(ro),e,n);await yp(s,r),s.du=s.du.remove(i),s.Eu.delete(t),Tp(s)}else await Vh(s.localStore,t,!1).then(()=>_p(s,t,n)).catch(Lo)}async function wp(e,t){const n=Ba(e),s=t.batch.batchId;try{const e=await function(e,t){const n=Ba(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const s=t.batch.keys(),r=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,s){const r=n.batch,i=r.keys();let a=Mo.resolve();return i.forEach(e=>{a=a.next(()=>s.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);$a(null!==i,48541),t.version.compareTo(i)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),s.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,r))}(n,e,t,r).next(()=>r.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=pu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,s))})}(n.localStore,t);Ep(n,s,null),jp(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cp(n,e)}catch(e){await Lo(e)}}async function Np(e,t,n){const s=Ba(e);try{const e=await function(e,t){const n=Ba(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let s;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>($a(null!==t,37113),s=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,s)).next(()=>n.localDocuments.getDocuments(e,s))})}(s.localStore,t);Ep(s,t,n),jp(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Cp(s,e)}catch(n){await Lo(n)}}function jp(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Ep(e,t,n){const s=Ba(e);let r=s.Ru[s.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),s.Ru[s.currentUser.toKey()]=r}}function _p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Tu.get(t))e.Pu.delete(s),n&&e.hu.pu(s,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||kp(e,t)})}function kp(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(vm(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Tp(e))}function Sp(e,t,n){for(const s of n)s instanceof ip?(e.Au.addReference(s.key,t),Ip(e,s)):s instanceof ap?(La(lp,"Document no longer in limbo: "+s.key),e.Au.removeReference(s.key,t),e.Au.containsKey(s.key)||kp(e,s.key)):Va(19791,{yu:s})}function Ip(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Iu.has(s)||(La(lp,"New document in limbo: "+n),e.Iu.add(s),Tp(e))}function Tp(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new fo(ho.fromString(t)),s=e.mu.next();e.Eu.set(s,new up(n)),e.du=e.du.insert(n,s),gm(e.remoteStore,new Qd(Kc(Bc(n.path)),s,"TargetPurposeLimboResolution",Vo.ue))}}async function Cp(e,t,n){const s=Ba(e),r=[],i=[],a=[];s.Pu.isEmpty()||(s.Pu.forEach((e,o)=>{a.push(s.gu(o,t,n).then(e=>{var t;if((e||n)&&s.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;s.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=Th.Es(o.targetId,e);i.push(t)}}))}),await Promise.all(a),s.hu.J_(r),await async function(e,t){const n=Ba(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Mo.forEach(t,t=>Mo.forEach(t.Is,s=>n.persistence.referenceDelegate.addReference(e,t.targetId,s)).next(()=>Mo.forEach(t.ds,s=>n.persistence.referenceDelegate.removeReference(e,t.targetId,s)))))}catch(e){if(!Fo(e))throw e;La(Rh,"Failed to update sequence numbers: "+e)}for(const s of t){const e=s.targetId;if(!s.fromCache){const t=n.Fs.get(e),s=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(s);n.Fs=n.Fs.insert(e,r)}}}(s.localStore,i))}async function Ap(e,t){const n=Ba(e);if(!n.currentUser.isEqual(t)){La(lp,"User change. New user:",t.toKey());const e=await Oh(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new qa(Ha.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Cp(n,e.Bs)}}function Rp(e,t){const n=Ba(e),s=n.Eu.get(t);if(s&&s.lu)return pu().add(s.key);{let e=pu();const s=n.Tu.get(t);if(!s)return e;for(const t of s){const s=n.Pu.get(t);e=e.unionWith(s.view.tu)}return e}}function Pp(e){const t=Ba(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bp.bind(null,t),t.hu.J_=Zm.bind(null,t.eventManager),t.hu.pu=ep.bind(null,t.eventManager),t}function Dp(e){const t=Ba(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Np.bind(null,t),t}class Op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Dh(this.persistence,new Ah,e.initialUser,this.serializer)}Du(e){return new _h(Sh.Vi,this.serializer)}bu(e){return new Hh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Op.provider={build:()=>new Op};class Lp extends Op{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$a(this.persistence.referenceDelegate instanceof Ih,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new uh(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?rh.withCacheSize(this.cacheSizeBytes):rh.DEFAULT;return new _h(e=>Ih.Vi(e,t),this.serializer)}}class Mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>xp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ap.bind(null,this.syncEngine),await Vm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ym}createDatastore(e){const t=sm(e.databaseInfo.databaseId),n=function(e){return new tm(e)}(e.databaseInfo);return function(e,t,n,s){return new um(e,t,n,s)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,s,r){return new mm(e,t,n,s,r)}(this.localStore,this.datastore,e.asyncQueue,e=>xp(this.syncEngine,e,0),Kh.C()?new Kh:new qh)}createSyncEngine(e,t){return function(e,t,n,s,r,i,a){const o=new dp(e,t,n,s,r,i);return a&&(o.fu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ba(e);La(hm,"RemoteStore shutting down."),t.Ia.add(5),await fm(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Mp.provider={build:()=>new Mp};class Up{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Fp="FirestoreClient";class Vp{constructor(e,t,n,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=Ra.UNAUTHENTICATED,this.clientId=so.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async e=>{La(Fp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(La(Fp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hm(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function zp(e,t){e.asyncQueue.verifyOperationInProgress(),La(Fp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async e=>{s.isEqual(e)||(await Oh(t.localStore,e),s=e)}),t.persistence.setDatabaseDeletedListener(()=>{Ua("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{La("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{Ua("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function $p(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Bp(e);La(Fp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Fm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Fm(t.remoteStore,n)),e._onlineComponents=t}async function Bp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){La(Fp,"Using user provided OfflineComponentProvider");try{await zp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ha.FAILED_PRECONDITION||e.code===Ha.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await zp(e,new Op)}}else La(Fp,"Using default OfflineComponentProvider"),await zp(e,new Lp(void 0));return e._offlineComponents}async function Hp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(La(Fp,"Using user provided OnlineComponentProvider"),await $p(e,e._uninitializedComponentsProvider._online)):(La(Fp,"Using default OnlineComponentProvider"),await $p(e,new Mp))),e._onlineComponents}function qp(e){return Hp(e).then(e=>e.syncEngine)}async function Wp(e){const t=await Hp(e),n=t.eventManager;return n.onListen=hp.bind(null,t.syncEngine),n.onUnlisten=gp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=vp.bind(null,t.syncEngine),n}function Kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new Wa;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,s,r){const i=new Up({next:o=>{i.Ou(),t.enqueueAndForget(()=>Jm(e,a));const l=o.docs.has(n);!l&&o.fromCache?r.reject(new qa(Ha.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&s&&"server"===s.source?r.reject(new qa(Ha.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),a=new rp(Bc(n.path),i,{includeMetadataChanges:!0,ka:!0});return Xm(e,a)}(await Wp(e),e.asyncQueue,t,n,s)),s.promise}function Gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new Wa;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,s,r){const i=new Up({next:n=>{i.Ou(),t.enqueueAndForget(()=>Jm(e,a)),n.fromCache&&"server"===s.source?r.reject(new qa(Ha.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),a=new rp(n,i,{includeMetadataChanges:!0,ka:!0});return Xm(e,a)}(await Wp(e),e.asyncQueue,t,n,s)),s.promise}function Yp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Qp=new Map,Xp="firestore.googleapis.com",Jp=!0;class Zp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new qa(Ha.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xp,this.ssl=Jp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Jp;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=sh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<oh)throw new qa(Ha.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,s){if(!0===t&&!0===s)throw new qa(Ha.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new qa(Ha.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new qa(Ha.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new qa(Ha.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qa(Ha.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qa(Ha.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ga;switch(e.type){case"firstParty":return new Ja(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qa(Ha.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qp.get(e);t&&(La("ComponentProvider","Removing Datastore"),Qp.delete(e),t.terminate())}(this),Promise.resolve()}}class tf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new tf(this.firestore,e,this._query)}}class nf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nf(this.firestore,e,this._key)}toJSON(){return{type:nf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(jo(t,nf._jsonSchema))return new nf(e,n||null,new fo(ho.fromString(t.referencePath)))}}nf._jsonSchemaVersion="firestore/documentReference/1.0",nf._jsonSchema={type:No("string",nf._jsonSchemaVersion),referencePath:No("string")};class sf extends tf{constructor(e,t,n){super(e,t,Bc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nf(this.firestore,null,new fo(e))}withConverter(e){return new sf(this.firestore,e,this._path)}}function rf(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];if(e=ht(e),1===arguments.length&&(t=so.newId()),go("doc","path",t),e instanceof ef){const n=ho.fromString(t,...s);return vo(n),new nf(e,null,new fo(n))}{if(!(e instanceof nf||e instanceof sf))throw new qa(Ha.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ho.fromString(t,...s));return vo(n),new nf(e.firestore,e instanceof sf?e.converter:null,new fo(n))}}const af="AsyncQueue";class of{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rm(this,"async_queue_retry"),this.oc=()=>{const e=nm();e&&La(af,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=nm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=nm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Wa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(lb){if(!Fo(lb))throw lb;La(af,"Operation failed with retryable error: "+lb)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,Ma("INTERNAL UNHANDLED ERROR: ",lf(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=Bm.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(s),s}ac(){this.tc&&Va(47125,{hc:lf(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function lf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function cf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const s of t)if(s in n&&"function"==typeof n[s])return!0;return!1}(e,["next","error","complete"])}class uf extends ef{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new of,this._persistenceKey=(null==s?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new of(e),this._firestoreClient=void 0,await e}}}function df(e){if(e._terminated)throw new qa(Ha.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hf(e),e._firestoreClient}function hf(e){var t,n,s;const r=e._freezeSettings(),i=function(e,t,n,s){return new Vl(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Yp(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(s=r.localCache)||void 0===s?void 0:s._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Vp(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class mf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mf(Il.fromBase64String(e))}catch(e){throw new qa(Ha.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mf(Il.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mf._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jo(e,mf._jsonSchema))return mf.fromBase64String(e.bytes)}}mf._jsonSchemaVersion="firestore/bytes/1.0",mf._jsonSchema={type:No("string",mf._jsonSchemaVersion),bytes:No("string")};class pf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let s=0;s<t.length;++s)if(0===t[s].length)throw new qa(Ha.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new po(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ff{constructor(e){this._methodName=e}}class gf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qa(Ha.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qa(Ha.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ro(this._lat,e._lat)||ro(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gf._jsonSchemaVersion}}static fromJSON(e){if(jo(e,gf._jsonSchema))return new gf(e.latitude,e.longitude)}}gf._jsonSchemaVersion="firestore/geoPoint/1.0",gf._jsonSchema={type:No("string",gf._jsonSchemaVersion),latitude:No("number"),longitude:No("number")};class vf{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vf._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jo(e,vf._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new vf(e.vectorValues);throw new qa(Ha.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vf._jsonSchemaVersion="firestore/vectorValue/1.0",vf._jsonSchema={type:No("string",vf._jsonSchemaVersion),vectorValues:No("object")};const yf=/^__.*__$/;class xf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}function bf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Va(40011,{Ec:e})}}class wf{constructor(e,t,n,s,r,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,void 0===r&&this.Ac(),this.fieldTransforms=r||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Rc({path:n,mc:!1});return s.fc(e),s}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Rc({path:n,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Pf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(bf(this.Ec)&&yf.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Nf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||sm(e)}Dc(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wf({Ec:e,methodName:t,bc:n,path:po.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(e){const t=e._freezeSettings(),n=sm(e._databaseId);return new Nf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ef(e,t,n,s,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Dc(i.merge||i.mergeFields?2:0,t,n,r);Tf("Data must be an object, but it was:",a,s);const o=Sf(s,a);let l,c;if(i.merge)l=new kl(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const s of i.mergeFields){const r=Cf(t,s,n);if(!a.contains(r))throw new qa(Ha.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Df(e,r)||e.push(r)}l=new kl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new xf(new dc(o),l,c)}class _f extends ff{_toFieldTransform(e){return new Ru(e.path,new Eu)}isEqual(e){return e instanceof _f}}function kf(e,t){if(If(e=ht(e)))return Tf("Unsupported field value:",t,e),Sf(e,t);if(e instanceof ff)return function(e,t){if(!bf(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let s=0;for(const r of e){let e=kf(r,t.yc(s));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),s++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ko.fromDate(e);return{timestampValue:jd(t.serializer,n)}}if(e instanceof ko){const n=new ko(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jd(t.serializer,n)}}if(e instanceof gf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mf)return{bytesValue:Ed(t.serializer,e._byteString)};if(e instanceof nf){const n=t.databaseId,s=e.firestore._databaseId;if(!s.isEqual(n))throw t.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Sd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof vf)return function(e,t){return{mapValue:{fields:{[Bl]:{stringValue:Wl},[Kl]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return vu(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${bo(e)}`)}(e,t)}function Sf(e,t){const n={};return bl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xl(e,(e,s)=>{const r=kf(s,t.Vc(e));null!=r&&(n[e]=r)}),{mapValue:{fields:n}}}function If(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ko||e instanceof gf||e instanceof mf||e instanceof nf||e instanceof ff||e instanceof vf)}function Tf(e,t,n){if(!If(n)||!xo(n)){const s=bo(n);throw"an object"===s?t.wc(e+" a custom object"):t.wc(e+" "+s)}}function Cf(e,t,n){if((t=ht(t))instanceof pf)return t._internalPath;if("string"==typeof t)return Rf(e,t);throw Pf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Af=new RegExp("[~\\*/\\[\\]]");function Rf(e,t,n){if(t.search(Af)>=0)throw Pf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pf(...t.split("."))._internalPath}catch(s){throw Pf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pf(e,t,n,s,r){const i=s&&!s.isEmpty(),a=void 0!==r;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${s}`),a&&(l+=` in document ${r}`),l+=")"),new qa(Ha.INVALID_ARGUMENT,o+e+l)}function Df(e,t){return e.some(e=>e.isEqual(t))}class Of{constructor(e,t,n,s,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new nf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lf extends Of{data(){return super.data()}}function Mf(e,t){return"string"==typeof t?Rf(e,t):t instanceof pf?t._internalPath:t._delegate._internalPath}function Uf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new qa(Ha.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ff{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Al(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Va(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return xl(e,(e,s)=>{n[e]=this.convertValue(s,t)}),n}convertVectorValue(e){var t,n,s;const r=null===(s=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Kl].arrayValue)||void 0===n?void 0:n.values)||void 0===s?void 0:s.map(e=>Al(e.doubleValue));return new vf(r)}convertGeoPoint(e){return new gf(Al(e.latitude),Al(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ul(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const t=Cl(e);return new ko(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ho.fromString(e);$a(Yd(n),9688,{name:e});const s=new $l(n.get(1),n.get(3)),r=new fo(n.popFirst(5));return s.isEqual(t)||Ma(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}function Vf(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class zf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $f extends Of{constructor(e,t,n,s,r,i){super(e,t,n,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Mf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qa(Ha.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$f._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}$f._jsonSchemaVersion="firestore/documentSnapshot/1.0",$f._jsonSchema={type:No("string",$f._jsonSchemaVersion),bundleSource:No("string","DocumentSnapshot"),bundleName:No("string"),bundle:No("string")};class Bf extends $f{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Hf{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new zf(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bf(this._firestore,this._userDataWriter,n.key,n,new zf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qa(Ha.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const s=new Bf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new zf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:s,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const s=new Bf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,i=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:qf(t.type),doc:s,oldIndex:r,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qa(Ha.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=so.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),s.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Va(61501,{type:e})}}Hf._jsonSchemaVersion="firestore/querySnapshot/1.0",Hf._jsonSchema={type:No("string",Hf._jsonSchemaVersion),bundleSource:No("string","QuerySnapshot"),bundleName:No("string"),bundle:No("string")};class Wf extends Ff{constructor(e){super(),this.firestore=e}convertBytes(e){return new mf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nf(this.firestore,null,t)}}function Kf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var r,i,a;e=ht(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||cf(n[l])||(o=n[l++]);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(cf(n[l])){const e=n[l];n[l]=null===(r=e.next)||void 0===r?void 0:r.bind(e),n[l+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof nf)d=wo(e.firestore,uf),h=Bc(e._key.path),u={next:t=>{n[l]&&n[l](Yf(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=wo(e,tf);d=wo(t.firestore,uf),h=t._query;const s=new Wf(d);u={next:e=>{n[l]&&n[l](new Hf(d,s,t,e))},error:n[l+1],complete:n[l+2]},Uf(e._query)}return function(e,t,n,s){const r=new Up(s),i=new rp(t,r,n);return e.asyncQueue.enqueueAndForget(async()=>Xm(await Wp(e),i)),()=>{r.Ou(),e.asyncQueue.enqueueAndForget(async()=>Jm(await Wp(e),i))}}(df(d),h,c,u)}function Gf(e,t){return function(e,t){const n=new Wa;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const s=Dp(e);try{const e=await function(e,t){const n=Ba(e),s=ko.now(),r=t.reduce((e,t)=>e.add(t.key),pu());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=iu(),l=pu();return n.Os.getEntries(e,r).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(r=>{i=r;const a=[];for(const e of t){const t=Vu(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Bu(e.key,t,hc(t.value.mapValue),Du.exists(!0)))}return n.mutationQueue.addMutationBatch(e,s,a,t)}).next(t=>{a=t;const s=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,s)})}).then(()=>({batchId:a.batchId,changes:lu(i)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let s=e.Ru[e.currentUser.toKey()];s||(s=new wl(ro)),s=s.insert(t,n),e.Ru[e.currentUser.toKey()]=s}(s,e.batchId,n),await Cp(s,e.changes),await Cm(s.remoteStore)}catch(e){const t=Hm(e,"Failed to persist write");n.reject(t)}}(await qp(e),t,n)),n.promise}(df(e),t)}function Yf(e,t,n){const s=n.docs.get(t._key),r=new Wf(e);return new $f(e,r,t._key,s,new zf(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Pa=e}(In),jn(new mt("firestore",(e,n)=>{let{instanceIdentifier:s,options:r}=n;const i=e.getProvider("app").getImmediate(),a=new uf(new Qa(e.getProvider("auth-internal")),new eo(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qa(Ha.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(e.options.projectId,t)}(i,s),i);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),An(Ca,Aa,e),An(Ca,Aa,"esm2017")}();const Qf="firebasestorage.googleapis.com",Xf="storageBucket";class Jf extends nt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(tg(e),`Firebase Storage: ${t} (${tg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jf.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zf,eg;function tg(e){return"storage/"+e}function ng(){return new Jf(Zf.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sg(){return new Jf(Zf.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rg(){return new Jf(Zf.CANCELED,"User canceled the upload/download.")}function ig(){return new Jf(Zf.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ag(e){return new Jf(Zf.INVALID_ARGUMENT,e)}function og(){return new Jf(Zf.APP_DELETED,"The Firebase app was deleted.")}function lg(e,t){return new Jf(Zf.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function cg(e){throw new Jf(Zf.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Zf||(Zf={}));class ug{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ug.makeFromUrl(e,t)}catch(lb){return new ug(e,"")}if(""===n.path)return n;throw s=e,new Jf(Zf.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.");var s}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+s+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===Qf?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],s=t.regex.exec(e);if(s){const e=s[t.indices.bucket];let r=s[t.indices.path];r||(r=""),n=new ug(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new Jf(Zf.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class dg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function hg(e){return"string"===typeof e||e instanceof String}function mg(e){return pg()&&e instanceof Blob}function pg(){return"undefined"!==typeof Blob}function fg(e,t,n,s){if(s<t)throw ag(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw ag(`Invalid value for '${e}'. Expected ${n} or less.`)}function gg(e,t,n){let s=t;return null==n&&(s=`https://${t}`),`${n}://${s}/v0${e}`}function vg(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){n=n+(t(s)+"="+t(e[s]))+"&"}return n=n.slice(0,-1),n}function yg(e,t){const n=e>=500&&e<600,s=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||s||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(eg||(eg={}));class xg{constructor(e,t,n,s,r,i,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new bg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const s=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(s),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(s),this.pendingConnection_=null;const t=n.getErrorCode()===eg.NO_ERROR,r=n.getStatus();if(!t||yg(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===eg.ABORT;return void e(!1,new bg(!1,null,t))}const i=-1!==this.successCodes_.indexOf(r);e(!0,new bg(i,n))})},t=(e,t)=>{const n=this.resolve_,s=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(lb){s(lb)}else if(null!==r){const e=ng();e.serverResponse=r.getErrorText(),this.errorCallback_?s(this.errorCallback_(r,e)):s(e)}else if(t.canceled){s(this.appDelete_?og():rg())}else{s(sg())}};this.canceled_?t(0,new bg(!1,null,!0)):this.backoffId_=function(e,t,n){let s=1,r=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(null,n)}}function d(t){r=setTimeout(()=>{r=null,e(m,l())},t)}function h(){i&&clearTimeout(i)}function m(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;s<64&&(s*=2),1===o?(o=2,i=0):i=1e3*(s+Math.random()),d(i)}let p=!1;function f(e){p||(p=!0,h(),c||(null!==r?(e||(o=2),clearTimeout(r),d(0)):e||(o=1)))}return d(0),i=setTimeout(()=>{a=!0,f(!0)},n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function wg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ng(){const e=wg();for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(pg())return new Blob(n);throw new Jf(Zf.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function jg(e){if("undefined"===typeof atob)throw t="base-64",new Jf(Zf.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Eg="raw",_g="base64",kg="base64url",Sg="data_url";class Ig{constructor(e,t){this.data=e,this.contentType=t||null}}function Tg(e,t){switch(e){case Eg:return new Ig(Cg(t));case _g:case kg:return new Ig(Ag(e,t));case Sg:return new Ig(function(e){const t=new Rg(e);return t.base64?Ag(_g,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(lb){throw lg(Sg,"Malformed data URL.")}return Cg(t)}(t.rest)}(t),new Rg(t).contentType)}throw ng()}function Cg(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|63&s);else if(55296===(64512&s)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){s=65536|(1023&s)<<10|1023&e.charCodeAt(++n),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)}else t.push(239,191,189)}else 56320===(64512&s)?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(t)}function Ag(e,t){switch(e){case _g:{const n=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(n||s){throw lg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case kg:{const n=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(n||s){throw lg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jg(t)}catch(lb){if(lb.message.includes("polyfill"))throw lb;throw lg(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class Rg{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw lg(Sg,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Pg{constructor(e,t){let n=0,s="";mg(e)?(this.data_=e,n=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(mg(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Pg(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Pg(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(pg()){const e=t.map(e=>e instanceof Pg?e.data_:e);return new Pg(Ng.apply(null,e))}{const e=t.map(e=>hg(e)?Tg(Eg,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const s=new Uint8Array(n);let r=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)s[r++]=e[t]}),new Pg(s,!0)}}uploadData(){return this.data_}}function Dg(e){let t;try{t=JSON.parse(e)}catch(lb){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Og(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Lg(e,t){return t}class Mg{constructor(e,t,n,s){this.server=e,this.local=t||e,this.writable=!!n,this.xform=s||Lg}}let Ug=null;function Fg(){if(Ug)return Ug;const e=[];e.push(new Mg("bucket")),e.push(new Mg("generation")),e.push(new Mg("metageneration")),e.push(new Mg("name","fullPath",!0));const t=new Mg("name");t.xform=function(e,t){return function(e){return!hg(e)||e.length<2?e:Og(e)}(t)},e.push(t);const n=new Mg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Mg("timeCreated")),e.push(new Mg("updated")),e.push(new Mg("md5Hash",null,!0)),e.push(new Mg("cacheControl",null,!0)),e.push(new Mg("contentDisposition",null,!0)),e.push(new Mg("contentEncoding",null,!0)),e.push(new Mg("contentLanguage",null,!0)),e.push(new Mg("contentType",null,!0)),e.push(new Mg("metadata","customMetadata",!0)),Ug=e,Ug}function Vg(e,t,n){const s={type:"file"},r=n.length;for(let i=0;i<r;i++){const e=n[i];s[e.local]=e.xform(s,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,s=e.fullPath,r=new ug(n,s);return t._makeStorageReference(r)}})}(s,e),s}function zg(e,t,n){const s=Dg(t);if(null===s)return null;return Vg(e,s,n)}function $g(e,t){const n={},s=t.length;for(let r=0;r<s;r++){const s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Bg{constructor(e,t,n,s){this.url=e,this.method=t,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Hg(e){if(!e)throw ng()}function qg(e,t){return function(n,s){const r=zg(e,s,t);return Hg(null!==r),r}}function Wg(e,t){return function(n,s){const r=zg(e,s,t);return Hg(null!==r),function(e,t,n,s){const r=Dg(t);if(null===r)return null;if(!hg(r.downloadTokens))return null;const i=r.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map(t=>{const r=e.bucket,i=e.fullPath;return gg("/b/"+a(r)+"/o/"+a(i),n,s)+vg({alt:"media",token:t})})[0]}(r,s,e.host,e._protocol)}}function Kg(e){return function(t,n){let s;var r,i;return 401===t.getStatus()?s=t.getErrorText().includes("Firebase App Check token is invalid")?new Jf(Zf.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Jf(Zf.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,s=new Jf(Zf.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,s=new Jf(Zf.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):s=n,s.status=t.getStatus(),s.serverResponse=n.serverResponse,s}}function Gg(e){const t=Kg(e);return function(n,s){let r=t(n,s);var i;return 404===n.getStatus()&&(i=e.path,r=new Jf(Zf.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),r.serverResponse=s.serverResponse,r}}function Yg(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),s}function Qg(e,t,n,s,r){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Yg(t,s,r),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+$g(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Pg.getBlob(c,s,u);if(null===d)throw ig();const h={name:l.fullPath},m=gg(i,e.host,e._protocol),p=e.maxUploadRetryTime,f=new Bg(m,"POST",qg(e,n),p);return f.urlParams=h,f.headers=a,f.body=d.uploadData(),f.errorHandler=Kg(t),f}class Xg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=eg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=eg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,s,r){if(this.sent_)throw cg("cannot .send() more than once");if(We(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(lb){return-1}}getResponse(){if(!this.sent_)throw cg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Jg extends Xg{initXhr(){this.xhr_.responseType="text"}}function Zg(){return new Jg}class ev{constructor(e,t){this._service=e,this._location=t instanceof ug?t:ug.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ev(e,t)}get root(){const e=new ug(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Og(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ug(this._location.bucket,e);return new ev(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Jf(Zf.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function tv(e,t,n){e._throwIfRoot("uploadBytes");const s=Qg(e.storage,e._location,Fg(),new Pg(t,!0),n);return e.storage.makeRequestWithTokens(s,Zg).then(t=>({metadata:t,ref:e}))}function nv(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const s=gg(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Bg(s,"GET",Wg(e,n),r);return i.errorHandler=Gg(t),i}(e.storage,e._location,Fg());return e.storage.makeRequestWithTokens(t,Zg).then(e=>{if(null===e)throw new Jf(Zf.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function sv(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),s=new ug(e._location.bucket,n);return new ev(e.storage,s)}function rv(e,t){if(e instanceof ov){const n=e;if(null==n._bucket)throw new Jf(Zf.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xf+"' property when initializing the app?");const s=new ev(n,n._bucket);return null!=t?rv(s,t):s}return void 0!==t?sv(e,t):e}function iv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ov)return new ev(e,t);throw ag("To use ref(service, url), the first argument must be a Storage instance.")}return rv(e,t)}function av(e,t){const n=null===t||void 0===t?void 0:t[Xf];return null==n?null:ug.makeFromBucketSpec(n,e)}class ov{constructor(e,t,n,s,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=r,this._isUsingEmulator=i,this._bucket=null,this._host=Qf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?ug.makeFromBucketSpec(s,this._host):av(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ug.makeFromBucketSpec(this._url,e):this._bucket=av(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ev(this,e)}_makeRequest(e,t,n,s){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new dg(og());{const i=function(e,t,n,s,r,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=vg(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,s),new xg(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a,o)}(e,this._appId,n,s,t,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const lv="@firebase/storage",cv="0.13.14",uv="storage";function dv(e,t){let{instanceIdentifier:n}=t;const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new ov(s,r,i,n,In)}jn(new mt(uv,dv,"PUBLIC").setMultipleInstances(!0)),An(lv,cv,""),An(lv,cv,"esm2017");const hv=Tn({apiKey:"AIzaSyCZgComihR2Wt4I-iVh-oOUv2X1KrSafqM",authDomain:"resumebuilder-e7fbd.firebaseapp.com",projectId:"resumebuilder-e7fbd",storageBucket:"resumebuilder-e7fbd.firebasestorage.app",messagingSenderId:"1047447979681",appId:"1:1047447979681:web:5b3e141e83ab8bd63852e0",measurementId:"G-D72E93M5TF"}),mv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();const t=En(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=En(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(it(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Gn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ca,persistence:[xi,Zr,ri]}),s=He("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=(r=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ma)return;const s=null===t||void 0===t?void 0:t.token;pa!==s&&(pa=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});!function(e,t,n){ht(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,s){ht(e).onIdTokenChanged(t,n,s)}(n,e=>t(e))}}var r;const i=ze("auth");return i&&fr(n,`http://${i}`),n}(hv),pv=function(e,t){const n="object"==typeof e?e:Cn(),s="string"==typeof e?e:t||zl,r=En(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const e=$e("firestore");e&&function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;e=wo(e,ef);const i=We(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;i&&(Ke(`https://${l}`),Xe("Firestore",!0)),a.host!==Xp&&a.host!==l&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:i,emulatorOptions:s});if(!it(c,o)&&(e._setSettings(c),s.mockUserToken)){let t,n;if("string"==typeof s.mockUserToken)t=s.mockUserToken,n=Ra.MOCK_USER;else{t=Ge(s.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const i=s.mockUserToken.sub||s.mockUserToken.user_id;if(!i)throw new qa(Ha.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ra(i)}e._authCredentials=new Ya(new Ka(t,n))}}(r,...e)}return r}(hv),fv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn(),t=arguments.length>1?arguments[1]:void 0;e=ht(e);const n=En(e,uv).getImmediate({identifier:t}),s=$e("storage");return s&&function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`;const r=We(t);r&&(Ke(`https://${e.host}/b`),Xe("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:i}=s;i&&(e._overrideAuthToken="string"===typeof i?i:Ge(i,e.app.options.projectId))}(e,t,n,s)}(n,...s),n}(hv),gv=async(e,t,n)=>{try{const s=await async function(e,t,n){if(_n(e.app))return Promise.reject(Xn(e));const s=sr(e),r=mr(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mr,"EMAIL_PASSWORD_PROVIDER"),i=await r.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Kr(e),t}),a=await Ur._fromIdTokenResponse(s,"signIn",i);return await s._updateCurrentUser(a.user),a}(mv,e,t);return await Gr(s.user,{displayName:n}),{success:!0,user:s.user}}catch(s){return{success:!1,error:s.message}}},vv=async(e,t)=>{try{const n=await function(e,t,n){return _n(e.app)?Promise.reject(Xn(e)):qr(ht(e),Cr.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Kr(e),t})}(mv,e,t);return{success:!0,user:n.user}}catch(n){return{success:!1,error:n.message}}},yv=async()=>{try{return await function(e){return ht(e).signOut()}(mv),{success:!0}}catch(e){return{success:!1,error:e.message}}},xv=async e=>{try{return await async function(e,t,n){const s=sr(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Wr(s,r,n),await mr(s,r,"getOobCode",Nr,"EMAIL_PASSWORD_PROVIDER")}(mv,e),{success:!0}}catch(t){return{success:!1,error:t.message}}};var bv=n(579);const wv=(0,r.createContext)(),Nv=()=>{const e=(0,r.useContext)(wv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},jv=e=>{let{children:t}=e;const[n,s]=(0,r.useState)(null),[i,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=function(e,t,n,s){return ht(e).onAuthStateChanged(t,n,s)}(mv,e=>{s(e),a(!1)});return e},[]);const c={user:n,signup:async(e,t,n)=>{try{l(null),a(!0);const s=await gv(e,t,n);return s.success||l(s.error),s}catch(o){throw l(o.message),o}finally{a(!1)}},login:async(e,t)=>{try{l(null),a(!0);const n=await vv(e,t);return n.success||l(n.error),n}catch(o){throw l(o.message),o}finally{a(!1)}},logout:async()=>{try{l(null),await yv()}catch(o){throw l(o.message),o}},forgotPassword:async e=>{try{l(null);const t=await xv(e);return t.success||l(t.error),t}catch(o){throw l(o.message),o}},loading:i,error:o,setError:l};return(0,bv.jsx)(wv.Provider,{value:c,children:!i&&t})},Ev=e=>{if(null===e||void 0===e)return null;if(Array.isArray(e))return e.map(Ev).filter(e=>void 0!==e);if("object"===typeof e){const t={};for(const[n,s]of Object.entries(e))void 0!==s&&(t[n]=Ev(s));return t}return e},_v=async(e,t)=>{try{if(!t.id||"default"===t.id||null===t.id){return{success:!1,error:new Error('Invalid resume ID provided. Resume ID cannot be null, undefined, or "default"').message}}const n=rf(pv,"users",e,"resumes",t.id),s={...Ev(t),lastUpdated:new _f("serverTimestamp")};return"undefined"!==typeof window&&window.console&&console.log("[DEBUG] Saving resume to Firestore:",JSON.parse(JSON.stringify(s))),await function(e,t,n){e=wo(e,nf);const s=wo(e.firestore,uf),r=Vf(e.converter,t,n);return Gf(s,[Ef(jf(s),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Du.none())])}(n,s,{merge:!0}),{success:!0}}catch(n){return"undefined"!==typeof window&&window.console&&console.error("[DEBUG] Firestore save error:",n),{success:!1,error:n.message}}},kv=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";try{const n=rf(pv,"users",e,"resumes",t),s=await function(e){e=wo(e,nf);const t=wo(e.firestore,uf);return Kp(df(t),e._key).then(n=>Yf(t,e,n))}(n);return s.exists()?{success:!0,data:s.data()}:{success:!1,error:"Resume not found"}}catch(n){return{success:!1,error:n.message}}},Sv=async e=>{try{console.log("Firestore: getUserResumes called for userId:",e);const t=function(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];if(e=ht(e),go("collection","path",t),e instanceof ef){const n=ho.fromString(t,...s);return yo(n),new sf(e,null,n)}{if(!(e instanceof nf||e instanceof sf))throw new qa(Ha.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ho.fromString(t,...s));return yo(n),new sf(e.firestore,null,n)}}(pv,"users",e,"resumes");console.log("Firestore: Querying collection path:",`users/${e}/resumes`);const n=await function(e){e=wo(e,tf);const t=wo(e.firestore,uf),n=df(t),s=new Wf(t);return Uf(e._query),Gp(n,e._query).then(n=>new Hf(t,s,e,n))}(t);console.log("Firestore: Query snapshot size:",n.size);const s=[];return n.forEach(e=>{console.log("Firestore: Found document with ID:",e.id,"Data:",e.data()),s.push({id:e.id,...e.data()})}),console.log("Firestore: Total resumes found:",s.length),console.log("Firestore: Returning resumes:",s),{success:!0,data:s}}catch(t){return console.error("Firestore: getUserResumes error:",t),{success:!1,error:t.message}}},Iv=async(e,t)=>{try{console.log("Firestore: deleteResume called with userId:",e,"resumeId:",t);const s=rf(pv,"users",e,"resumes",t);return console.log("Firestore: Deleting document at path:",`users/${e}/resumes/${t}`),await(n=s,Gf(wo(n.firestore,uf),[new Ku(n._key,Du.none())])),console.log("Firestore: Delete successful for resumeId:",t),{success:!0}}catch(s){return console.error("Firestore: Delete error for resumeId:",t,"Error:",s),{success:!1,error:s.message}}var n},Tv={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Cv;const Av=new Uint8Array(16);function Rv(){if(!Cv&&(Cv="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cv(Av)}const Pv=[];for(let cb=0;cb<256;++cb)Pv.push((cb+256).toString(16).slice(1));function Dv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Pv[e[t+0]]+Pv[e[t+1]]+Pv[e[t+2]]+Pv[e[t+3]]+"-"+Pv[e[t+4]]+Pv[e[t+5]]+"-"+Pv[e[t+6]]+Pv[e[t+7]]+"-"+Pv[e[t+8]]+Pv[e[t+9]]+"-"+Pv[e[t+10]]+Pv[e[t+11]]+Pv[e[t+12]]+Pv[e[t+13]]+Pv[e[t+14]]+Pv[e[t+15]]}const Ov=function(e,t,n){if(Tv.randomUUID&&!t&&!e)return Tv.randomUUID();const s=(e=e||{}).random||(e.rng||Rv)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return Dv(s)},Lv=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Mv=e=>{try{return new URL(e),!0}catch{return!1}},Uv=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"",Fv=e=>e?new Date(e).toISOString().split("T")[0]:"",Vv=()=>Ov(),zv=e=>e&&0!==e.length?e.reduce((e,t)=>{const n=t.category||"Technical";return e[n]||(e[n]=[]),e[n].push(t),e},{}):{},$v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&0!==e.length?e.map(e=>t&&e.level&&"Beginner"!==e.level?`${e.name} (${e.level})`:e.name).join(", "):""},Bv=e=>({Technical:"Technical Skills",Tools:"Tools",Frameworks:"Frameworks & Libraries",Languages:"Languages","Soft Skills":"Soft Skills"}[e]||e),Hv=e=>{if("string"===typeof e)return e;if(null!==e&&void 0!==e&&e.message)return e.message;if(null!==e&&void 0!==e&&e.code)switch(e.code){case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Invalid email address.";case"permission-denied":return"You do not have permission to perform this action.";case"unavailable":return"Service temporarily unavailable. Please try again.";default:return e.code}return"An unexpected error occurred."},qv=(0,r.createContext)(),Wv=()=>{const e=(0,r.useContext)(qv);if(!e)throw new Error("useResume must be used within a ResumeProvider");return e},Kv={id:null,personalInfo:{fullName:"",jobRole:"",email:"",phone:"",address:"",linkedin:"",portfolio:"",photoURL:"",customLinks:[]},summary:"",jobDescription:"",experience:[],education:[],skills:[],projects:[],certifications:[],additionalInfo:[],template:"corporate",loading:!1,error:null},Gv=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_RESUME_DATA":const n={...t.payload};return n.projects&&(n.projects=n.projects.map(e=>({...e,technologiesInput:e.technologiesInput||(e.technologies?e.technologies.join(", "):"")}))),{...e,...n};case"UPDATE_PERSONAL_INFO":return{...e,personalInfo:{...e.personalInfo,...t.payload}};case"ADD_CUSTOM_LINK":return{...e,personalInfo:{...e.personalInfo,customLinks:[...e.personalInfo.customLinks||[],t.payload]}};case"REMOVE_CUSTOM_LINK":return{...e,personalInfo:{...e.personalInfo,customLinks:e.personalInfo.customLinks.filter((e,n)=>n!==t.payload)}};case"UPDATE_SUMMARY":return{...e,summary:t.payload};case"UPDATE_JOB_DESCRIPTION":return{...e,jobDescription:t.payload};case"UPDATE_TEMPLATE":return{...e,template:t.payload};case"ADD_EXPERIENCE":return{...e,experience:[...e.experience,t.payload]};case"UPDATE_EXPERIENCE":return{...e,experience:e.experience.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_EXPERIENCE":return{...e,experience:e.experience.filter(e=>e.id!==t.payload)};case"ADD_EDUCATION":return{...e,education:[...e.education,t.payload]};case"UPDATE_EDUCATION":return{...e,education:e.education.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_EDUCATION":return{...e,education:e.education.filter(e=>e.id!==t.payload)};case"ADD_SKILL":return{...e,skills:[...e.skills,t.payload]};case"UPDATE_SKILL":return{...e,skills:e.skills.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_SKILL":return{...e,skills:e.skills.filter(e=>e.id!==t.payload)};case"ADD_PROJECT":return{...e,projects:[...e.projects,t.payload]};case"UPDATE_PROJECT":return{...e,projects:e.projects.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_PROJECT":return{...e,projects:e.projects.filter(e=>e.id!==t.payload)};case"ADD_CERTIFICATION":return{...e,certifications:[...e.certifications,t.payload]};case"UPDATE_CERTIFICATION":return{...e,certifications:e.certifications.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_CERTIFICATION":return{...e,certifications:e.certifications.filter(e=>e.id!==t.payload)};case"ADD_ADDITIONAL_INFO":return{...e,additionalInfo:[...e.additionalInfo,t.payload]};case"UPDATE_ADDITIONAL_INFO":return{...e,additionalInfo:e.additionalInfo.map(e=>e.id===t.payload.id?t.payload:e)};case"DELETE_ADDITIONAL_INFO":return{...e,additionalInfo:e.additionalInfo.filter(e=>e.id!==t.payload)};case"SET_RESUME_ID":return console.log("ResumeReducer: SET_RESUME_ID action triggered with ID:",t.payload),{...e,id:t.payload};case"RESET_RESUME":return console.log("ResumeReducer: RESET_RESUME action triggered"),console.log("ResumeReducer: Returning initial state:",Kv),Kv;default:return e}},Yv=e=>{let{children:t}=e;const[n,s]=(0,r.useReducer)(Gv,Kv),{user:i}=Nv(),a=ee();(0,r.useEffect)(()=>{if(i){const e=new URLSearchParams(a.search),t="true"===e.get("new"),n=e.get("id");t?s({type:"RESET_RESUME"}):n?l(n):o()}},[i,a]);const o=async()=>{if(i){s({type:"SET_LOADING",payload:!0});try{const e=await kv(i.uid);e.success&&s({type:"SET_RESUME_DATA",payload:e.data})}catch(e){s({type:"SET_ERROR",payload:e.message})}finally{s({type:"SET_LOADING",payload:!1})}}},l=async e=>{if(i){s({type:"SET_LOADING",payload:!0});try{const t=await kv(i.uid,e);t.success?s({type:"SET_RESUME_DATA",payload:t.data}):s({type:"RESET_RESUME"})}catch(t){s({type:"SET_ERROR",payload:t.message})}finally{s({type:"SET_LOADING",payload:!1})}}},c={...n,dispatch:s,saveResume:async()=>{if(!i)return{success:!1,error:"User not authenticated"};try{var e,t,r;const{loading:a,error:o,jobDescription:l,...c}=n,u=new URLSearchParams(window.location.search),d=u.get("id"),h="true"===u.get("new");let m;d&&"default"!==d&&!h?m=d:n.id&&null!==n.id&&"default"!==n.id&&!h?m=n.id:(m=`resume_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,s({type:"SET_RESUME_ID",payload:m}));const p={id:m,title:(null===(e=c.personalInfo)||void 0===e?void 0:e.fullName)||(null===(t=c.personalInfo)||void 0===t||null===(r=t.email)||void 0===r?void 0:r.split("@")[0])||"Untitled Resume",...c,personalInfo:c.personalInfo||{},summary:c.summary||"",experience:c.experience||[],education:c.education||[],skills:c.skills||[],projects:c.projects||[],certifications:c.certifications||[],additionalInfo:c.additionalInfo||[],template:c.template||"modern"};if(!p.id||"default"===p.id||null===p.id){const e="Resume ID is invalid before save. Cannot proceed.";return s({type:"SET_ERROR",payload:e}),{success:!1,error:e}}const f=await _v(i.uid,p);if(f.success){if(s({type:"SET_ERROR",payload:null}),h){const e=`/resume-builder?id=${m}`;window.history.replaceState({},"",e)}}else s({type:"SET_ERROR",payload:f.error});return f}catch(a){return s({type:"SET_ERROR",payload:a.message}),{success:!1,error:a.message}}},loadResume:o,resetResume:()=>{s({type:"RESET_RESUME"})},addCertification:()=>{const e={id:Vv(),name:"",issuer:"",date:"",credentialId:"",url:""};s({type:"ADD_CERTIFICATION",payload:e})},updateCertification:(e,t)=>{const r=n.certifications.find(t=>t.id===e);r&&s({type:"UPDATE_CERTIFICATION",payload:{...r,...t}})},removeCertification:e=>{s({type:"DELETE_CERTIFICATION",payload:e})},addAdditionalInfo:()=>{const e={id:Vv(),type:"Workshop/Seminar",description:""};s({type:"ADD_ADDITIONAL_INFO",payload:e})},updateAdditionalInfo:(e,t)=>{const r=n.additionalInfo.find(t=>t.id===e);r&&s({type:"UPDATE_ADDITIONAL_INFO",payload:{...r,...t}})},removeAdditionalInfo:e=>{s({type:"DELETE_ADDITIONAL_INFO",payload:e})}};return(0,bv.jsx)(qv.Provider,{value:c,children:t})},Qv=e=>{let{size:t="medium",className:n=""}=e;return(0,bv.jsx)("div",{className:`loading-spinner ${{small:"spinner-small",medium:"spinner-medium",large:"spinner-large"}[t]} ${n}`,children:(0,bv.jsx)("div",{className:"spinner"})})},Xv=e=>{let{children:t}=e;const{user:n,loading:s}=Nv();return s?(0,bv.jsxs)("div",{className:"loading-container",children:[(0,bv.jsx)(Qv,{size:"large"}),(0,bv.jsx)("p",{children:"Loading..."})]}):n?t:(0,bv.jsx)(ve,{to:"/login",replace:!0})},Jv=e=>{let{children:t,variant:n="primary",size:s="medium",disabled:r=!1,loading:i=!1,type:a="button",className:o="",onClick:l,...c}=e;const u=["btn",`btn-${n}`,`btn-${s}`,r||i?"btn-disabled":"",i?"btn-loading":"",o].filter(Boolean).join(" ");return(0,bv.jsxs)("button",{type:a,className:u,disabled:r||i,onClick:l,...c,children:[i&&(0,bv.jsx)("span",{className:"btn-spinner"}),(0,bv.jsx)("span",{className:i?"btn-text-loading":"btn-text",children:t})]})},Zv=()=>{const{user:e,logout:t}=Nv(),n=ee(),s=ne(),r=e=>n.pathname===e;return(0,bv.jsx)("header",{className:"header",children:(0,bv.jsx)("div",{className:"container",children:(0,bv.jsxs)("div",{className:"header-content",children:[(0,bv.jsxs)(Ce,{to:"/",className:"logo",children:[(0,bv.jsx)("i",{className:"fas fa-file-alt"}),(0,bv.jsx)("span",{children:"AI Resume Builder"})]}),(0,bv.jsx)("nav",{className:"nav",children:e?(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)(Ce,{to:"/dashboard",className:"nav-link "+(r("/dashboard")?"active":""),children:"Dashboard"}),(0,bv.jsx)(Ce,{to:"/resume-builder",className:"nav-link "+(r("/resume-builder")?"active":""),children:"Resume Builder"}),(0,bv.jsxs)("div",{className:"user-menu",children:[(0,bv.jsxs)("span",{className:"user-name",children:["Welcome, ",e.displayName||e.email]}),(0,bv.jsx)(Jv,{variant:"secondary",size:"small",onClick:async()=>{try{await t(),s("/")}catch(e){console.error("Logout error:",e)}},children:"Logout"})]})]}):(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)(Ce,{to:"/login",className:"nav-link "+(r("/login")?"active":""),children:"Login"}),(0,bv.jsx)(Ce,{to:"/signup",children:(0,bv.jsx)(Jv,{variant:"primary",size:"small",children:"Sign Up"})})]})})]})})})},ey=()=>(0,bv.jsx)("footer",{className:"footer",children:(0,bv.jsxs)("div",{className:"container",children:[(0,bv.jsxs)("div",{className:"footer-content",children:[(0,bv.jsxs)("div",{className:"footer-section",children:[(0,bv.jsx)("h4",{children:"AI Resume Builder"}),(0,bv.jsx)("p",{style:{color:"#FFFFFF"},children:"Create professional resumes with ease using our modern resume builder."})]}),(0,bv.jsxs)("div",{className:"footer-section",children:[(0,bv.jsx)("h4",{children:"Quick Links"}),(0,bv.jsxs)("ul",{children:[(0,bv.jsx)("li",{children:(0,bv.jsx)(Ce,{to:"/",children:"Home"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)(Ce,{to:"/login",children:"Login"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)(Ce,{to:"/signup",children:"Sign Up"})})]})]}),(0,bv.jsxs)("div",{className:"footer-section",children:[(0,bv.jsx)("h4",{children:"Features"}),(0,bv.jsxs)("ul",{children:[(0,bv.jsx)("li",{children:"Multiple Templates"}),(0,bv.jsx)("li",{children:"Real-time Preview"}),(0,bv.jsx)("li",{children:"PDF Export"}),(0,bv.jsx)("li",{children:"Cloud Storage"})]})]}),(0,bv.jsxs)("div",{className:"footer-section",children:[(0,bv.jsx)("h4",{children:"Connect"}),(0,bv.jsxs)("div",{className:"social-links",children:[(0,bv.jsx)("a",{href:"#",className:"social-link",children:(0,bv.jsx)("i",{className:"fab fa-facebook"})}),(0,bv.jsx)("a",{href:"#",className:"social-link",children:(0,bv.jsx)("i",{className:"fab fa-twitter"})}),(0,bv.jsx)("a",{href:"#",className:"social-link",children:(0,bv.jsx)("i",{className:"fab fa-linkedin"})}),(0,bv.jsx)("a",{href:"#",className:"social-link",children:(0,bv.jsx)("i",{className:"fab fa-github"})})]})]})]}),(0,bv.jsx)("div",{className:"footer-bottom",children:(0,bv.jsx)("p",{style:{color:"#FFFFFF"},children:" \xa9 2025 AI Resume Builder. All rights reserved."})})]})}),ty=()=>{const{user:e}=Nv();return(0,bv.jsxs)("div",{className:"home-page pro-home-bg",children:[(0,bv.jsx)(Zv,{}),(0,bv.jsxs)("main",{className:"home-main",children:[(0,bv.jsx)("section",{className:"home-hero-section",children:(0,bv.jsxs)("div",{className:"home-hero-container",children:[(0,bv.jsxs)("div",{className:"home-hero-content",children:[(0,bv.jsx)("h1",{className:"home-hero-title",children:"Create Your Perfect Resume in Minutes"}),(0,bv.jsx)("p",{className:"home-hero-subtitle",children:"Build professional resumes with our modern resume builder. Choose from multiple templates, add your information, and export as PDF."}),(0,bv.jsx)("div",{className:"home-hero-actions",children:e?(0,bv.jsx)(Ce,{to:"/dashboard",children:(0,bv.jsx)(Jv,{variant:"primary",size:"large",children:"Go to Dashboard"})}):(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)(Ce,{to:"/signup",children:(0,bv.jsx)(Jv,{variant:"primary",size:"large",children:"Get Started Free"})}),(0,bv.jsx)(Ce,{to:"/login",children:(0,bv.jsx)(Jv,{variant:"secondary",size:"large",children:"Sign In"})})]})})]}),(0,bv.jsx)("div",{className:"home-hero-image",children:(0,bv.jsxs)("div",{className:"home-resume-mockup",children:[(0,bv.jsx)("div",{className:"home-mockup-header",children:(0,bv.jsxs)("div",{className:"home-mockup-dots",children:[(0,bv.jsx)("span",{}),(0,bv.jsx)("span",{}),(0,bv.jsx)("span",{})]})}),(0,bv.jsxs)("div",{className:"home-mockup-content",children:[(0,bv.jsx)("div",{className:"home-mockup-line long"}),(0,bv.jsx)("div",{className:"home-mockup-line medium"}),(0,bv.jsx)("div",{className:"home-mockup-line short"}),(0,bv.jsxs)("div",{className:"home-mockup-section",children:[(0,bv.jsx)("div",{className:"home-mockup-line medium"}),(0,bv.jsx)("div",{className:"home-mockup-line long"}),(0,bv.jsx)("div",{className:"home-mockup-line short"})]})]})]})})]})}),(0,bv.jsx)("section",{className:"home-features-section",children:(0,bv.jsxs)("div",{className:"home-features-container",children:[(0,bv.jsx)("h2",{className:"home-section-title",children:"Why Choose Our AI Resume Builder?"}),(0,bv.jsxs)("div",{className:"home-features-grid",children:[(0,bv.jsxs)("div",{className:"home-feature-card",children:[(0,bv.jsx)("div",{className:"home-feature-icon",children:(0,bv.jsx)("i",{className:"fas fa-palette"})}),(0,bv.jsx)("h3",{className:"home-feature-title",children:"Professional Templates"}),(0,bv.jsx)("p",{className:"home-feature-description",children:"Choose from modern, classic, and creative templates designed by professionals."})]}),(0,bv.jsxs)("div",{className:"home-feature-card",children:[(0,bv.jsx)("div",{className:"home-feature-icon",children:(0,bv.jsx)("i",{className:"fas fa-eye"})}),(0,bv.jsx)("h3",{className:"home-feature-title",children:"Real-time Preview"}),(0,bv.jsx)("p",{className:"home-feature-description",children:"See your resume update instantly as you fill out your information."})]}),(0,bv.jsxs)("div",{className:"home-feature-card",children:[(0,bv.jsx)("div",{className:"home-feature-icon",children:(0,bv.jsx)("i",{className:"fas fa-cloud"})}),(0,bv.jsx)("h3",{className:"home-feature-title",children:"Cloud Storage"}),(0,bv.jsx)("p",{className:"home-feature-description",children:"Your resume data is safely stored in the cloud and accessible from anywhere."})]}),(0,bv.jsxs)("div",{className:"home-feature-card",children:[(0,bv.jsx)("div",{className:"home-feature-icon",children:(0,bv.jsx)("i",{className:"fas fa-file-pdf"})}),(0,bv.jsx)("h3",{className:"home-feature-title",children:"PDF Export"}),(0,bv.jsx)("p",{className:"home-feature-description",children:"Download your resume as a high-quality PDF ready for job applications."})]}),(0,bv.jsxs)("div",{className:"home-feature-card",children:[(0,bv.jsx)("div",{className:"home-feature-icon",children:(0,bv.jsx)("i",{className:"fas fa-mobile-alt"})}),(0,bv.jsx)("h3",{className:"home-feature-title",children:"Mobile Friendly"}),(0,bv.jsx)("p",{className:"home-feature-description",children:"Build and edit your resume on any device with our responsive design."})]}),(0,bv.jsxs)("div",{className:"home-feature-card",children:[(0,bv.jsx)("div",{className:"home-feature-icon",children:(0,bv.jsx)("i",{className:"fas fa-camera"})}),(0,bv.jsx)("h3",{className:"home-feature-title",children:"Photo Upload"}),(0,bv.jsx)("p",{className:"home-feature-description",children:"Add your professional photo to make your resume stand out."})]})]})]})}),(0,bv.jsx)("section",{className:"home-how-section",children:(0,bv.jsxs)("div",{className:"home-how-container",children:[(0,bv.jsx)("h2",{className:"home-section-title",children:"How It Works"}),(0,bv.jsxs)("div",{className:"home-steps-grid",children:[(0,bv.jsxs)("div",{className:"home-step-card",children:[(0,bv.jsx)("div",{className:"home-step-number",children:"1"}),(0,bv.jsx)("h3",{className:"home-step-title",children:"Create Account"}),(0,bv.jsx)("p",{className:"home-step-description",children:"Sign up for free and access our AI Resume builder platform."})]}),(0,bv.jsxs)("div",{className:"home-step-card",children:[(0,bv.jsx)("div",{className:"home-step-number",children:"2"}),(0,bv.jsx)("h3",{className:"home-step-title",children:"Fill Your Information"}),(0,bv.jsx)("p",{className:"home-step-description",children:"Add your personal details, work experience, education, and skills."})]}),(0,bv.jsxs)("div",{className:"home-step-card",children:[(0,bv.jsx)("div",{className:"home-step-number",children:"3"}),(0,bv.jsx)("h3",{className:"home-step-title",children:"Choose Template"}),(0,bv.jsx)("p",{className:"home-step-description",children:"Select from our collection of professional resume templates."})]}),(0,bv.jsxs)("div",{className:"home-step-card",children:[(0,bv.jsx)("div",{className:"home-step-number",children:"4"}),(0,bv.jsx)("h3",{className:"home-step-title",children:"Download & Apply"}),(0,bv.jsx)("p",{className:"home-step-description",children:"Export your resume as PDF and start applying for jobs."})]})]})]})}),(0,bv.jsx)("section",{className:"home-cta-section",children:(0,bv.jsx)("div",{className:"home-cta-container",children:(0,bv.jsxs)("div",{className:"home-cta-content",children:[(0,bv.jsx)("h2",{className:"home-cta-title",children:"Ready to Build Your Resume?"}),(0,bv.jsx)("p",{className:"home-cta-description",children:"Join thousands of job seekers who have successfully created their resumes with our platform."}),!e&&(0,bv.jsx)("div",{className:"home-cta-actions",children:(0,bv.jsx)(Ce,{to:"/signup",children:(0,bv.jsx)(Jv,{variant:"primary",size:"large",children:"Start Building Now"})})})]})})})]}),(0,bv.jsx)(ey,{})]})},ny=()=>{const[e,t]=(0,r.useState)({email:"",password:""}),[n,s]=(0,r.useState)({}),[i,a]=(0,r.useState)(!1),{login:o,error:l}=Nv(),c=ne(),u=e=>{const{name:r,value:i}=e.target;t(e=>({...e,[r]:i})),n[r]&&s(e=>({...e,[r]:""}))};return(0,bv.jsx)("div",{className:"auth-container",children:(0,bv.jsxs)("div",{className:"auth-card",children:[(0,bv.jsxs)("div",{className:"auth-header",children:[(0,bv.jsx)("h2",{children:"Welcome Back"}),(0,bv.jsx)("p",{children:"Sign in to your account to continue building your resume"})]}),(0,bv.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.email?Lv(e.email)||(t.email="Please enter a valid email address"):t.email="Email is required",e.password||(t.password="Password is required"),s(t),0===Object.keys(t).length})()){a(!0);try{(await o(e.email,e.password)).success&&c("/dashboard")}catch(l){console.error("Login error:",l)}finally{a(!1)}}},className:"auth-form",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,bv.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,placeholder:"Enter your email",className:n.email?"error":""}),n.email&&(0,bv.jsx)("span",{className:"error-message",children:n.email})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,placeholder:"Enter your password",className:n.password?"error":""}),n.password&&(0,bv.jsx)("span",{className:"error-message",children:n.password})]}),l&&(0,bv.jsx)("div",{className:"error-message auth-error",children:Hv(l)}),(0,bv.jsx)(Jv,{type:"submit",variant:"primary",disabled:i,className:"auth-button",children:i?(0,bv.jsx)(Qv,{size:"small"}):"Sign In"})]}),(0,bv.jsx)("div",{className:"auth-footer",children:(0,bv.jsxs)("p",{children:["Forgot your password? ",(0,bv.jsx)(Ce,{to:"/forgot-password",children:"Reset here"})]})}),(0,bv.jsx)("div",{className:"auth-footer",children:(0,bv.jsxs)("p",{children:["Don't have an account? ",(0,bv.jsx)(Ce,{to:"/signup",children:"Sign up here"})]})})]})})},sy=()=>(0,bv.jsxs)("div",{className:"auth-page",children:[(0,bv.jsx)(Zv,{}),(0,bv.jsx)("main",{className:"main-content",children:(0,bv.jsx)("div",{className:"auth-container",children:(0,bv.jsxs)("div",{className:"auth-content",children:[(0,bv.jsx)("div",{className:"auth-info"}),(0,bv.jsx)("div",{className:"auth-form-container",children:(0,bv.jsx)(ny,{})})]})})}),(0,bv.jsx)(ey,{})]}),ry=()=>{const[e,t]=(0,r.useState)({fullName:"",email:"",password:"",confirmPassword:""}),[n,s]=(0,r.useState)({}),[i,a]=(0,r.useState)(!1),{signup:o,error:l}=Nv(),c=ne(),u=e=>{const{name:r,value:i}=e.target;t(e=>({...e,[r]:i})),n[r]&&s(e=>({...e,[r]:""}))};return(0,bv.jsx)("div",{className:"auth-container",children:(0,bv.jsxs)("div",{className:"auth-card",children:[(0,bv.jsxs)("div",{className:"auth-header",children:[(0,bv.jsx)("h2",{children:"Create Account"}),(0,bv.jsx)("p",{children:"Join us and start building your professional resume"})]}),(0,bv.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.fullName.trim()||(t.fullName="Full name is required"),e.email?Lv(e.email)||(t.email="Please enter a valid email address"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Please confirm your password",s(t),0===Object.keys(t).length})()){a(!0);try{(await o(e.email,e.password,e.fullName)).success&&c("/dashboard")}catch(l){console.error("Signup error:",l)}finally{a(!1)}}},className:"auth-form",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),(0,bv.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:u,placeholder:"Enter your full name",className:n.fullName?"error":""}),n.fullName&&(0,bv.jsx)("span",{className:"error-message",children:n.fullName})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,bv.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,placeholder:"Enter your email",className:n.email?"error":""}),n.email&&(0,bv.jsx)("span",{className:"error-message",children:n.email})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"password",children:"Password"}),(0,bv.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,placeholder:"Create a password (min. 6 characters)",className:n.password?"error":""}),n.password&&(0,bv.jsx)("span",{className:"error-message",children:n.password})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,bv.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:u,placeholder:"Confirm your password",className:n.confirmPassword?"error":""}),n.confirmPassword&&(0,bv.jsx)("span",{className:"error-message",children:n.confirmPassword})]}),l&&(0,bv.jsx)("div",{className:"error-message auth-error",children:Hv(l)}),(0,bv.jsx)(Jv,{type:"submit",variant:"primary",disabled:i,className:"auth-button",children:i?(0,bv.jsx)(Qv,{size:"small"}):"Create Account"})]}),(0,bv.jsx)("div",{className:"auth-footer",children:(0,bv.jsxs)("p",{children:["Already have an account? ",(0,bv.jsx)(Ce,{to:"/login",children:"Sign in here"})]})})]})})},iy=()=>(0,bv.jsxs)("div",{className:"auth-page",children:[(0,bv.jsx)(Zv,{}),(0,bv.jsx)("main",{className:"main-content",children:(0,bv.jsx)("div",{className:"auth-container",children:(0,bv.jsxs)("div",{className:"auth-content",children:[(0,bv.jsx)("div",{className:"auth-info"}),(0,bv.jsx)("div",{className:"auth-form-container",children:(0,bv.jsx)(ry,{})})]})})}),(0,bv.jsx)(ey,{})]});const ay=new class{constructor(){this.notifications=[],this.container=null,this.init()}init(){document.getElementById("notification-container")||(this.container=document.createElement("div"),this.container.id="notification-container",this.container.className="notification-container",this.container.innerHTML="\n        <style>\n          .notification-container {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index: 10000;\n            pointer-events: none;\n          }\n          \n          .notification {\n            background: white;\n            border-radius: 12px;\n            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n            margin-bottom: 12px;\n            padding: 16px 20px;\n            min-width: 320px;\n            max-width: 400px;\n            pointer-events: auto;\n            transform: translateX(100%);\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            border-left: 4px solid #e5e7eb;\n            display: flex;\n            align-items: flex-start;\n            gap: 12px;\n          }\n          \n          .notification.show {\n            transform: translateX(0);\n          }\n          \n          .notification.success {\n            border-left-color: #10b981;\n          }\n          \n          .notification.error {\n            border-left-color: #ef4444;\n          }\n          \n          .notification.warning {\n            border-left-color: #f59e0b;\n          }\n          \n          .notification.info {\n            border-left-color: #3b82f6;\n          }\n          \n          .notification-icon {\n            font-size: 20px;\n            margin-top: 2px;\n            flex-shrink: 0;\n          }\n          \n          .notification-content {\n            flex: 1;\n          }\n          \n          .notification-title {\n            font-weight: 600;\n            font-size: 14px;\n            color: #1f2937;\n            margin-bottom: 4px;\n          }\n          \n          .notification-message {\n            font-size: 13px;\n            color: #6b7280;\n            line-height: 1.4;\n          }\n          \n          .notification-close {\n            background: none;\n            border: none;\n            color: #9ca3af;\n            cursor: pointer;\n            font-size: 16px;\n            padding: 0;\n            margin-left: 8px;\n            flex-shrink: 0;\n          }\n          \n          .notification-close:hover {\n            color: #6b7280;\n          }\n          \n          @media (max-width: 640px) {\n            .notification-container {\n              left: 20px;\n              right: 20px;\n              top: 20px;\n            }\n            \n            .notification {\n              min-width: auto;\n              max-width: none;\n            }\n          }\n        </style>\n      ",document.body.appendChild(this.container))}show(e){const{type:t="info",title:n,message:s,duration:r=5e3,persistent:i=!1}=e,a=Date.now().toString(),o=this.createNotification(a,t,n,s);return this.container.appendChild(o),setTimeout(()=>{o.classList.add("show")},10),!i&&r>0&&setTimeout(()=>{this.remove(a)},r),a}createNotification(e,t,n,s){const r=document.createElement("div");r.className=`notification ${t}`,r.setAttribute("data-id",e);const i={success:"\u2705",error:"\u274c",warning:"\u26a0\ufe0f",info:"\u2139\ufe0f"};return r.innerHTML=`\n      <div class="notification-icon">${i[t]||i.info}</div>\n      <div class="notification-content">\n        ${n?`<div class="notification-title">${n}</div>`:""}\n        <div class="notification-message">${s}</div>\n      </div>\n      <button class="notification-close" onclick="notificationService.remove('${e}')">&times;</button>\n    `,r}remove(e){const t=this.container.querySelector(`[data-id="${e}"]`);t&&(t.classList.remove("show"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300))}clear(){this.container.querySelectorAll(".notification").forEach(e=>{const t=e.getAttribute("data-id");this.remove(t)})}removeAll(){this.clear()}success(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.show({type:"success",title:e,message:t,...n})}error(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.show({type:"error",title:e,message:t,duration:8e3,...n})}warning(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.show({type:"warning",title:e,message:t,duration:6e3,...n})}info(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.show({type:"info",title:e,message:t,...n})}loading(e,t){return this.show({type:"info",title:e,message:t,persistent:!0,duration:0})}};window.notificationService=ay;const oy=(e,t,n)=>ay.success(e,t,n),ly=(e,t,n)=>ay.error(e,t,n),cy=(e,t)=>ay.loading(e,t),uy=()=>{const[e,t]=(0,r.useState)(""),[n,s]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),{forgotPassword:c,error:u,setError:d}=Nv(),h=async()=>{s(!0);try{const t=await c(e);t.success?oy("Email Resent!",`We've sent another password reset link to ${e}.`):ly("Resend Failed",t.error||"Failed to resend email. Please try again.")}catch(u){console.error("Resend email error:",u),ly("Resend Failed","An unexpected error occurred. Please try again.")}finally{s(!1)}};return i?(0,bv.jsx)("div",{className:"auth-container",children:(0,bv.jsxs)("div",{className:"auth-card",children:[(0,bv.jsxs)("div",{className:"auth-header",children:[(0,bv.jsx)("div",{className:"success-icon",children:(0,bv.jsx)("i",{className:"fas fa-check-circle"})}),(0,bv.jsx)("h2",{children:"Check Your Email"}),(0,bv.jsx)("p",{children:"We've sent a password reset link to:"}),(0,bv.jsx)("div",{className:"email-display",children:(0,bv.jsx)("strong",{children:e})})]}),(0,bv.jsxs)("div",{className:"auth-content",children:[(0,bv.jsxs)("div",{className:"reset-instructions",children:[(0,bv.jsx)("h3",{children:"What's Next?"}),(0,bv.jsxs)("ol",{children:[(0,bv.jsx)("li",{children:"Check your email inbox (and spam folder)"}),(0,bv.jsx)("li",{children:"Click the reset link in the email"}),(0,bv.jsx)("li",{children:"Create a new password"}),(0,bv.jsx)("li",{children:"Sign in with your new password"})]})]}),(0,bv.jsxs)("div",{className:"reset-actions",children:[(0,bv.jsx)(Jv,{variant:"secondary",onClick:h,disabled:n,className:"resend-button",children:n?(0,bv.jsx)(Qv,{size:"small"}):"Resend Email"}),(0,bv.jsx)(Jv,{variant:"outline",onClick:()=>{a(!1),t("")},className:"change-email-button",children:"Use Different Email"})]})]}),(0,bv.jsx)("div",{className:"auth-footer",children:(0,bv.jsxs)("p",{children:["Remember your password? ",(0,bv.jsx)(Ce,{to:"/login",children:"Sign in here"})]})})]})}):(0,bv.jsx)("div",{className:"auth-container",children:(0,bv.jsxs)("div",{className:"auth-card",children:[(0,bv.jsxs)("div",{className:"auth-header",children:[(0,bv.jsx)("h2",{children:"Reset Password"}),(0,bv.jsx)("p",{children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,bv.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e?Lv(e)?(l(""),1):(l("Please enter a valid email address"),0):(l("Email address is required"),0)){s(!0);try{const t=await c(e);t.success?(a(!0),oy("Reset Email Sent!",`We've sent a password reset link to ${e}. Please check your inbox and follow the instructions.`)):ly("Reset Failed",t.error||"Failed to send reset email. Please try again.")}catch(u){console.error("Forgot password error:",u),ly("Reset Failed","An unexpected error occurred. Please try again.")}finally{s(!1)}}},className:"auth-form",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,bv.jsx)("input",{type:"email",id:"email",name:"email",value:e,onChange:e=>{t(e.target.value),o&&l(""),u&&d(null)},placeholder:"Enter your email address",className:o||u?"error":"",autoFocus:!0}),o&&(0,bv.jsx)("span",{className:"error-message",children:o})]}),u&&(0,bv.jsx)("div",{className:"error-message auth-error",children:Hv(u)}),(0,bv.jsx)(Jv,{type:"submit",variant:"primary",disabled:n,className:"auth-button",children:n?(0,bv.jsx)(Qv,{size:"small"}):"Send Reset Link"})]}),(0,bv.jsxs)("div",{className:"auth-footer",children:[(0,bv.jsxs)("p",{children:["Remember your password? ",(0,bv.jsx)(Ce,{to:"/login",children:"Sign in here"})]}),(0,bv.jsxs)("p",{children:["Don't have an account? ",(0,bv.jsx)(Ce,{to:"/signup",children:"Sign up here"})]})]})]})})},dy=()=>(0,bv.jsxs)("div",{className:"auth-page",children:[(0,bv.jsx)(Zv,{}),(0,bv.jsx)("main",{className:"main-content",children:(0,bv.jsx)("div",{className:"auth-container",children:(0,bv.jsxs)("div",{className:"auth-content",children:[(0,bv.jsxs)("div",{className:"auth-info",children:[(0,bv.jsx)("h1",{children:"Reset Your Password"}),(0,bv.jsx)("p",{children:"Enter your email address and we'll send you a link to reset your password"}),(0,bv.jsxs)("div",{className:"auth-features",children:[(0,bv.jsxs)("div",{className:"feature-item",children:[(0,bv.jsx)("i",{className:"fas fa-shield-alt"}),(0,bv.jsx)("span",{children:"Secure password reset process"})]}),(0,bv.jsxs)("div",{className:"feature-item",children:[(0,bv.jsx)("i",{className:"fas fa-envelope"}),(0,bv.jsx)("span",{children:"Email verification required"})]}),(0,bv.jsxs)("div",{className:"feature-item",children:[(0,bv.jsx)("i",{className:"fas fa-clock"}),(0,bv.jsx)("span",{children:"Reset link expires in 1 hour"})]}),(0,bv.jsxs)("div",{className:"feature-item",children:[(0,bv.jsx)("i",{className:"fas fa-lock"}),(0,bv.jsx)("span",{children:"Your account remains secure"})]})]}),(0,bv.jsxs)("div",{className:"auth-help",children:[(0,bv.jsx)("h3",{children:"Need Help?"}),(0,bv.jsx)("p",{children:"If you don't receive the email within a few minutes, please:"}),(0,bv.jsxs)("ul",{children:[(0,bv.jsx)("li",{children:"Check your spam/junk folder"}),(0,bv.jsx)("li",{children:"Verify you entered the correct email address"}),(0,bv.jsx)("li",{children:"Try again with a different email if you have multiple accounts"})]})]})]}),(0,bv.jsx)("div",{className:"auth-form-container",children:(0,bv.jsx)(uy,{})})]})})}),(0,bv.jsx)(ey,{})]}),hy=()=>{const{user:e}=Nv(),[t,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null);return{saveResume:async t=>{if(!e)return{success:!1,error:"User not authenticated"};n(!0),i(null);try{return await _v(e.uid,t)}catch(s){return i(s.message),{success:!1,error:s.message}}finally{n(!1)}},loadResume:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";if(!e)return{success:!1,error:"User not authenticated"};n(!0),i(null);try{return await kv(e.uid,t)}catch(s){return i(s.message),{success:!1,error:s.message}}finally{n(!1)}},getResumes:async()=>{if(!e)return{success:!1,error:"User not authenticated"};n(!0),i(null);try{return await Sv(e.uid)}catch(s){return i(s.message),{success:!1,error:s.message}}finally{n(!1)}},removeResume:async t=>{if(!e)return{success:!1,error:"User not authenticated"};n(!0),i(null);try{return await Iv(e.uid,t)}catch(s){return i(s.message),{success:!1,error:s.message}}finally{n(!1)}},subscribeToUpdates:(t,n)=>e?((e,t,n)=>Kf(rf(pv,"users",e,"resumes",t),e=>{e.exists()?n({success:!0,data:e.data()}):n({success:!1,error:"Resume not found"})}))(e.uid,t,n):null,loading:t,error:s,setError:i}},my=()=>{const{user:e}=Nv(),{getResumes:t,removeResume:n,loading:s,error:i}=hy(),[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),u=ne();(0,r.useEffect)(()=>{d()},[]),(0,r.useEffect)(()=>{const e=()=>{console.log("Dashboard: Window focused, reloading resumes"),d()};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]);const d=async()=>{console.log("Dashboard: loadResumes called"),console.log("Dashboard: Current user:",e),c(!0);try{var n;const e=await t();console.log("Dashboard: getResumes result:",e),console.log("Dashboard: Number of resumes found:",(null===(n=e.data)||void 0===n?void 0:n.length)||0),e.success?(console.log("Dashboard: Setting resumes:",e.data),console.log("Dashboard: Resume details:",e.data.map(e=>{var t;return{id:e.id,title:e.title,fullName:null===(t=e.personalInfo)||void 0===t?void 0:t.fullName}})),o(e.data)):console.error("Dashboard: Error loading resumes:",e.error)}catch(i){console.error("Dashboard: Error loading resumes:",i)}finally{c(!1)}},h=e=>{if(!e)return"Unknown";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return(0,bv.jsxs)("div",{className:"dashboard-page pro-dashboard-bg",children:[(0,bv.jsx)(Zv,{}),(0,bv.jsx)("main",{className:"dashboard-main",children:(0,bv.jsxs)("div",{className:"dashboard-container",children:[(0,bv.jsxs)("section",{className:"dashboard-topbar",children:[(0,bv.jsxs)("div",{className:"dashboard-welcome",children:[(0,bv.jsxs)("h1",{className:"dashboard-title",children:["Welcome back, ",(0,bv.jsx)("span",{className:"dashboard-user",children:(null===e||void 0===e?void 0:e.displayName)||(null===e||void 0===e?void 0:e.email)}),"!"]}),(0,bv.jsx)("p",{className:"dashboard-subtitle",children:"Manage your resumes and create new ones"})]}),(0,bv.jsx)("div",{className:"dashboard-create-btn",children:(0,bv.jsx)(Ce,{to:"/resume-builder?new=true",children:(0,bv.jsxs)(Jv,{variant:"primary",size:"large",children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Create New Resume"]})})})]}),(0,bv.jsxs)("section",{className:"dashboard-content-area",children:[(0,bv.jsxs)("div",{className:"dashboard-resumes-area",children:[(0,bv.jsx)("h2",{className:"dashboard-section-title",children:"Your Resumes"}),l?(0,bv.jsxs)("div",{className:"dashboard-loading-card",children:[(0,bv.jsx)(Qv,{size:"large"}),(0,bv.jsx)("p",{children:"Loading your resumes..."})]}):i?(0,bv.jsxs)("div",{className:"dashboard-error-card",children:[(0,bv.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,bv.jsxs)("p",{children:["Error loading resumes: ",i]}),(0,bv.jsx)(Jv,{variant:"secondary",onClick:d,children:"Try Again"})]}):0===a.length?(0,bv.jsxs)("div",{className:"dashboard-empty-card",children:[(0,bv.jsx)("div",{className:"dashboard-empty-icon",children:(0,bv.jsx)("i",{className:"fas fa-file-alt"})}),(0,bv.jsx)("h3",{children:"No resumes yet"}),(0,bv.jsx)("p",{children:"Create your first resume to get started"}),(0,bv.jsx)(Ce,{to:"/resume-builder?new=true",children:(0,bv.jsx)(Jv,{variant:"primary",children:"Create Your First Resume"})})]}):(0,bv.jsx)("div",{className:"dashboard-resumes-grid",children:a.map(e=>{var t;return(0,bv.jsxs)("div",{className:"dashboard-resume-card",children:[(0,bv.jsxs)("div",{className:"dashboard-resume-preview",children:[(0,bv.jsxs)("div",{className:"dashboard-preview-header",children:[(0,bv.jsx)("div",{className:"dashboard-preview-line long"}),(0,bv.jsx)("div",{className:"dashboard-preview-line medium"})]}),(0,bv.jsxs)("div",{className:"dashboard-preview-content",children:[(0,bv.jsx)("div",{className:"dashboard-preview-line short"}),(0,bv.jsx)("div",{className:"dashboard-preview-line medium"}),(0,bv.jsx)("div",{className:"dashboard-preview-line long"}),(0,bv.jsx)("div",{className:"dashboard-preview-line short"})]})]}),(0,bv.jsxs)("div",{className:"dashboard-resume-info",children:[(0,bv.jsx)("h3",{className:"dashboard-resume-title",children:e.title||(null===(t=e.personalInfo)||void 0===t?void 0:t.fullName)||"Untitled Resume"}),(0,bv.jsxs)("div",{className:"dashboard-resume-meta",children:[(0,bv.jsx)("span",{className:"dashboard-template-badge",children:e.template||"modern"}),(0,bv.jsxs)("span",{className:"dashboard-last-updated",children:["Updated ",h(e.lastUpdated)]})]}),(0,bv.jsxs)("div",{className:"dashboard-resume-actions",children:[(0,bv.jsxs)(Jv,{variant:"primary",size:"small",onClick:()=>{return t=e.id,void u(`/resume-builder?id=${t}`);var t},children:[(0,bv.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,bv.jsxs)(Jv,{variant:"danger",size:"small",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this resume?"))try{const t=await n(e);t.success?o(a.filter(t=>t.id!==e)):alert("Error deleting resume: "+t.error)}catch(i){alert("Error deleting resume: "+i.message)}})(e.id),disabled:s,children:[(0,bv.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]})]},e.id)})})]}),(0,bv.jsxs)("aside",{className:"dashboard-sidebar-area",children:[(0,bv.jsxs)("div",{className:"dashboard-stats-card",children:[(0,bv.jsx)("h3",{className:"dashboard-card-title",children:"Your Stats"}),(0,bv.jsxs)("div",{className:"dashboard-stat-item",children:[(0,bv.jsx)("span",{className:"dashboard-stat-label",children:"Total Resumes"}),(0,bv.jsx)("span",{className:"dashboard-stat-value",children:a.length})]}),(0,bv.jsxs)("div",{className:"dashboard-stat-item",children:[(0,bv.jsx)("span",{className:"dashboard-stat-label",children:"Templates Used"}),(0,bv.jsx)("span",{className:"dashboard-stat-value",children:new Set(a.map(e=>e.template)).size})]})]}),(0,bv.jsxs)("div",{className:"dashboard-tips-card",children:[(0,bv.jsx)("h3",{className:"dashboard-card-title",children:"Resume Tips"}),(0,bv.jsxs)("ul",{className:"dashboard-tips-list",children:[(0,bv.jsx)("li",{children:"Keep your resume to 1-2 pages"}),(0,bv.jsx)("li",{children:"Use action verbs to describe your experience"}),(0,bv.jsx)("li",{children:"Quantify your achievements with numbers"}),(0,bv.jsx)("li",{children:"Tailor your resume for each job application"}),(0,bv.jsx)("li",{children:"Proofread carefully for spelling and grammar"})]})]})]})]})]})}),(0,bv.jsx)(ey,{})]})},py=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return new Promise((n,s)=>{if(!e.type.startsWith("image/")||e.size<51200)return void n(e);const r=URL.createObjectURL(e),i=new Image;i.onload=()=>{URL.revokeObjectURL(r);let a=i.width,o=i.height;a>o?a>400&&(o=400*o/a,a=400):o>400&&(a=400*a/o,o=400);const l=document.createElement("canvas");l.width=a,l.height=o;const c=l.getContext("2d",{alpha:!1});c.imageSmoothingEnabled=!1,c.imageSmoothingQuality="low",c.drawImage(i,0,0,a,o),l.toBlob(t=>{if(t){const s=new File([t],e.name,{type:"image/jpeg",lastModified:Date.now()});n(s)}else s(new Error("Could not compress image"))},"image/jpeg",t)},i.onerror=()=>{URL.revokeObjectURL(r),s(new Error("Could not load image for compression"))},i.src=r})},fy=async(e,t)=>{try{let r=e;if(e.type.startsWith("image/"))try{r=await py(e)}catch(s){console.warn("Image compression failed, uploading original file:",s)}const i=(n=t,iv(ht(fv),n)),a=await function(e,t,n){return tv(e=ht(e),t,n)}(i,r);return{success:!0,url:await function(e){return nv(e=ht(e))}(a.ref)}}catch(r){return{success:!1,error:r.message}}var n},gy=e=>{let{currentPhoto:t,onPhotoUpload:n}=e;const[s,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(0),[l,c]=(0,r.useState)(""),{user:u}=Nv();return(0,bv.jsxs)("div",{className:"photo-upload",children:[(0,bv.jsxs)("div",{className:"photo-preview",children:[t?(0,bv.jsx)("img",{src:t,alt:"Profile",className:"photo-img"}):(0,bv.jsx)("div",{className:"photo-placeholder",children:(0,bv.jsx)("i",{className:"fas fa-user"})}),(s||a>0)&&(0,bv.jsx)("div",{className:"photo-overlay",children:a>0&&a<100?(0,bv.jsxs)("div",{className:"upload-progress",children:[(0,bv.jsx)("div",{className:"progress-bar",children:(0,bv.jsx)("div",{className:"progress-fill",style:{width:`${a}%`}})}),(0,bv.jsxs)("span",{className:"progress-text",children:[a,"%"]})]}):(0,bv.jsx)(Qv,{size:"small"})})]}),(0,bv.jsxs)("div",{className:"photo-controls",children:[(0,bv.jsx)("input",{type:"file",id:"photo-input",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;const s=(e=>["image/jpeg","image/png","image/webp"].includes(e.type)?e.size>5242880?{valid:!1,error:"File size must be less than 5MB"}:{valid:!0}:{valid:!1,error:"Please upload a valid image file (JPEG, PNG, or WebP)"})(t);if(!s.valid)return c(s.error),void ly("Invalid File",s.error);c(""),i(!0),o(0);try{if(u)try{o(20);const e=await(async(e,t,n)=>{const s=`users/${e}/resumes/${t}/photo.jpg`;return await fy(n,s)})(u.uid,"default",t);if(o(80),e.success)return n(e.url,{shouldPersist:!0}),o(100),oy("Photo Uploaded","Your profile photo has been uploaded successfully!"),i(!1),void setTimeout(()=>o(0),1e3)}catch(r){console.warn("Firebase Storage upload failed, falling back to base64:",r),o(0)}o(30),(e=>new Promise((t,n)=>{if(e.size<30720){const s=new FileReader;return s.onload=e=>t(e.target.result),s.onerror=()=>n(new Error("Could not read file")),void s.readAsDataURL(e)}py(e).then(e=>{const s=new FileReader;s.onload=e=>t(e.target.result),s.onerror=()=>n(new Error("Could not read compressed file")),s.readAsDataURL(e)}).catch(()=>{const s=new FileReader;s.onload=e=>t(e.target.result),s.onerror=()=>n(new Error("Could not read file")),s.readAsDataURL(e)})}))(t).then(e=>{o(95),n(e,{localOnly:!0}),o(100),oy("Photo Uploaded","Your profile photo has been uploaded successfully!"),i(!1),setTimeout(()=>o(0),1e3)}).catch(e=>{console.error("Base64 conversion error:",e),c("Failed to process image file"),ly("Upload Failed","Failed to process the image file. Please try again."),i(!1),o(0)})}catch(l){console.error("Photo upload error:",l),c("Failed to upload photo. Please try again."),ly("Upload Failed","Failed to upload photo. Please try again."),i(!1),o(0)}},style:{display:"none"}}),(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:()=>document.getElementById("photo-input").click(),disabled:s,children:[(0,bv.jsx)("i",{className:"fas fa-camera"}),t?"Change Photo":"Upload Photo"]}),t&&(0,bv.jsxs)(Jv,{variant:"danger",size:"small",onClick:()=>{n(""),oy("Photo Removed","Your profile photo has been removed.")},disabled:s,children:[(0,bv.jsx)("i",{className:"fas fa-trash"}),"Remove"]})]}),l&&(0,bv.jsx)("div",{className:"error-message photo-error",children:l}),(0,bv.jsxs)("div",{className:"photo-info",children:[(0,bv.jsx)("p",{children:"Recommended: 300x300px, max 5MB"}),(0,bv.jsx)("p",{children:"Supported formats: JPG, PNG, WebP"})]})]})},vy=()=>{const{personalInfo:e,dispatch:t}=Wv(),[n,s]=(0,r.useState)({}),[i,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),m=e=>{const{name:r,value:i}=e.target;t({type:"UPDATE_PERSONAL_INFO",payload:{[r]:i}}),n[r]&&s(e=>({...e,[r]:""}))},p=e=>{const{name:t,value:n}=e.target;((e,t)=>{let n="";switch(e){case"email":t&&!Lv(t)&&(n="Please enter a valid email address");break;case"phone":t&&!/^[\+]?[1-9][\d]{0,15}$/.test(t.replace(/\s/g,""))&&(n="Please enter a valid phone number");break;case"linkedin":case"portfolio":t&&!Mv(t)&&(n="Please enter a valid URL")}s(t=>({...t,[e]:n}))})(t,n)};return(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsx)("h3",{children:"Personal Information"}),(0,bv.jsx)("div",{className:"photo-section",children:(0,bv.jsx)(gy,{currentPhoto:e.photoURL,onPhotoUpload:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).localOnly,t({type:"UPDATE_PERSONAL_INFO",payload:{photoURL:e}})},resumeId:window.location.search.includes("id=")?new URLSearchParams(window.location.search).get("id"):void 0})}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"fullName",children:"Full Name *"}),(0,bv.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:m,placeholder:"Enter your full name",required:!0})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"jobRole",children:"Job Role/Title"}),(0,bv.jsx)("input",{type:"text",id:"jobRole",name:"jobRole",value:e.jobRole,onChange:m,placeholder:"e.g., Software Engineer, Marketing Manager, UX Designer"})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,bv.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:m,onBlur:p,placeholder:"your.email@example.com",className:n.email?"error":"",required:!0}),n.email&&(0,bv.jsx)("span",{className:"error-message",children:n.email})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,bv.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:m,onBlur:p,placeholder:"+1 (555) 123-4567",className:n.phone?"error":""}),n.phone&&(0,bv.jsx)("span",{className:"error-message",children:n.phone})]}),(0,bv.jsxs)("div",{className:"form-group full-width",children:[(0,bv.jsx)("label",{htmlFor:"address",children:"Address"}),(0,bv.jsx)("input",{type:"text",id:"address",name:"address",value:e.address,onChange:m,placeholder:"City, State, Country"})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"linkedin",children:"LinkedIn Profile"}),(0,bv.jsx)("input",{type:"url",id:"linkedin",name:"linkedin",value:e.linkedin,onChange:m,onBlur:p,placeholder:"https://linkedin.com/in/yourprofile",className:n.linkedin?"error":""}),n.linkedin&&(0,bv.jsx)("span",{className:"error-message",children:n.linkedin})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"portfolio",children:"Portfolio/Website"}),(0,bv.jsx)("input",{type:"url",id:"portfolio",name:"portfolio",value:e.portfolio,onChange:m,onBlur:p,placeholder:"https://yourportfolio.com",className:n.portfolio?"error":""}),n.portfolio&&(0,bv.jsx)("span",{className:"error-message",children:n.portfolio})]}),(0,bv.jsx)("div",{className:"form-grid",children:(0,bv.jsxs)("div",{className:"form-group full-width",children:[(0,bv.jsx)("label",{children:"Custom Links"}),e.customLinks&&e.customLinks.length>0&&(0,bv.jsx)("ul",{style:{paddingLeft:0,marginBottom:8},children:e.customLinks.map((e,n)=>(0,bv.jsxs)("li",{style:{listStyle:"none",marginBottom:2},children:[(0,bv.jsxs)("span",{style:{fontWeight:500},children:[e.name,":"]})," ",(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url}),(0,bv.jsx)(Jv,{variant:"danger",size:"small",style:{marginLeft:8},onClick:()=>(e=>{t({type:"REMOVE_CUSTOM_LINK",payload:e})})(n),children:"Remove"})]},n))}),i?(0,bv.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:4},children:[(0,bv.jsx)("input",{type:"text",placeholder:"Name",value:o,onChange:e=>l(e.target.value),style:{flex:1}}),(0,bv.jsx)("input",{type:"url",placeholder:"Hyperlink",value:c,onChange:e=>u(e.target.value),style:{flex:2}}),(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:()=>{o.trim()&&c.trim()?/^https?:\/\//.test(c.trim())?(t({type:"ADD_CUSTOM_LINK",payload:{name:o.trim(),url:c.trim()}}),l(""),u(""),h(""),a(!1)):h("URL must start with http:// or https://"):h("Both fields are required")},children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Add"]}),(0,bv.jsx)(Jv,{variant:"secondary",size:"small",onClick:()=>{a(!1),h("")},children:"Cancel"})]}):(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:()=>a(!0),style:{marginTop:4},children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Add Link"]}),d&&(0,bv.jsx)("div",{style:{color:"red",fontSize:"0.8em"},children:d})]})})]})},yy=()=>{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GEMINI_API_KEY:"AIzaSyDiY5QHNaKePD0Q5FoYP-5T50cmCYpKeTo"}.REACT_APP_OPENAI_API_KEY;if(!e)throw new Error("OpenAI API key not found. Please set REACT_APP_OPENAI_API_KEY in your environment variables.");return e},xy=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;try{const s=yy(),r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a professional resume writer. Generate concise, professional, and achievement-oriented content for resumes. Focus on action verbs and quantifiable results when possible."},{role:"user",content:e}],max_tokens:t,temperature:.7,top_p:1,frequency_penalty:0,presence_penalty:0})});if(!r.ok){var n;const e=await r.json().catch(()=>({}));throw new Error((null===(n=e.error)||void 0===n?void 0:n.message)||`API request failed with status ${r.status}`)}const i=await r.json();if(!i.choices||!i.choices[0]||!i.choices[0].message)throw new Error("Invalid response format from OpenAI API");return i.choices[0].message.content.trim()}catch(s){throw console.error("OpenAI API Error:",s),s}},by={generateProfessionalSummary:async e=>{const{personalInfo:t,experience:n,education:s,skills:r,jobDescription:i}=e,a=(n||[]).map(e=>`${e.position||e.title} at ${e.company}`).join(", "),o=(s||[]).map(e=>`${e.degree} from ${e.institution}`).join(", "),l=Array.isArray(r)?r.join(", "):((null===r||void 0===r?void 0:r.technical)||[]).join(", ")||"Multiple skills";let c=`Write a professional summary for a resume (2-3 sentences, 50-80 words).\n\nName: ${(null===t||void 0===t?void 0:t.fullName)||"Professional"}\nTarget Role: ${(null===t||void 0===t?void 0:t.jobTitle)||(null===t||void 0===t?void 0:t.jobRole)||"Professional"}\nExperience: ${a||"Various roles"}\nEducation: ${o||"Relevant education"}\nSkills: ${l}`;return i&&i.trim()&&(c+=`\n\nTarget Job Description:\n${i.trim()}\n\nUse the job description above to tailor the summary and include relevant keywords.`),c+="\n\nSTRICT REQUIREMENTS:\n- EXACTLY 40-45 words total (count carefully)\n- Include 3-4 ATS keywords\n- Mention one quantifiable achievement\n- Professional tone, action-oriented\n- Focus on value proposition and professional strengths\n- COMPLETE the summary - no truncation\n\nCreate a compelling summary (40-45 words exactly) that highlights key qualifications and career objectives. Count words to ensure exactly 40-45 words.",await xy(c,120)},generateExperienceDescription:async e=>{const{position:t,company:n,startDate:s,endDate:r,jobDescriptionForAI:i}=e;let a=`Write a concise, achievement-oriented job description for a resume (3-4 bullet points, 60-100 words total).\n\nPosition: ${t||"Professional Role"}\nCompany: ${n||"Company"}\nDuration: ${s||"Start"} - ${r||"End"}`;return i&&i.trim()&&(a+=`\n\nOriginal Job Description for Reference:\n${i.trim()}\n\nUse the job description above to understand the role requirements and tailor the experience description accordingly.`),a+=`\n\nSTRICT REQUIREMENTS:\n- EXACTLY 40-45 words total (count carefully)\n- Include 3-4 ATS keywords\n- Use action verbs (managed, developed, implemented, led, etc.)\n- Include ONE quantifiable result\n- Professional impact and value delivered\n${i?"- Alignment with job description requirements":""}\n- COMPLETE the description - no truncation\n\nFormat as ONE paragraph (40-45 words exactly), not bullet points. Count words to ensure exactly 40-45 words.`,await xy(a,120)},generateProjectDescription:async e=>{const{name:t,role:n,technologies:s}=e,r=`Write a concise, achievement-oriented project description for a resume (2-3 sentences, 40-80 words).\n\nProject: ${t||"Project"}\nRole: ${n||"Developer"}\nTechnologies: ${(s||[]).join(", ")||"Various technologies"}\n\nSTRICT REQUIREMENTS:\n- EXACTLY 40-45 words total (count carefully)\n- Include project name and your role\n- Mention 3-4 key technologies\n- Include ONE quantifiable result or impact\n- Technical skills demonstrated\n- Professional, technical language\n- COMPLETE the description - no truncation\n\nWrite as ONE professional paragraph (40-45 words exactly) highlighting technical expertise and project outcomes. Count words to ensure exactly 40-45 words.`;return await xy(r,120)},isOpenAIConfigured:()=>{try{return yy(),!0}catch{return!1}}},wy={software:["JavaScript","Python","React","Node.js","AWS","Docker","Kubernetes","Agile","Scrum","CI/CD","Git","API","Database","Full-stack","Frontend","Backend"],data:["Python","SQL","Machine Learning","Data Analysis","Tableau","Power BI","Statistics","R","Pandas","NumPy","TensorFlow","Big Data","ETL","Data Visualization"],marketing:["Digital Marketing","SEO","SEM","Google Analytics","Social Media","Content Marketing","Email Marketing","CRM","Lead Generation","Conversion Rate","ROI","KPI"],finance:["Financial Analysis","Excel","Financial Modeling","Budgeting","Forecasting","Risk Management","Compliance","Audit","GAAP","Financial Reporting","Variance Analysis"],sales:["Sales Management","Lead Generation","CRM","Salesforce","Pipeline Management","Revenue Growth","Client Relationship","Negotiation","Quota Achievement","B2B Sales"],project:["Project Management","PMP","Agile","Scrum","Kanban","Risk Management","Stakeholder Management","Budget Management","Timeline Management","Resource Planning"],hr:["Human Resources","Talent Acquisition","Employee Relations","Performance Management","HRIS","Compensation","Benefits","Training","Compliance","Diversity"],operations:["Operations Management","Process Improvement","Lean Six Sigma","Supply Chain","Logistics","Quality Assurance","Cost Reduction","Efficiency","KPI","Vendor Management"]},Ny=["Achieved","Accelerated","Accomplished","Administered","Analyzed","Architected","Built","Collaborated","Coordinated","Created","Delivered","Designed","Developed","Directed","Enhanced","Established","Executed","Generated","Implemented","Improved","Increased","Initiated","Launched","Led","Managed","Optimized","Orchestrated","Organized","Pioneered","Reduced","Resolved","Spearheaded","Streamlined","Transformed"],jy=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),n=e.join(" ").toLowerCase();return t.includes("developer")||t.includes("engineer")||t.includes("programmer")||n.includes("javascript")||n.includes("python")||n.includes("react")?"software":t.includes("data")||t.includes("analyst")||t.includes("scientist")||n.includes("sql")||n.includes("tableau")||n.includes("analytics")?"data":t.includes("marketing")||t.includes("digital")||t.includes("seo")||n.includes("marketing")||n.includes("seo")||n.includes("social media")?"marketing":t.includes("finance")||t.includes("accounting")||t.includes("financial")||t.includes("accountant")||t.includes("chartered")||t.includes("cpa")||t.includes("auditor")||n.includes("excel")||n.includes("financial")||n.includes("budget")?"finance":t.includes("sales")||t.includes("business development")||n.includes("sales")||n.includes("crm")||n.includes("salesforce")?"sales":t.includes("project manager")||t.includes("program manager")||n.includes("project management")||n.includes("agile")||n.includes("scrum")?"project":t.includes("hr")||t.includes("human resources")||t.includes("recruiter")||n.includes("hr")||n.includes("recruiting")||n.includes("talent")?"hr":t.includes("operations")||t.includes("supply chain")||t.includes("logistics")||n.includes("operations")||n.includes("process")||n.includes("logistics")?"operations":"software"},Ey=e=>wy[e]||wy.software,_y=jy,ky=Ey,Sy=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"general";if(!e)return e;let s=e;const r=Ey(t);if("summary"===n&&!r.some(e=>s.toLowerCase().includes(e.toLowerCase()))){const e=r.slice(0,3).join(", ");s=s.replace(/\.$/,` with expertise in ${e}.`)}return["did","worked","helped","was responsible","handled"].forEach(e=>{if(s.toLowerCase().includes(e)){const t=Ny[Math.floor(Math.random()*Ny.length)];s=s.replace(new RegExp(e,"gi"),t)}}),s},Iy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"software";const t={teamSize:Math.floor(10*Math.random())+3,improvement:Math.floor(30*Math.random())+15,costSaving:Math.floor(400*Math.random())+100,timeReduction:Math.floor(50*Math.random())+20,userBase:Math.floor(90*Math.random())+10,revenue:Math.floor(2e3*Math.random())+500};return"finance"===e?(t.costSaving*=2,t.revenue*=3):"data"===e&&(t.userBase*=10,t.improvement+=10),t},Ty=()=>{const e="AIzaSyDiY5QHNaKePD0Q5FoYP-5T50cmCYpKeTo";return e},Cy=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const s=Ty(),r=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are a professional resume writer. Generate concise, professional, and achievement-oriented content for resumes. Focus on action verbs and quantifiable results when possible.\n\n${e}`}]}],generationConfig:{temperature:t.temperature||.8,topK:t.topK||40,topP:t.topP||.95,maxOutputTokens:t.maxOutputTokens||500},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!r.ok){var n;const e=await r.json().catch(()=>({}));throw new Error((null===(n=e.error)||void 0===n?void 0:n.message)||`API request failed with status ${r.status}`)}const i=await r.json();if(!i.candidates||!i.candidates[0]||!i.candidates[0].content)throw new Error("Invalid response format from Gemini API");return i.candidates[0].content.parts[0].text.trim()}catch(s){throw console.error("Gemini API Error:",s),s}},Ay=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await Cy(e,{temperature:t.temperature||.7,maxOutputTokens:t.maxOutputTokens||300,...t})},Ry={generateProfessionalSummary:async e=>{var t,n,s,r;const{personalInfo:i,experience:a,education:o,skills:l,jobDescription:c}=e,u=(null===i||void 0===i?void 0:i.jobTitle)||(null===i||void 0===i?void 0:i.jobRole)||"Professional",d=(null===a||void 0===a?void 0:a.length)||0,h=(null===l||void 0===l||null===(t=l.technical)||void 0===t||null===(n=t.slice(0,4))||void 0===n?void 0:n.join(", "))||"Various skills";let m=`Write a concise professional summary for a ${u} resume. Maximum 4 lines only.\n\nTarget Role: ${u}\nExperience: ${d}+ years as ${(null===a||void 0===a||null===(s=a[0])||void 0===s?void 0:s.position)||"Professional"}\nKey Skills: ${h}\nEducation: ${(null===o||void 0===o||null===(r=o[0])||void 0===r?void 0:r.degree)||""}`;return c&&c.trim()&&(m+=`\n\nTARGET JOB DESCRIPTION:\n${c.trim()}\n\nUse the job description above to tailor the summary and include relevant keywords and requirements.`),m+=`\n\nSTRICT REQUIREMENTS:\n- EXACTLY 40-45 words total (count carefully)\n- Start with "${u} with ${d}+ years of experience"\n- Include 3-4 ATS keywords from: ${h}\n- Mention one quantifiable achievement\n- Professional tone, action-oriented\n- Focus on value to employers\n- Use keywords from job description if provided\n- COMPLETE the summary - no truncation\n\nWrite only the summary, no extra text. Count words to ensure 40-45 words exactly.`,await Cy(m,{temperature:.7,maxOutputTokens:150,topP:.9})},generateExperienceDescription:async e=>{const{position:t,company:n,responsibilities:s,startDate:r,endDate:i,industry:a,skills:o,jobDescriptionForAI:l}=e,c=_y(t,o||[]),u=ky(c).slice(0,10).join(", "),d=Math.floor(5e4*Math.random()),h=["leadership and team management with quantifiable team growth","technical innovation and system optimization with performance metrics","cost reduction and process improvement with financial impact","client relationship management and business development","strategic planning and cross-functional collaboration"],m=h[d%h.length],p=Iy(c);let f=`You are an expert ATS resume writer. Create highly relevant, ATS-optimized experience bullets for this EXACT position.\n\nROLE ANALYSIS:\n- Job Title: ${t||"Professional"}\n- Company: ${n||"Leading Organization"}\n- Industry: ${c}\n- Responsibilities: ${s||"Professional duties"}\n- Duration: ${r||"Recent"} to ${i||"Present"}\n- Skills: ${Array.isArray(o)?o.join(", "):o||"Professional skills"}\n- ATS Keywords: ${u}\n- Focus: ${m}\n- Seed: ${d}`;l&&l.trim()&&(f+=`\n\nORIGINAL JOB DESCRIPTION FOR REFERENCE:\n${l.trim()}\n\nIMPORTANT: Use the job description above to understand the role requirements and tailor the experience bullets accordingly. Include relevant keywords and responsibilities mentioned in the job posting.`),f+=`\n\nSTRICT ATS REQUIREMENTS:\n1. Generate EXACTLY 40-45 words total (count carefully)\n2. Include 4-5 ATS keywords from: ${u}\n3. Use exact job title: ${t}\n4. Reference company: ${n}\n5. Start with power verbs: Led, Spearheaded, Implemented, Optimized, Delivered, Managed, Achieved\n6. Include ONE realistic metric:\n   - Team sizes: ${p.teamSize}-${p.teamSize+5} members OR\n   - Improvements: ${p.improvement}-${p.improvement+15}% OR\n   - Budget/revenue: $${p.costSaving}K-$${p.revenue}K\n7. Focus on ${m}\n8. Professional, action-oriented language\n${l?"9. Align with job description requirements and include relevant keywords from the posting":""}\n\nCreate ONE paragraph (40-45 words exactly) for ${t} at ${n}${l?" that aligns with the provided job description":""}. Count words to ensure exactly 40-45 words. COMPLETE the description - no truncation.`;try{let e=(await Cy(f,{temperature:.7,maxOutputTokens:120,topP:.9})).replace(/^(Experience:|Job Description:|Responsibilities:|Bullet Points:|Description:)/i,"").trim().replace(/\n+/g," ").replace(/\s+/g," ");const t=e.split(/\s+/).filter(e=>e.length>0);return t.length>45?e=t.slice(0,45).join(" ")+".":t.length<40&&(e=Sy(e,c,"experience")),e=Sy(e,c,"experience"),e}catch(g){console.error("Error generating experience description:",g);const e=u.split(", ").slice(0,3);return[`\u2022 Led ${t||"professional"} initiatives at ${n||"the organization"}, managing ${p.teamSize}+ team members and achieving ${p.improvement}% improvement`,`\u2022 Implemented ${e[0]||"strategic"} solutions utilizing ${e.join(", ")}, resulting in $${p.costSaving}K annual cost savings`,`\u2022 Collaborated with stakeholders to deliver high-impact ${t||"professional"} projects ${p.timeReduction}% ahead of schedule`,`\u2022 Achieved ${95+Math.floor(5*Math.random())}% satisfaction rating and contributed to ${n||"organizational"} revenue growth of $${p.revenue}K`].join("\n")}},generateProjectDescription:async e=>{const{name:t,role:n,technologies:s,description:r,duration:i,teamSize:a,industry:o}=e,l=Array.isArray(s)?s.join(", "):s,c=_y(n,s||[]),u=(ky(c),Math.floor(75e3*Math.random())),d=["full-stack web application with real-time features","mobile application with cross-platform compatibility","enterprise software solution with microservices architecture","e-commerce platform with payment processing","data analytics dashboard with visualization","automation tool with workflow optimization","cloud-based system with scalable infrastructure"],h=d[u%d.length],m=`${60+Math.floor(40*Math.random())}%`,p=.5+2*Math.random()+"s",f=99.5+.5*Math.random()+"%",g=`${1e3+Math.floor(9e3*Math.random())}+`,v=`${85+Math.floor(15*Math.random())}%`,y=`You are an expert technical resume writer. Create a highly technical, ATS-optimized project description for this SPECIFIC project.\n\nPROJECT ANALYSIS:\n- Project Name: ${t||"Professional Development Project"}\n- Your Role: ${n||"Developer"}\n- Technology Stack: ${l||"Modern development tools"}\n- Project Type: ${h}\n- Project Scope: ${r||"Comprehensive technical solution"}\n- Duration: ${i||"4-6 months"}\n- Team Size: ${a||"4-6"} members\n- Industry: ${c}\n- Seed: ${u}\n\nTECHNOLOGY REQUIREMENTS:\n1. Reference EXACT project name: ${t}\n2. Use ALL technologies: ${l}\n3. Include technology-specific terminology\n4. Mention frameworks and tools from the stack\n5. Include realistic technical metrics:\n   - Performance improvement: ${m}\n   - Load time optimization: ${p}\n   - System uptime: ${f}\n   - User capacity: ${g}\n   - Test coverage: ${v}\n\nSTRICT REQUIREMENTS:\n- EXACTLY 40-45 words total (count carefully)\n- Include project name "${t}" and role "${n}"\n- Mention 3-4 key technologies from: ${l}\n- Include ONE quantifiable achievement\n- Use industry terminology for ${c}\n- Professional, technical language\n- COMPLETE the description - no truncation\n\nCreate ONE paragraph (40-45 words exactly) for ${l} project. Count words to ensure exactly 40-45 words.`;try{let e=(await Cy(y,{temperature:.7,maxOutputTokens:120,topP:.9})).replace(/^(Project:|Description:|Overview:|Summary:)/i,"").trim().replace(/\n+/g," ").replace(/\s+/g," ");const t=e.split(/\s+/).filter(e=>e.length>0);return t.length>45?e=t.slice(0,45).join(" ")+".":t.length<40&&(e=Sy(e,c,"project")),e=Sy(e,c,"project"),e}catch(x){console.error("Error generating project description:",x);const e=l?l.split(",").map(e=>e.trim()).slice(0,4):["modern technologies"],s=`Architected and developed ${t||"comprehensive software solution"} using ${e.join(", ")}, serving as lead ${n||"developer"} in ${a||"5"}-member agile team. Implemented ${h} with ${e[0]} and ${e[1]||"supporting technologies"}, resulting in ${m} performance improvement and ${p} load time optimization. Integrated advanced features including real-time processing and automated testing, achieving ${f} system uptime and supporting ${g} concurrent users. Successfully delivered project 2 weeks ahead of schedule with ${v} test coverage, meeting all technical requirements.`;return Sy(s,c,"project")}},generateContent:Ay,isGeminiConfigured:()=>{try{return Ty(),!0}catch{return!1}}},Py=()=>Ry.isGeminiConfigured()?{service:Ry,provider:"Gemini"}:by.isOpenAIConfigured()?{service:by,provider:"OpenAI"}:null,Dy=async e=>{const t=Py();if(!t)throw new Error("No AI service configured. Please set up one of these API keys in your environment variables:\n\u2022 REACT_APP_GEMINI_API_KEY (primary service)\n\u2022 REACT_APP_OPENAI_API_KEY (fallback)");return console.log(`Using ${t.provider} for AI generation`),await t.service.generateProfessionalSummary(e)},Oy=async e=>{const t=Py();if(!t)throw new Error("No AI service configured. Please set up one of these API keys in your environment variables:\n\u2022 REACT_APP_GEMINI_API_KEY (primary service)\n\u2022 REACT_APP_OPENAI_API_KEY (fallback)");return console.log(`Using ${t.provider} for AI generation`),await t.service.generateExperienceDescription(e)},Ly=async e=>{const t=Py();if(!t)throw new Error("No AI service configured. Please set up one of these API keys in your environment variables:\n\u2022 REACT_APP_GEMINI_API_KEY (primary service)\n\u2022 REACT_APP_OPENAI_API_KEY (fallback)");return console.log(`Using ${t.provider} for AI generation`),await t.service.generateProjectDescription(e)},My=()=>Ry.isGeminiConfigured()||by.isOpenAIConfigured(),Uy=async e=>{try{const t=`\nRewrite the following text so it reads as if crafted by a skilled human resume writer. \nKeep it natural, polished, and engaging while preserving the original meaning. \nAvoid repetitive sentence structures, clich\xe9s, and overly formal AI-like tone. \nEnsure the result is exactly 40\u201345 words in length.  \nEach time you generate, rephrase uniquely so no two outputs are the same. \nVary word choices, sentence flow, and emphasis to keep it fresh. \nMaintain a professional, concise style suitable for a resume.\n\n\nHere's the text to humanize:\n\n\n${e}`;return await Ay(t)}catch(t){throw console.error("Error humanizing content:",t),t}},Fy=()=>{const{summary:e,jobDescription:t,personalInfo:n,experience:s,education:i,skills:a,dispatch:o}=Wv(),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),p=(0,r.useCallback)(e=>{o({type:"UPDATE_SUMMARY",payload:e.target.value})},[o]),f=(0,r.useCallback)(e=>{o({type:"UPDATE_JOB_DESCRIPTION",payload:e.target.value})},[o]),g=(0,r.useCallback)(async()=>{c(!0),m(null);try{if(!My())return void m("AI service not configured. Please set REACT_APP_GEMINI_API_KEY (free) or REACT_APP_OPENAI_API_KEY in your environment variables.");const e={personalInfo:n,experience:s,education:i,skills:a,jobDescription:t},r=await Dy(e);r?o({type:"UPDATE_SUMMARY",payload:r}):m("No summary generated. Please try again.")}catch(e){console.error("AI summary generation error:",e),m(e.message||"AI summary generation failed. Please try again.")}finally{c(!1)}},[o,n,s,i,a,t]),v=(0,r.useCallback)(async()=>{if(e){d(!0),m(null);try{if(!My())return void m("AI service not configured. Please set REACT_APP_GEMINI_API_KEY in your environment variables.");const t=await Uy(e);t?o({type:"UPDATE_SUMMARY",payload:t}):m("No humanized content generated. Please try again.")}catch(t){console.error("Humanize error:",t),m(t.message||"Humanization failed. Please try again.")}finally{d(!1)}}},[o,e]);return(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[(0,bv.jsx)("h3",{style:{margin:0},children:"Professional Summary"}),(0,bv.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,bv.jsxs)(Jv,{type:"button",variant:"secondary",onClick:g,disabled:l||u,style:{height:36},children:[l?(0,bv.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,bv.jsx)("i",{className:"fas fa-magic"})," AI"]}),(0,bv.jsxs)(Jv,{type:"button",variant:"outline",onClick:v,disabled:l||u||!e,style:{height:36},children:[u?(0,bv.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,bv.jsx)("i",{className:"fas fa-user"})," Humanize"]})]})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"jobDescription",children:"Target Job Description (for AI generation only)"}),(0,bv.jsx)("textarea",{id:"jobDescription",value:t||"",onChange:f,placeholder:"Paste the job description you're applying for. This will help AI generate a more targeted summary...",rows:"4",style:{width:"100%"}}),(0,bv.jsxs)("div",{className:"form-hint",children:[(0,bv.jsx)("i",{})," This field is used only for AI generation and will ",(0,bv.jsx)("b",{children:"not"})," appear in your resume."]})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"summary",children:"Summary"}),(0,bv.jsx)("textarea",{id:"summary",value:e||"",onChange:p,placeholder:"Write a brief summary of your professional background and career objectives...",rows:"6",style:{width:"100%"}}),(0,bv.jsxs)("div",{className:"form-hint",children:["Write 2-3 sentences that highlight your key qualifications and career goals. Or use ",(0,bv.jsx)("b",{children:"AI"})," to generate it!"]}),h&&(0,bv.jsx)("div",{style:{color:"red",marginTop:4},children:h})]})]})},Vy=()=>{const{experience:e,dispatch:t}=Wv(),[n,s]=(0,r.useState)({}),[i,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),d=()=>{const e={id:Vv(),company:"",position:"",startDate:"",endDate:"",description:"",jobDescriptionForAI:"",current:!1};t({type:"ADD_EXPERIENCE",payload:e})},h=(n,s,r)=>{const i=e.find(e=>e.id===n);i&&t({type:"UPDATE_EXPERIENCE",payload:{...i,[s]:r}})};return(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsxs)("div",{className:"section-header",children:[(0,bv.jsx)("h3",{children:"Work Experience"}),(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:d,children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Add Experience"]})]}),0===e.length?(0,bv.jsxs)("div",{className:"empty-state",children:[(0,bv.jsx)("i",{className:"fas fa-briefcase"}),(0,bv.jsx)("p",{children:"No work experience added yet"}),(0,bv.jsx)(Jv,{variant:"primary",onClick:d,children:"Add Your First Experience"})]}):(0,bv.jsx)("div",{className:"experience-list",children:e.map((n,s)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"item-header",children:[(0,bv.jsxs)("h4",{children:["Experience ",s+1]}),(0,bv.jsx)(Jv,{variant:"danger",size:"small",onClick:()=>{return e=n.id,void t({type:"DELETE_EXPERIENCE",payload:e});var e},children:(0,bv.jsx)("i",{className:"fas fa-trash"})})]}),(0,bv.jsxs)("div",{className:"form-grid",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Job Title *"}),(0,bv.jsx)("input",{type:"text",value:n.position,onChange:e=>h(n.id,"position",e.target.value),placeholder:"e.g., Software Engineer",required:!0})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Company *"}),(0,bv.jsx)("input",{type:"text",value:n.company,onChange:e=>h(n.id,"company",e.target.value),placeholder:"e.g., Google Inc.",required:!0})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Start Date *"}),(0,bv.jsx)("input",{type:"date",value:Fv(n.startDate),onChange:e=>h(n.id,"startDate",e.target.value),required:!0})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"End Date"}),(0,bv.jsx)("input",{type:"date",value:Fv(n.endDate),onChange:e=>h(n.id,"endDate",e.target.value),disabled:n.current})]}),(0,bv.jsx)("div",{className:"form-group full-width",children:(0,bv.jsxs)("div",{className:"checkbox-group",children:[(0,bv.jsx)("input",{type:"checkbox",id:`current-${n.id}`,checked:n.current,onChange:s=>((n,s)=>{const r=e.find(e=>e.id===n);r&&t({type:"UPDATE_EXPERIENCE",payload:{...r,current:s,endDate:s?"":r.endDate}})})(n.id,s.target.checked)}),(0,bv.jsx)("label",{htmlFor:`current-${n.id}`,children:"I currently work here"})]})}),(0,bv.jsxs)("div",{className:"form-group full-width",children:[(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,bv.jsx)("label",{children:"Job Description"}),(0,bv.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,bv.jsxs)(Jv,{type:"button",variant:"secondary",size:"sm",style:{minWidth:48,height:32},onClick:()=>(async e=>{a(e.id),u(null);try{if(!My())return void u(e.id);const t=await Oy(e);t?h(e.id,"description",t):u(e.id)}catch(t){console.error("AI experience description generation error:",t),u(e.id)}finally{a(null)}})(n),disabled:i===n.id||o===n.id,children:[i===n.id?(0,bv.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,bv.jsx)("i",{className:"fas fa-magic"})," AI"]}),(0,bv.jsxs)(Jv,{type:"button",variant:"outline",size:"sm",style:{minWidth:48,height:32},onClick:()=>(async e=>{if(e.description){l(e.id),u(null);try{if(!My())return void u(e.id);const t=await Uy(e.description);t?h(e.id,"description",t):u(e.id)}catch(t){console.error("Humanize description error:",t),u(e.id)}finally{l(null)}}})(n),disabled:i===n.id||o===n.id||!n.description,children:[o===n.id?(0,bv.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,bv.jsx)("i",{className:"fas fa-user"})," Humanize"]})]})]}),(0,bv.jsx)("textarea",{value:n.description,onChange:e=>h(n.id,"description",e.target.value),placeholder:"Describe your responsibilities and achievements...",rows:"4"}),c===n.id&&(0,bv.jsx)("div",{style:{color:"red",marginTop:4},children:"AI generation failed. Try again."})]})]})]},n.id))})]})},zy=()=>{const{education:e,dispatch:t}=Wv(),n=()=>{const e={id:Vv(),institution:"",degree:"",field:"",startDate:"",endDate:"",gpa:""};t({type:"ADD_EDUCATION",payload:e})},s=(n,s,r)=>{const i=e.find(e=>e.id===n);i&&t({type:"UPDATE_EDUCATION",payload:{...i,[s]:r}})};return(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsxs)("div",{className:"section-header",children:[(0,bv.jsx)("h3",{children:"Education"}),(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:n,children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Add Education"]})]}),0===e.length?(0,bv.jsxs)("div",{className:"empty-state",children:[(0,bv.jsx)("i",{className:"fas fa-graduation-cap"}),(0,bv.jsx)("p",{children:"No education added yet"}),(0,bv.jsx)(Jv,{variant:"primary",onClick:n,children:"Add Your Education"})]}):(0,bv.jsx)("div",{className:"education-list",children:e.map((e,n)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsxs)("div",{className:"item-header",children:[(0,bv.jsxs)("h4",{children:["Education ",n+1]}),(0,bv.jsx)(Jv,{variant:"danger",size:"small",onClick:()=>{return n=e.id,void t({type:"DELETE_EDUCATION",payload:n});var n},children:(0,bv.jsx)("i",{className:"fas fa-trash"})})]}),(0,bv.jsxs)("div",{className:"form-grid",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Institution *"}),(0,bv.jsx)("input",{type:"text",value:e.institution,onChange:t=>s(e.id,"institution",t.target.value),placeholder:"e.g., Harvard University",required:!0})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Degree *"}),(0,bv.jsx)("input",{type:"text",value:e.degree,onChange:t=>s(e.id,"degree",t.target.value),placeholder:"e.g., Bachelor of Science",required:!0})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Field of Study"}),(0,bv.jsx)("input",{type:"text",value:e.field,onChange:t=>s(e.id,"field",t.target.value),placeholder:"e.g., Computer Science"})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"GPA"}),(0,bv.jsx)("input",{type:"text",value:e.gpa,onChange:t=>s(e.id,"gpa",t.target.value),placeholder:"e.g., 3.8/4.0"})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Start Date"}),(0,bv.jsx)("input",{type:"date",value:Fv(e.startDate),onChange:t=>s(e.id,"startDate",t.target.value)})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"End Date"}),(0,bv.jsx)("input",{type:"date",value:Fv(e.endDate),onChange:t=>s(e.id,"endDate",t.target.value)})]})]})]},e.id))})]})},$y="modern",By="classic",Hy="creative",qy="professional",Wy="executive",Ky="corporate",Gy="minimal",Yy="elegant",Qy="daniel",Xy="howard",Jy="overleaf",Zy="latex",ex="professional2",tx="template1",nx="template11",sx="template12",rx="template31",ix="modern21",ax="modern69",ox={BEGINNER:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced",EXPERT:"Expert"},lx={TECHNICAL:"Technical",SOFT_SKILLS:"Soft Skills",LANGUAGES:"Languages",TOOLS:"Tools",FRAMEWORKS:"Frameworks"},cx=()=>{const{skills:e,dispatch:t}=Wv(),n=()=>{const e={id:Vv(),name:"",level:"Beginner",category:"Technical"};t({type:"ADD_SKILL",payload:e})},s=(n,s,r)=>{const i=e.find(e=>e.id===n);i&&t({type:"UPDATE_SKILL",payload:{...i,[s]:r}})};return(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsxs)("div",{className:"section-header",children:[(0,bv.jsx)("h3",{children:"Skills"}),(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:n,children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Add Skill"]})]}),0===e.length?(0,bv.jsxs)("div",{className:"empty-state",children:[(0,bv.jsx)("i",{className:"fas fa-cogs"}),(0,bv.jsx)("p",{children:"No skills added yet"}),(0,bv.jsx)(Jv,{variant:"primary",onClick:n,children:"Add Your Skills"})]}):(0,bv.jsx)("div",{className:"skills-list",children:e.map((e,n)=>(0,bv.jsxs)("div",{className:"skill-item",children:[(0,bv.jsxs)("div",{className:"item-header",children:[(0,bv.jsxs)("h4",{children:["Skill ",n+1]}),(0,bv.jsx)(Jv,{variant:"danger",size:"small",onClick:()=>{return n=e.id,void t({type:"DELETE_SKILL",payload:n});var n},children:(0,bv.jsx)("i",{className:"fas fa-trash"})})]}),(0,bv.jsxs)("div",{className:"form-grid",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Skill Name *"}),(0,bv.jsx)("input",{type:"text",value:e.name,onChange:t=>s(e.id,"name",t.target.value),placeholder:"e.g., JavaScript, Leadership, Spanish",required:!0})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Proficiency Level"}),(0,bv.jsx)("select",{value:e.level,onChange:t=>s(e.id,"level",t.target.value),children:Object.values(ox).map(e=>(0,bv.jsx)("option",{value:e,children:e},e))})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Category"}),(0,bv.jsx)("select",{value:e.category,onChange:t=>s(e.id,"category",t.target.value),children:Object.values(lx).map(e=>(0,bv.jsx)("option",{value:e,children:e},e))})]})]})]},e.id))})]})},ux=()=>{const{projects:e,dispatch:t}=Wv(),[n,s]=(0,r.useState)(null),[i,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),c=(0,r.useRef)({}),u=()=>{const e={id:Vv(),name:"",description:"",technologies:[],technologiesInput:"",url:""};t({type:"ADD_PROJECT",payload:e})},d=(n,s,r)=>{const i=e.find(e=>e.id===n);i&&t({type:"UPDATE_PROJECT",payload:{...i,[s]:r}})},h=(0,r.useRef)({});return(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsxs)("div",{className:"section-header",children:[(0,bv.jsx)("h3",{children:"Projects"}),(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:u,children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Add Project"]})]}),0===e.length?(0,bv.jsxs)("div",{className:"empty-state",children:[(0,bv.jsx)("i",{className:"fas fa-project-diagram"}),(0,bv.jsx)("p",{children:"No projects added yet"}),(0,bv.jsx)(Jv,{variant:"primary",onClick:u,children:"Add Your Projects"})]}):(0,bv.jsx)("div",{className:"projects-list",children:e.map((e,r)=>(0,bv.jsxs)("div",{className:"project-item",children:[(0,bv.jsxs)("div",{className:"item-header",children:[(0,bv.jsxs)("h4",{children:["Project ",r+1]}),(0,bv.jsx)(Jv,{variant:"danger",size:"small",onClick:()=>{return n=e.id,void t({type:"DELETE_PROJECT",payload:n});var n},children:(0,bv.jsx)("i",{className:"fas fa-trash"})})]}),(0,bv.jsxs)("div",{className:"form-grid",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Project Name *"}),(0,bv.jsx)("input",{type:"text",value:e.name,onChange:t=>d(e.id,"name",t.target.value),placeholder:"e.g., E-commerce Website",required:!0})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Project URL"}),(0,bv.jsx)("input",{type:"url",value:e.url,onChange:t=>d(e.id,"url",t.target.value),placeholder:"https://github.com/username/project"})]}),(0,bv.jsxs)("div",{className:"form-group full-width",children:[(0,bv.jsx)("label",{children:"Technologies Used"}),(0,bv.jsx)("textarea",{rows:"1",style:{resize:"none",overflow:"hidden",minHeight:"40px"},ref:t=>{t&&(c.current[e.id]=t)},defaultValue:e.technologiesInput||e.technologies.join(", "),onInput:()=>(e=>{const t=c.current[e];if(!t)return;const n=t.value;h.current[e]&&clearTimeout(h.current[e]),h.current[e]=setTimeout(()=>{if(d(e,"technologiesInput",n),n.trim()){let t=[];t=n.includes(",")?n.split(",").map(e=>e.trim()).filter(e=>e):n.split(/\s+/).map(e=>e.trim()).filter(e=>e),d(e,"technologies",t)}else d(e,"technologies",[])},300)})(e.id),placeholder:"React Node.js MongoDB (separate with spaces or commas)"})]}),(0,bv.jsxs)("div",{className:"form-group full-width",children:[(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,bv.jsx)("label",{children:"Project Description"}),(0,bv.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,bv.jsxs)(Jv,{type:"button",variant:"secondary",size:"sm",style:{minWidth:48,height:32},onClick:()=>(async e=>{s(e.id),l(null);try{if(!My())return void l(e.id);const t=await Ly(e);t?d(e.id,"description",t):l(e.id)}catch(t){console.error("AI project description generation error:",t),l(e.id)}finally{s(null)}})(e),disabled:n===e.id||i===e.id,children:[n===e.id?(0,bv.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,bv.jsx)("i",{className:"fas fa-magic"})," AI"]}),(0,bv.jsxs)(Jv,{type:"button",variant:"outline",size:"sm",style:{minWidth:48,height:32},onClick:()=>(async e=>{if(e.description){a(e.id),l(null);try{if(!My())return void l(e.id);const t=await Uy(e.description);t?d(e.id,"description",t):l(e.id)}catch(t){console.error("Humanize description error:",t),l(e.id)}finally{a(null)}}})(e),disabled:n===e.id||i===e.id||!e.description,children:[i===e.id?(0,bv.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,bv.jsx)("i",{className:"fas fa-user"})," Humanize"]})]})]}),(0,bv.jsx)("textarea",{value:e.description,onChange:t=>d(e.id,"description",t.target.value),placeholder:"Describe your project, your role, and key achievements...",rows:"4"}),o===e.id&&(0,bv.jsx)("div",{style:{color:"red",marginTop:4},children:"AI generation failed. Try again."})]})]})]},e.id))})]})},dx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;return(0,bv.jsxs)("div",{className:"resume-template modern-template",children:[(0,bv.jsx)("div",{className:"resume-header",children:(0,bv.jsxs)("div",{className:"header-content",children:[(0,bv.jsxs)("div",{className:"personal-info",children:[(0,bv.jsx)("h1",{className:"name",children:t.fullName}),t.jobRole&&(0,bv.jsx)("h2",{className:"job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{className:"contact-label",children:"Email:"}),(0,bv.jsx)("span",{children:t.email})]}),t.phone&&(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{className:"contact-label",children:"Phone:"}),(0,bv.jsx)("span",{children:t.phone})]}),t.address&&(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{className:"contact-label",children:"Address:"}),(0,bv.jsx)("span",{children:t.address})]}),t.portfolio&&(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{className:"contact-label",children:"Website:"}),(0,bv.jsx)("span",{children:t.portfolio})]})]})]}),t.photoURL&&(0,bv.jsx)("div",{className:"photo-section",children:(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"profile-photo"})})]})}),n&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"SUMMARY"}),(0,bv.jsx)("p",{className:"summary-text",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"WORK EXPERIENCE"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsxs)("h3",{className:"job-title",children:[e.jobTitle,", ",e.company]}),(0,bv.jsxs)("span",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("ul",{className:"job-description",children:e.description.split("\n").map((e,t)=>e.trim()&&(0,bv.jsx)("li",{children:e.trim()},t))})]},t))]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"EDUCATION"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsx)("h3",{className:"degree",children:e.degree}),(0,bv.jsxs)("span",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),(0,bv.jsxs)("div",{className:"school-info",children:[(0,bv.jsx)("span",{className:"school",children:e.school}),e.gpa&&(0,bv.jsxs)("span",{className:"gpa",children:[" \u2022 GPA: ",e.gpa]})]})]},t))]}),(0,bv.jsxs)("div",{className:"resume-section additional-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),i&&i.length>0&&(0,bv.jsx)("div",{className:"skills-categories",children:Object.entries(zv(i)).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsxs)("h4",{className:"subsection-title",children:[Bv(t),":"]}),(0,bv.jsx)("p",{className:"skills-text",children:$v(n)})]},t)})}),(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Languages:"}),(0,bv.jsx)("p",{children:"English, Hindi"})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Certifications:"}),(0,bv.jsx)("p",{children:o.map(e=>`${e.name} (${e.issuer})`).join(", ")})]})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"resume-section additional-info-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),(0,bv.jsx)("div",{className:"section-content",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"additional-info-item",children:[(0,bv.jsxs)("h4",{className:"info-type",children:[e.type,":"]}),(0,bv.jsx)("p",{className:"info-description",children:e.description})]},t))})]})]})},hx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;return(0,bv.jsxs)("div",{className:"resume-template classic-template",children:[(0,bv.jsx)("div",{className:"resume-header",children:(0,bv.jsxs)("div",{className:"header-content",children:[(0,bv.jsx)("h1",{className:"name",children:t.fullName}),t.jobRole&&(0,bv.jsx)("h2",{className:"job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[(0,bv.jsxs)("div",{className:"contact-line",children:[t.address&&(0,bv.jsx)("span",{children:t.address}),t.phone&&(0,bv.jsxs)("span",{children:[" \u2022 ",t.phone]}),(0,bv.jsxs)("span",{children:[" \u2022 ",t.email]})]}),t.portfolio&&(0,bv.jsx)("div",{className:"contact-line",children:(0,bv.jsx)("span",{children:t.portfolio})})]})]})}),n&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"SUMMARY"}),(0,bv.jsx)("p",{className:"summary-text",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"WORK EXPERIENCE"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsx)("h3",{className:"job-title",children:e.jobTitle}),(0,bv.jsxs)("span",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),(0,bv.jsx)("h4",{className:"company",children:e.company}),e.description&&(0,bv.jsx)("ul",{className:"job-description",children:e.description.split("\n").map((e,t)=>e.trim()&&(0,bv.jsx)("li",{children:e.trim()},t))})]},t))]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"EDUCATION"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsx)("h3",{className:"degree",children:e.degree}),(0,bv.jsxs)("span",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),(0,bv.jsx)("h4",{className:"institution",children:e.school}),e.gpa&&(0,bv.jsxs)("p",{className:"gpa",children:["GPA: ",e.gpa]})]},t))]}),(0,bv.jsxs)("div",{className:"resume-section additional-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),i&&i.length>0&&(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Technical Skills:"}),(0,bv.jsx)("p",{className:"skills-text",children:i.map(e=>e.name).join(", ")})]}),(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Languages:"}),(0,bv.jsx)("p",{children:"English, Hindi, Japanese"})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Certifications:"}),(0,bv.jsx)("p",{children:o.map(e=>`${e.name} (${e.issuer})`).join(", ")})]})]}),i&&i.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"SKILLS"}),(0,bv.jsx)("div",{className:"section-content",children:Object.entries(i.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{})).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"skill-category",children:[(0,bv.jsxs)("strong",{children:[t,":"]})," ",n.map((e,t)=>(0,bv.jsxs)("span",{children:[e.name,t<n.length-1?", ":""]},e.id))]},t)})})]}),a&&a.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"PROJECTS"}),(0,bv.jsx)("div",{className:"section-content",children:a.map(e=>(0,bv.jsxs)("div",{className:"project-item",children:[(0,bv.jsxs)("div",{className:"project-header",children:[(0,bv.jsx)("h3",{className:"project-name",children:e.name}),e.url&&(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"View Project"})]}),e.description&&(0,bv.jsx)("p",{className:"project-description",children:e.description}),e.technologies&&e.technologies.length>0&&(0,bv.jsxs)("p",{className:"project-technologies",children:[(0,bv.jsx)("strong",{children:"Technologies:"})," ",e.technologies.join(", ")]})]},e.id))})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"CERTIFICATIONS"}),(0,bv.jsx)("div",{className:"section-content",children:o.map(e=>(0,bv.jsxs)("div",{className:"certification-item",children:[(0,bv.jsxs)("div",{className:"certification-header",children:[(0,bv.jsx)("h3",{className:"certification-name",children:e.name}),(0,bv.jsx)("div",{className:"certification-date",children:Uv(e.date)})]}),(0,bv.jsx)("p",{className:"certification-issuer",children:e.issuer}),e.credentialId&&(0,bv.jsxs)("p",{className:"credential-id",children:["Credential ID: ",e.credentialId]})]},e.id))})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),(0,bv.jsx)("div",{className:"section-content",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"additional-info-item",children:[(0,bv.jsxs)("h4",{className:"subsection-title",children:[e.type,":"]}),(0,bv.jsx)("p",{children:e.description})]},t))})]})]})},mx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;return(0,bv.jsxs)("div",{className:"resume-template creative-template",children:[(0,bv.jsx)("div",{className:"resume-header",children:(0,bv.jsxs)("div",{className:"header-content",children:[(0,bv.jsxs)("div",{className:"personal-info",children:[(0,bv.jsx)("h1",{className:"name",children:t.fullName}),t.jobRole&&(0,bv.jsx)("h2",{className:"job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{className:"contact-label",children:"Email:"}),(0,bv.jsx)("span",{children:t.email})]}),t.phone&&(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{className:"contact-label",children:"Phone:"}),(0,bv.jsx)("span",{children:t.phone})]}),t.address&&(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{className:"contact-label",children:"Address:"}),(0,bv.jsx)("span",{children:t.address})]}),t.portfolio&&(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{className:"contact-label",children:"Website:"}),(0,bv.jsx)("span",{children:t.portfolio})]})]})]}),t.photoURL&&(0,bv.jsx)("div",{className:"photo-section",children:(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"profile-photo"})})]})}),n&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"SUMMARY"}),(0,bv.jsx)("p",{className:"summary-text",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"WORK EXPERIENCE"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsxs)("h3",{className:"job-title",children:[e.jobTitle,", ",e.company]}),(0,bv.jsxs)("span",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("ul",{className:"job-description",children:e.description.split("\n").map((e,t)=>e.trim()&&(0,bv.jsx)("li",{children:e.trim()},t))})]},t))]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"EDUCATION"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsx)("h3",{className:"degree",children:e.degree}),(0,bv.jsxs)("span",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),(0,bv.jsxs)("div",{className:"school-info",children:[(0,bv.jsx)("span",{className:"school",children:e.school}),e.gpa&&(0,bv.jsxs)("span",{className:"gpa",children:[" \u2022 GPA: ",e.gpa]})]})]},t))]}),(0,bv.jsxs)("div",{className:"resume-section additional-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),i&&i.length>0&&(0,bv.jsx)("div",{className:"skills-categories",children:Object.entries(zv(i)).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsxs)("h4",{className:"subsection-title",children:[Bv(t),":"]}),(0,bv.jsx)("p",{className:"skills-text",children:$v(n)})]},t)})}),(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Languages:"}),(0,bv.jsx)("p",{children:"English, Hindi, Japanese"})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Certifications:"}),(0,bv.jsx)("p",{children:o.map(e=>`${e.name} (${e.issuer})`).join(", ")})]})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"resume-section additional-info-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),(0,bv.jsx)("div",{className:"section-content",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"additional-info-item",children:[(0,bv.jsxs)("h4",{className:"info-type",children:[e.type,":"]}),(0,bv.jsx)("p",{className:"info-description",children:e.description})]},t))})]})]})},px=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;return(0,bv.jsxs)("div",{className:"resume-template clean-minimal-template",children:[(0,bv.jsx)("style",{children:"\n          .resume-template.clean-minimal-template {\n            font-family: 'Segoe UI', Tahoma, sans-serif;\n            font-size: 10pt;\n            line-height: 1.3;\n            color: #111;\n            max-width: 800px;\n            margin: auto;\n            padding: 20px;\n          }\n\n          .header {\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            border-bottom: 1px solid #aaa;\n            margin-bottom: 10px;\n            padding-bottom: 5px;\n          }\n\n          .header .name {\n            font-size: 18pt;\n            margin: 0;\n          }\n\n          .header .subtitle {\n            font-size: 10pt;\n            margin-top: 2px;\n            color: #555;\n          }\n\n          .header .right p {\n            margin: 2px 0;\n            font-size: 9.5pt;\n          }\n\n          .section-title {\n            font-size: 10.5pt;\n            font-weight: bold;\n            margin: 12px 0 4px;\n            border-bottom: 1px solid #ccc;\n            padding-bottom: 2px;\n          }\n\n          .item {\n            margin-bottom: 6px;\n          }\n\n          .item p {\n            margin: 2px 0;\n          }\n\n          .date {\n            font-size: 9pt;\n            color: #555;\n          }\n\n          ul {\n            padding-left: 18px;\n            margin: 4px 0;\n          }\n\n          ul li {\n            margin-bottom: 2px;\n            font-size: 9.5pt;\n          }\n\n          .skills .skill-category {\n            margin: 4px 0;\n          }\n\n          .skills em {\n            font-style: italic;\n            color: #333;\n          }\n\n          @media print {\n            body {\n              margin: 0;\n            }\n            .resume-template {\n              page-break-inside: avoid;\n            }\n          }\n        "}),(0,bv.jsxs)("div",{className:"header",children:[(0,bv.jsxs)("div",{className:"left",children:[(0,bv.jsx)("h1",{className:"name",children:t.fullName||"Your Name"}),(0,bv.jsx)("p",{className:"subtitle",children:t.jobRole||"Anti Curriculum Vitae"})]}),(0,bv.jsxs)("div",{className:"right",children:[(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Phone:"})," ",t.phone]}),(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Email:"})," ",t.email]}),t.portfolio&&(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Website:"})," ",t.portfolio]}),t.github&&(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"GitHub:"})," ",t.github]})]})]}),n&&(0,bv.jsxs)("section",{children:[(0,bv.jsx)("h2",{className:"section-title",children:"Professional Summary"}),(0,bv.jsx)("p",{className:"summary",children:n})]}),r&&r.length>0&&(0,bv.jsxs)("section",{children:[(0,bv.jsx)("h2",{className:"section-title",children:"EDUCATION"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"item",children:[(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:e.school}),e.institution," - ",e.degree,"  "]}),e.gpa&&(0,bv.jsxs)("p",{children:["GPA: ",e.gpa]})]},t))]}),s&&s.length>0&&(0,bv.jsxs)("section",{children:[(0,bv.jsx)("h2",{className:"section-title",children:"WORK EXPERIENCE"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"item",children:[(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:e.jobTitle})," \u2014 ",e.company]}),(0,bv.jsxs)("p",{className:"date",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]}),e.description&&(0,bv.jsx)("ul",{children:e.description.split("\n").map((e,t)=>(0,bv.jsx)("li",{children:e},t))})]},t))]}),i&&i.length>0&&(0,bv.jsxs)("section",{children:[(0,bv.jsx)("h2",{className:"section-title",children:"SKILLS"}),(0,bv.jsx)("div",{className:"skills",children:Object.entries(zv(i)).map(e=>{let[t,n]=e;return(0,bv.jsx)("div",{className:"skill-category",children:(0,bv.jsxs)("p",{children:[(0,bv.jsx)("em",{children:Bv(t)})," \u2014 ",$v(n)]})},t)})})]}),(a.length>0||o.length>0)&&(0,bv.jsxs)("section",{children:[(0,bv.jsx)("h2",{className:"section-title",children:"ACHIEVEMENTS AND INTERESTS"}),a.map((e,t)=>(0,bv.jsx)("div",{className:"item",children:(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:e.title})," \u2014 ",e.description]})},t)),o.length>0&&(0,bv.jsx)("div",{className:"item",children:(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Certifications:"})," ",o.map(e=>`${e.name} (${e.issuer})`).join(", ")]})})]}),l&&l.length>0&&(0,bv.jsxs)("section",{children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),l.map((e,t)=>(0,bv.jsx)("div",{className:"item",children:(0,bv.jsxs)("p",{children:[(0,bv.jsxs)("strong",{children:[e.type,":"]})," ",e.description]})},t))]})]})},fx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;return(0,bv.jsxs)("div",{className:"resume-template executive-template",children:[(0,bv.jsx)("div",{className:"resume-header",children:(0,bv.jsxs)("div",{className:"header-content",children:[(0,bv.jsx)("h1",{className:"name",children:t.fullName}),t.jobRole&&(0,bv.jsx)("h2",{className:"job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[(0,bv.jsxs)("div",{className:"contact-line",children:[t.address&&(0,bv.jsx)("span",{children:t.address}),t.phone&&(0,bv.jsxs)("span",{children:[" \u2022 ",t.phone]}),(0,bv.jsxs)("span",{children:[" \u2022 ",t.email]})]}),t.portfolio&&(0,bv.jsx)("div",{className:"contact-line",children:(0,bv.jsx)("span",{children:t.portfolio})})]})]})}),n&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"SUMMARY"}),(0,bv.jsx)("p",{className:"summary-text",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"WORK EXPERIENCE"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsxs)("h3",{className:"job-title",children:[e.jobTitle,", ",e.company]}),(0,bv.jsxs)("span",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("ul",{className:"experience-description",children:e.description.split("\n").map((e,t)=>e.trim()&&(0,bv.jsx)("li",{children:e.trim()},t))})]},t))]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"EDUCATION"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsx)("h3",{className:"degree",children:e.degree}),(0,bv.jsxs)("span",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),(0,bv.jsxs)("div",{className:"school-info",children:[(0,bv.jsx)("span",{className:"school",children:e.school}),e.gpa&&(0,bv.jsxs)("span",{className:"gpa",children:[" \u2022 GPA: ",e.gpa]})]})]},t))]}),(0,bv.jsxs)("div",{className:"resume-section additional-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),i&&i.length>0&&(0,bv.jsx)("div",{className:"skills-categories",children:Object.entries(zv(i)).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsxs)("h4",{className:"subsection-title",children:[Bv(t),":"]}),(0,bv.jsx)("p",{className:"skills-text",children:$v(n)})]},t)})}),(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Languages:"}),(0,bv.jsx)("p",{children:"English, Hindi, Japanese"})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"info-subsection",children:[(0,bv.jsx)("h4",{className:"subsection-title",children:"Certifications:"}),(0,bv.jsx)("p",{children:o.map(e=>`${e.name} (${e.issuer})`).join(", ")})]})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"resume-section certifications-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Professional Certifications"}),(0,bv.jsx)("div",{className:"section-content",children:(0,bv.jsx)("div",{className:"certifications-grid",children:o.map((e,t)=>(0,bv.jsxs)("div",{className:"certification-item",children:[(0,bv.jsx)("h3",{className:"certification-name",children:e.name}),(0,bv.jsxs)("div",{className:"certification-details",children:[(0,bv.jsx)("span",{className:"certification-issuer",children:e.issuer}),(0,bv.jsx)("span",{className:"certification-date",children:Uv(e.date)})]})]},t))})})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"resume-section additional-info-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Additional Information"}),(0,bv.jsx)("div",{className:"section-content",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"additional-info-item",children:[(0,bv.jsxs)("h4",{className:"info-type",children:[e.type,":"]}),(0,bv.jsx)("p",{className:"info-description",children:e.description})]},t))})]})]})},gx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;return(0,bv.jsxs)("div",{className:"resume-template corporate-template",children:[(0,bv.jsx)("div",{className:"resume-header",children:(0,bv.jsxs)("div",{className:"header-content",children:[(0,bv.jsxs)("div",{className:"personal-info",children:[(0,bv.jsx)("h1",{className:"name",children:t.fullName}),t.jobRole&&(0,bv.jsx)("h2",{className:"job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[(0,bv.jsxs)("div",{className:"contact-row",children:[(0,bv.jsx)("span",{children:t.email}),t.phone&&(0,bv.jsxs)("span",{children:[" \u2022 ",t.phone]}),t.address&&(0,bv.jsxs)("span",{children:[" \u2022 ",t.address]})]}),(t.linkedin||t.portfolio)&&(0,bv.jsxs)("div",{className:"contact-row",children:[t.linkedin&&(0,bv.jsx)("span",{children:t.linkedin}),t.portfolio&&t.linkedin&&(0,bv.jsx)("span",{children:" \u2022 "}),t.portfolio&&(0,bv.jsx)("span",{children:t.portfolio})]})]})]}),t.photoURL&&(0,bv.jsx)("div",{className:"photo-container",children:(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"profile-photo"})})]})}),n&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"PROFESSIONAL SUMMARY"}),(0,bv.jsx)("p",{className:"summary-text",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"PROFESSIONAL EXPERIENCE"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"corp-experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsxs)("div",{className:"position-company",children:[(0,bv.jsx)("span",{className:"position",children:e.position}),(0,bv.jsxs)("span",{className:"company",children:[" | ",e.company]})]}),(0,bv.jsxs)("div",{className:"dates",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("div",{className:"experience-description",children:e.description.split("\n").map((e,t)=>(0,bv.jsxs)("div",{className:"summary-text",children:["\u2022 ",e]},t))})]},t))]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"EDUCATION"}),r.map((e,t)=>(0,bv.jsx)("div",{className:"corp-education-item",children:(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsxs)("div",{className:"degree-institution",children:[(0,bv.jsx)("span",{className:"degree",children:e.degree}),e.field&&(0,bv.jsxs)("span",{className:"field",children:[" in ",e.field]}),(0,bv.jsxs)("span",{className:"institution",children:[" | ",e.institution]})]}),(0,bv.jsxs)("div",{className:"dates",children:["GPA: ",e.gpa," \xa0\xa0 ",Uv(e.startDate)," - ",Uv(e.endDate)]})]})},t))]}),i&&i.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"CORE COMPETENCIES"}),Object.entries(zv(i)).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"corp-skill-category",children:[(0,bv.jsxs)("h4",{className:"category-title",children:[Bv(t)," :"]}),(0,bv.jsx)("div",{className:"skills-grid",children:n.map(e=>(0,bv.jsx)("div",{className:"corp-skill-item",children:(0,bv.jsx)("span",{className:"skill-name",children:e.name})},e.id))})]},t)})]}),a&&a.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"KEY PROJECTS"}),a.map((e,t)=>(0,bv.jsxs)("div",{className:"corp-project-item",children:[(0,bv.jsxs)("div",{className:"project-header",children:[(0,bv.jsx)("span",{className:"project-name",children:e.name}),e.url&&(0,bv.jsxs)("span",{className:"project-url",children:[" | ",e.url]})]}),e.description&&(0,bv.jsx)("div",{className:"project-description",children:e.description}),e.technologies&&e.technologies.length>0&&(0,bv.jsxs)("div",{className:"project-technologies",children:[(0,bv.jsx)("strong",{children:"Technologies:"})," ",e.technologies.join(", ")]})]},t))]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"CERTIFICATIONS"}),o.map((e,t)=>(0,bv.jsxs)("div",{className:"corp-certification-item",children:[(0,bv.jsx)("span",{className:"cert-name",children:e.name}),e.issuer&&(0,bv.jsxs)("span",{className:"cert-issuer",children:[" | ",e.issuer]}),e.date&&(0,bv.jsxs)("span",{className:"cert-date",children:[" | ",Uv(e.date)]})]},t))]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"ADDITIONAL INFORMATION"}),l.map((e,t)=>(0,bv.jsxs)("div",{className:"corp-additional-info-item",children:[(0,bv.jsx)("span",{className:"info-type",children:e.type}),(0,bv.jsxs)("span",{className:"info-description",children:[" | ",e.description]})]},t))]})]})},vx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;return(0,bv.jsxs)("div",{className:"resume-template minimal-template",children:[(0,bv.jsxs)("div",{className:"resume-header",children:[(0,bv.jsx)("h1",{className:"name",children:t.fullName}),t.jobRole&&(0,bv.jsx)("h2",{className:"job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[(0,bv.jsx)("span",{children:t.email}),t.phone&&(0,bv.jsxs)("span",{children:[" \u2022 ",t.phone]}),t.address&&(0,bv.jsxs)("span",{children:[" \u2022 ",t.address]}),t.linkedin&&(0,bv.jsxs)("span",{children:[" \u2022 ",t.linkedin]}),t.portfolio&&(0,bv.jsxs)("span",{children:[" \u2022 ",t.portfolio]})]})]}),n&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"SUMMARY"}),(0,bv.jsx)("p",{className:"summary-text",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"EXPERIENCE"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsxs)("span",{className:"position-company",children:[e.position," | ",e.company]}),(0,bv.jsxs)("span",{className:"dates",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("div",{className:"experience-description",children:e.description.split("\n").map((e,t)=>(0,bv.jsxs)("div",{className:"description-line",children:["\u2022 ",e]},t))})]},t))]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"EDUCATION"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsxs)("span",{className:"degree-institution",children:[e.degree,e.field&&` in ${e.field}`," | ",e.institution]}),(0,bv.jsxs)("span",{className:"dates",children:[Uv(e.startDate)," - ",Uv(e.endDate)]})]}),e.gpa&&(0,bv.jsxs)("div",{className:"gpa",children:["GPA: ",e.gpa]})]},t))]}),i&&i.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"SKILLS"}),(0,bv.jsx)("div",{className:"skills-categories",children:Object.entries(zv(i)).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"skill-category",children:[(0,bv.jsxs)("h4",{className:"category-title",children:[Bv(t),":"]}),(0,bv.jsx)("div",{className:"skills-list",children:n.map((e,t)=>(0,bv.jsxs)("span",{className:"skill-item",children:[e.name,t<n.length-1?" \u2022 ":""]},e.id))})]},t)})})]}),a&&a.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"PROJECTS"}),a.map((e,t)=>(0,bv.jsxs)("div",{className:"project-item",children:[(0,bv.jsxs)("div",{className:"project-header",children:[(0,bv.jsx)("span",{className:"project-name",children:e.name}),e.url&&(0,bv.jsxs)("span",{className:"project-url",children:[" | ",e.url]})]}),e.description&&(0,bv.jsx)("div",{className:"project-description",children:e.description}),e.technologies&&e.technologies.length>0&&(0,bv.jsxs)("div",{className:"project-technologies",children:["Technologies: ",e.technologies.join(", ")]})]},t))]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"CERTIFICATIONS"}),o.map((e,t)=>(0,bv.jsxs)("div",{className:"certification-item",children:[e.name,e.issuer&&` | ${e.issuer}`,e.date&&` | ${Uv(e.date)}`]},t))]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Additional Information"}),(0,bv.jsx)("div",{className:"additional-info-list",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"additional-info-item",children:[(0,bv.jsxs)("strong",{children:[e.type,":"]})," ",e.description]},t))})]})]})},yx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;return(0,bv.jsxs)("div",{className:"resume-template elegant-template",children:[(0,bv.jsx)("div",{className:"resume-header",children:(0,bv.jsxs)("div",{className:"header-content",children:[(0,bv.jsxs)("div",{className:"personal-info",children:[(0,bv.jsx)("h1",{className:"name",children:t.fullName}),t.jobRole&&(0,bv.jsx)("h2",{className:"job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[(0,bv.jsxs)("div",{className:"contact-line",children:[t.email,t.phone&&` \u2022 ${t.phone}`]}),(0,bv.jsx)("div",{className:"contact-line",children:t.address&&t.address}),(0,bv.jsxs)("div",{className:"contact-line",children:[t.linkedin&&t.linkedin,t.portfolio&&t.linkedin&&" \u2022 ",t.portfolio&&t.portfolio]})]})]}),t.photoURL&&(0,bv.jsx)("div",{className:"photo-container",children:(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"profile-photo"})})]})}),n&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Professional Summary"}),(0,bv.jsx)("div",{className:"section-content",children:(0,bv.jsx)("p",{className:"summary-text",children:n})})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Professional Experience"}),(0,bv.jsx)("div",{className:"section-content",children:s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsxs)("div",{className:"position-company",children:[(0,bv.jsx)("h3",{className:"position",children:e.position}),(0,bv.jsx)("span",{className:"company",children:e.company})]}),(0,bv.jsxs)("div",{className:"dates",children:[Uv(e.startDate)," \u2013 ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("div",{className:"experience-description",children:e.description.split("\n").map((e,t)=>(0,bv.jsxs)("div",{className:"description-line",children:["\u2022 ",e]},t))})]},t))})]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Education"}),(0,bv.jsx)("div",{className:"section-content",children:r.map((e,t)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsxs)("div",{className:"degree-institution",children:[(0,bv.jsx)("h3",{className:"degree",children:e.degree}),e.field&&(0,bv.jsxs)("span",{className:"field",children:["in ",e.field]}),(0,bv.jsx)("span",{className:"institution",children:e.institution})]}),(0,bv.jsxs)("div",{className:"dates",children:[Uv(e.startDate)," \u2013 ",Uv(e.endDate)]})]}),e.gpa&&(0,bv.jsxs)("div",{className:"gpa",children:["GPA: ",e.gpa]})]},t))})]}),i&&i.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Core Competencies"}),(0,bv.jsx)("div",{className:"section-content",children:(0,bv.jsx)("div",{className:"skills-categories",children:Object.entries(zv(i)).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"skill-category",children:[(0,bv.jsx)("h4",{className:"category-title",children:Bv(t)}),(0,bv.jsx)("div",{className:"skills-grid",children:n.map((e,t)=>(0,bv.jsxs)("div",{className:"skill-item",children:[(0,bv.jsx)("span",{className:"skill-name",children:e.name}),(0,bv.jsxs)("span",{className:"skill-level",children:["(",e.level,")"]})]},e.id))})]},t)})})})]}),a&&a.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Notable Projects"}),(0,bv.jsx)("div",{className:"section-content",children:a.map((e,t)=>(0,bv.jsxs)("div",{className:"project-item",children:[(0,bv.jsxs)("div",{className:"project-header",children:[(0,bv.jsx)("h3",{className:"project-name",children:e.name}),e.url&&(0,bv.jsx)("span",{className:"project-url",children:e.url})]}),e.description&&(0,bv.jsx)("div",{className:"project-description",children:e.description}),e.technologies&&e.technologies.length>0&&(0,bv.jsxs)("div",{className:"project-technologies",children:[(0,bv.jsx)("em",{children:"Technologies:"})," ",e.technologies.join(", ")]})]},t))})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Certifications"}),(0,bv.jsx)("div",{className:"section-content",children:o.map((e,t)=>(0,bv.jsxs)("div",{className:"certification-item",children:[(0,bv.jsx)("span",{className:"cert-name",children:e.name}),e.issuer&&(0,bv.jsxs)("span",{className:"cert-issuer",children:[" | ",e.issuer]}),e.date&&(0,bv.jsxs)("span",{className:"cert-date",children:[" | ",Uv(e.date)]})]},t))})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h2",{className:"section-title",children:"Additional Information"}),(0,bv.jsx)("div",{className:"section-content",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"additional-info-item",children:[(0,bv.jsxs)("span",{className:"info-type",children:[e.type,":"]}),(0,bv.jsxs)("span",{className:"info-description",children:[" ",e.description]})]},t))})]})]})},xx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;const c=zv(i);return(0,bv.jsxs)("div",{className:"resume-template daniel-template",children:[(0,bv.jsxs)("div",{className:"resume-header",children:[(0,bv.jsx)("h1",{className:"name",children:(null===t||void 0===t?void 0:t.fullName)||"Your Name"}),(null===t||void 0===t?void 0:t.jobRole)&&(0,bv.jsx)("h2",{className:"title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[(null===t||void 0===t?void 0:t.address)&&(0,bv.jsx)("span",{children:t.address}),(null===t||void 0===t?void 0:t.email)&&(0,bv.jsx)("span",{children:t.email}),(null===t||void 0===t?void 0:t.portfolio)&&(0,bv.jsx)("span",{children:t.portfolio})]})]}),n&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"SUMMARY"}),(0,bv.jsx)("div",{className:"section-content",children:(0,bv.jsx)("p",{children:n})})]}),i&&i.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"TECHNICAL SKILLS"}),(0,bv.jsx)("div",{className:"section-content",children:(0,bv.jsx)("div",{className:"skills-grid",children:Object.entries(c).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"skill-column",children:[(0,bv.jsx)("h4",{className:"skill-category-title",children:Bv(t)}),n.map((e,t)=>(0,bv.jsx)("div",{className:"skill-item",children:e.name},e.id))]},t)})})})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"PROFESSIONAL EXPERIENCE"}),(0,bv.jsx)("div",{className:"section-content",children:s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsxs)("div",{className:"job-info",children:[(0,bv.jsx)("h4",{className:"job-title",children:e.position}),(0,bv.jsx)("span",{className:"company",children:e.company})]}),(0,bv.jsxs)("div",{className:"date-range",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("div",{className:"job-description",children:e.description.split("\n").map((e,t)=>(0,bv.jsxs)("div",{className:"description-line",children:["\u2022 ",e]},t))})]},e.id||t))})]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"EDUCATION"}),(0,bv.jsx)("div",{className:"section-content",children:r.map((e,t)=>{var n;return(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsxs)("div",{className:"education-info",children:[(0,bv.jsxs)("h4",{className:"degree",children:[e.degree," ",e.field&&`in ${e.field}`]}),(0,bv.jsx)("span",{className:"institution",children:e.institution})]}),(0,bv.jsxs)("div",{className:"date-range",children:[Uv(e.startDate)," - ",Uv(e.endDate)]})]}),(0,bv.jsxs)("div",{className:"education-details",children:[(0,bv.jsxs)("div",{className:"detail-line",children:["\u2022 Major in ",e.field||"Your Field","."]}),(0,bv.jsxs)("div",{className:"detail-line",children:['\u2022 Thesis on "Technological Advancements within the current ',(null===(n=e.field)||void 0===n?void 0:n.split(" ")[0])||"Industry",' Industry".']})]})]},e.id||t)})})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"resume-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"ADDITIONAL INFORMATION"}),(0,bv.jsx)("div",{className:"section-content",children:(0,bv.jsx)("div",{className:"additional-info",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"info-item",children:[(0,bv.jsxs)("strong",{children:[e.type,":"]})," ",e.description]},t))})})]})]})},bx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;const c=zv(i);return(0,bv.jsx)("div",{className:"resume-template howard-template",children:(0,bv.jsxs)("div",{className:"template-container",children:[(0,bv.jsxs)("div",{className:"sidebar",children:[(0,bv.jsx)("div",{className:"profile-section",children:null!==t&&void 0!==t&&t.photoURL?(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"profile-photo"}):(0,bv.jsx)("div",{className:"profile-placeholder",children:(0,bv.jsx)("i",{className:"fas fa-user"})})}),(0,bv.jsxs)("div",{className:"contact-section",children:[(0,bv.jsx)("h3",{className:"sidebar-title",children:"My Contact"}),(0,bv.jsxs)("div",{className:"contact-items",children:[(null===t||void 0===t?void 0:t.email)&&(0,bv.jsxs)("div",{className:"contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-envelope"}),(0,bv.jsx)("span",{children:t.email})]}),(null===t||void 0===t?void 0:t.phone)&&(0,bv.jsxs)("div",{className:"contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-phone"}),(0,bv.jsx)("span",{children:t.phone})]}),(null===t||void 0===t?void 0:t.address)&&(0,bv.jsxs)("div",{className:"contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,bv.jsx)("span",{children:t.address})]}),(null===t||void 0===t?void 0:t.linkedin)&&(0,bv.jsxs)("div",{className:"contact-item",children:[(0,bv.jsx)("i",{className:"fab fa-linkedin"}),(0,bv.jsx)("span",{children:t.linkedin})]}),(null===t||void 0===t?void 0:t.portfolio)&&(0,bv.jsxs)("div",{className:"contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-globe"}),(0,bv.jsx)("span",{children:t.portfolio})]}),(null===t||void 0===t?void 0:t.customLinks)&&t.customLinks.map((e,t)=>(0,bv.jsxs)("div",{className:"contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-link"}),(0,bv.jsxs)("span",{children:[e.name,": ",e.url]})]},t))]})]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"education-section",children:[(0,bv.jsx)("h3",{className:"sidebar-title",children:"Education Background"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsx)("div",{className:"education-icon",children:(0,bv.jsx)("i",{className:"fas fa-graduation-cap"})}),(0,bv.jsxs)("div",{className:"education-content",children:[(0,bv.jsx)("h4",{className:"education-title",children:e.institution}),(0,bv.jsx)("p",{className:"education-degree",children:e.degree}),(0,bv.jsx)("p",{className:"education-field",children:e.field}),(0,bv.jsxs)("p",{className:"education-date",children:[" - ",new Date(e.endDate).getFullYear()]})]})]},e.id||t))]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"education-section",children:[(0,bv.jsx)("h3",{className:"sidebar-title",children:"Certifications"}),o.map((e,t)=>(0,bv.jsxs)("div",{className:"education-item",children:[(0,bv.jsx)("div",{className:"education-icon",children:(0,bv.jsx)("i",{className:"fas fa-certificate"})}),(0,bv.jsxs)("div",{className:"education-content",children:[(0,bv.jsx)("h4",{className:"education-title",children:e.name}),(0,bv.jsx)("p",{className:"education-degree",children:e.issuer}),(0,bv.jsx)("p",{className:"education-date",children:new Date(e.date).getFullYear()})]})]},e.id||t))]})]}),(0,bv.jsxs)("div",{className:"main-content",children:[(0,bv.jsxs)("div",{className:"header-section",children:[(0,bv.jsx)("h1",{className:"name",children:(null===t||void 0===t?void 0:t.fullName)||"Your Name"}),(null===t||void 0===t?void 0:t.jobRole)&&(0,bv.jsx)("h2",{className:"title",children:t.jobRole})]}),n&&(0,bv.jsxs)("div",{className:"content-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"About Me"}),(0,bv.jsx)("p",{className:"about-text",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"content-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"Professional Experience"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsxs)("h4",{className:"job-title",children:[e.company," | ",e.position]}),(0,bv.jsxs)("span",{className:"date-range",children:[new Date(e.startDate).getFullYear()," \u2013 ",e.current?"Present":new Date(e.endDate).getFullYear()]})]}),(0,bv.jsxs)("div",{className:"job-responsibilities",children:[(0,bv.jsx)("p",{children:(0,bv.jsx)("strong",{style:{fontSize:"11px"},children:"Key responsibilities:"})}),e.description&&(0,bv.jsx)("ul",{children:e.description.split("\n").map((e,t)=>(0,bv.jsx)("li",{children:e},t))})]})]},e.id||t))]}),a&&a.length>0&&(0,bv.jsxs)("div",{className:"content-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"Projects"}),a.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",children:[(0,bv.jsx)("h4",{className:"job-title",children:e.name}),e.url&&(0,bv.jsx)("span",{className:"date-range",children:(0,bv.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[(0,bv.jsx)("i",{className:"fas fa-external-link-alt"})," View Project"]})})]}),e.technologies&&e.technologies.length>0&&(0,bv.jsx)("div",{className:"job-responsibilities",children:(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{style:{fontSize:"11px"},children:"Technologies:"})," ",e.technologies.join(", ")]})}),(0,bv.jsx)("div",{className:"job-responsibilities",children:e.description&&(0,bv.jsx)("ul",{children:e.description.split("\n").map((e,t)=>(0,bv.jsx)("li",{children:e},t))})})]},e.id||t))]}),i&&i.length>0&&Object.keys(c).length>0&&(0,bv.jsxs)("div",{className:"content-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"Skills"}),(0,bv.jsx)("div",{className:"achievements-list",children:Object.entries(c).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"achievement-item",children:[(0,bv.jsxs)("span",{className:"achievement-text",style:{fontWeight:"700"},children:[Bv(t)," :"]}),(0,bv.jsx)("span",{children:n.map(e=>e.name).join(", ")})]},t)})})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"content-section",children:[(0,bv.jsx)("h3",{className:"section-title",children:"Additional Information"}),(0,bv.jsx)("div",{className:"additional-info-list",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"additional-info-item",children:[(0,bv.jsxs)("span",{className:"info-type",children:[e.type,":"]}),(0,bv.jsxs)("span",{className:"info-description",children:[" ",e.description]})]},t))})]})]})]})})},wx=e=>{let{personalInfo:t,summary:n,education:s,experience:r,projects:i,skills:a,certifications:o,achievements:l,additionalInfo:c}=e;const u=zv(a);return(0,bv.jsxs)("div",{className:"resume-template overleaf-template",children:[(0,bv.jsxs)("div",{className:"ol-header",children:[(0,bv.jsx)("h1",{className:"ol-name",children:null===t||void 0===t?void 0:t.fullName}),(0,bv.jsxs)("div",{style:{alignItems:"center",alignContent:"center"},className:"ol-contact",children:[(null===t||void 0===t?void 0:t.jobRole)&&(0,bv.jsxs)("span",{children:[(0,bv.jsx)("i",{className:"fas fa-briefcase"})," ",t.jobRole]}),(null===t||void 0===t?void 0:t.email)&&(0,bv.jsxs)("span",{children:[(0,bv.jsx)("i",{className:"fas fa-envelope"})," ",t.email]}),(null===t||void 0===t?void 0:t.phone)&&(0,bv.jsxs)("span",{children:[(0,bv.jsx)("i",{className:"fas fa-phone"})," ",t.phone]}),(null===t||void 0===t?void 0:t.address)&&(0,bv.jsxs)("span",{children:[(0,bv.jsx)("i",{className:"fas fa-map-marker-alt"})," ",t.address]}),(null===t||void 0===t?void 0:t.portfolio)&&(0,bv.jsxs)("span",{children:[(0,bv.jsx)("i",{className:"fas fa-globe"})," ",(0,bv.jsx)("a",{href:t.portfolio,target:"_blank",rel:"noopener noreferrer",children:"Portfolio"})]}),(null===t||void 0===t?void 0:t.customLinks)&&t.customLinks.map((e,t)=>(0,bv.jsxs)("span",{children:[(0,bv.jsx)("i",{className:"fas fa-link"})," ",(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.name})]},t)),(null===t||void 0===t?void 0:t.linkedin)&&(0,bv.jsxs)("span",{children:[(0,bv.jsx)("i",{className:"fab fa-linkedin"})," ",(0,bv.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]}),(null===t||void 0===t?void 0:t.github)&&(0,bv.jsxs)("span",{children:[(0,bv.jsx)("i",{className:"fab fa-github"})," ",(0,bv.jsx)("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]})]})]}),n&&(0,bv.jsxs)("div",{className:"ol-section",children:[(0,bv.jsx)("h2",{className:"ol-section-title",children:"Profile Summary"}),(0,bv.jsx)("div",{className:"ol-section-content summary1",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"ol-section",children:[(0,bv.jsx)("h2",{className:"ol-section-title",children:"Education"}),(0,bv.jsx)("ul",{className:"ol-list",children:s.map((e,t)=>(0,bv.jsxs)("li",{className:"ol-list-item",children:[(0,bv.jsxs)("div",{className:"ol-row",children:[(0,bv.jsx)("span",{className:"ol-bold",children:e.institution}),(0,bv.jsxs)("span",{className:"ol-date",children:[e.startDate," - ",e.endDate]})]}),(0,bv.jsxs)("div",{className:"ol-row",children:[(0,bv.jsxs)("span",{style:{fontSize:"0.7em"},children:[e.degree," in ",e.field," ",e.stream?`, ${e.stream}`:""]}),e.gpa&&(0,bv.jsxs)("span",{style:{fontSize:"0.7em"},children:["CGPA: ",e.gpa]})]})]},t))})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"ol-section",children:[(0,bv.jsx)("h2",{className:"ol-section-title",children:"Achievements"}),(0,bv.jsx)("ul",{className:"ol-list",children:l.map((e,t)=>(0,bv.jsx)("li",{className:"ol-list-item",children:e},t))})]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"ol-section",children:[(0,bv.jsx)("h2",{className:"ol-section-title",children:"Experience"}),(0,bv.jsx)("ul",{className:"ol-list",children:r.map((e,t)=>(0,bv.jsxs)("li",{className:"ol-list-item",children:[(0,bv.jsxs)("div",{className:"ol-row",children:[(0,bv.jsx)("span",{className:"ol-bold",children:e.company}),(0,bv.jsxs)("span",{className:"ol-date",children:[e.startDate," - ",e.endDate||"Present"]})]}),(0,bv.jsxs)("div",{className:"ol-row",children:[(0,bv.jsx)("span",{style:{fontSize:"0.8em"},children:e.position}),(0,bv.jsx)("span",{children:e.location})]}),e.description&&(0,bv.jsx)("div",{className:"ol-desc",children:e.description})]},t))})]}),i&&i.length>0&&(0,bv.jsxs)("div",{className:"ol-section",children:[(0,bv.jsx)("h2",{className:"ol-section-title",children:"Notable Projects"}),(0,bv.jsx)("ul",{className:"ol-list",children:i.map((e,t)=>(0,bv.jsxs)("li",{className:"ol-list-item",children:[(0,bv.jsxs)("div",{className:"ol-row",children:[(0,bv.jsx)("span",{className:"ol-bold",children:e.name}),(0,bv.jsx)("span",{children:e.date})]}),(0,bv.jsx)("div",{className:"ol-row",children:(0,bv.jsx)("span",{children:e.role})}),e.description&&(0,bv.jsx)("div",{className:"ol-desc",children:e.description})]},t))})]}),a&&a.length>0&&(0,bv.jsxs)("div",{className:"ol-section",children:[(0,bv.jsx)("h2",{className:"ol-section-title",children:"Skills"}),(0,bv.jsx)("div",{className:"ol-section-content ol-skills",children:Object.keys(u).map((e,t)=>(0,bv.jsxs)("div",{children:[(0,bv.jsxs)("span",{className:"ol-bold",children:[Bv(e),":"]})," ",u[e].map(e=>e.name).filter(Boolean).map((e,t,n)=>(0,bv.jsxs)("span",{className:"ol-skill-name",children:[e,t<n.length-1?", ":""]},t))]},e))})]}),c&&c.length>0&&(0,bv.jsxs)("div",{className:"ol-section",children:[(0,bv.jsx)("h2",{className:"ol-section-title",children:"Additional Information"}),(0,bv.jsx)("ul",{className:"ol-list",children:c.map((e,t)=>(0,bv.jsxs)("li",{className:"ol-list-item",children:[(0,bv.jsx)("div",{className:"ol-row",children:(0,bv.jsx)("span",{className:"ol-bold",children:e.type})}),(0,bv.jsx)("div",{className:"ol-row",children:(0,bv.jsx)("span",{style:{fontSize:"0.7em"},children:e.description})})]},t))})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"ol-section",children:[(0,bv.jsx)("h2",{className:"ol-section-title",children:"Certifications"}),(0,bv.jsx)("ul",{className:"ol-list",children:o.map((e,t)=>(0,bv.jsxs)("li",{className:"ol-list-item",children:[(0,bv.jsxs)("div",{className:"ol-row",children:[(0,bv.jsx)("span",{className:"ol-bold",children:e.name}),(0,bv.jsx)("span",{style:{fontSize:"0.7em"},children:e.issuer})]}),(0,bv.jsxs)("div",{className:"ol-row",children:[(0,bv.jsx)("span",{style:{fontSize:"0.7em"},children:e.date}),e.url&&(0,bv.jsx)("a",{style:{fontSize:"0.7em"},href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Verify"})]})]},t))})]})]})},Nx=e=>{let{personalInfo:t={},summary:n,experience:s=[],education:r=[],skills:i=[],projects:a=[],certifications:o=[],additionalInfo:l=[]}=e;const c=zv(i);return(0,bv.jsxs)("div",{className:"professional2-resume",children:[(0,bv.jsxs)("header",{className:"resume-header",children:[t.photoURL&&(0,bv.jsx)("div",{className:"photo-section",children:(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"profile-photo"})}),(0,bv.jsx)("h1",{children:t.fullName}),t.jobRole&&(0,bv.jsx)("h2",{className:"job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"contact-info",children:[t.email&&(0,bv.jsxs)("span",{children:["\ud83d\udce7 ",(0,bv.jsx)("a",{href:`mailto:${t.email}`,children:t.email})]}),t.phone&&(0,bv.jsxs)("span",{children:["\ud83d\udcde ",t.phone]}),t.address&&(0,bv.jsxs)("span",{children:["\ud83d\udccd ",t.address]}),t.linkedin&&(0,bv.jsxs)("span",{children:["\ud83d\udd17 ",(0,bv.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]}),t.portfolio&&(0,bv.jsxs)("span",{children:["\ud83c\udf10 ",(0,bv.jsx)("a",{href:t.portfolio,target:"_blank",rel:"noopener noreferrer",children:"Portfolio"})]})]})]}),n&&(0,bv.jsxs)("section",{className:"profile-summary",style:{marginTop:0},children:[(0,bv.jsx)("div",{className:"section-header",children:"Professional Summary"}),(0,bv.jsx)("p",{children:n})]}),s.length>0&&(0,bv.jsxs)("section",{className:"experience",children:[(0,bv.jsx)("div",{className:"section-header",children:"Experience"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"experience-item",children:[(0,bv.jsxs)("div",{className:"experience-header",style:{marginBottom:0},children:[(0,bv.jsxs)("h7",{style:{display:"inline",marginRight:8,fontWeight:"600"},children:[e.position," "]})," ",(0,bv.jsx)("br",{}),(0,bv.jsxs)("span",{style:{display:"inline"},children:[e.company,e.company&&(e.startDate||e.endDate)?" ":"",Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("ul",{className:"experience-description",children:e.description.split("\n").map((e,t)=>e.trim()&&(0,bv.jsx)("li",{children:e.trim()},t))})]},e.id||t))]}),r.length>0&&(0,bv.jsxs)("section",{className:"education",children:[(0,bv.jsx)("div",{className:"section-header",children:"Education"}),r.map((e,t)=>(0,bv.jsx)("div",{className:"education-item",children:(0,bv.jsxs)("div",{className:"education-header",children:[(0,bv.jsxs)("div",{children:[(0,bv.jsx)("span",{style:{fontWeight:600},children:e.degree}),e.field&&(0,bv.jsxs)("span",{children:[" in ",e.field]})]}),(0,bv.jsxs)("div",{children:[(0,bv.jsx)("span",{children:e.institution}),e.gpa&&(0,bv.jsxs)("span",{className:"gpa",children:["GPA: ",e.gpa]}),(0,bv.jsxs)("span",{style:{float:"right"},children:[Uv(e.startDate)," - ",Uv(e.endDate)]})]})]})},e.id||t))]}),i.length>0&&(0,bv.jsxs)("section",{className:"skills",children:[(0,bv.jsx)("div",{className:"section-header",children:"Skills"}),(0,bv.jsx)("div",{className:"skills-categories",children:Object.entries(c).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"skill-category",children:[(0,bv.jsx)("h4",{children:Bv(t)}),(0,bv.jsx)("span",{children:n.map((e,t)=>e.name).join(", ")})]},t)})})]}),a.length>0&&(0,bv.jsxs)("section",{className:"projects",children:[(0,bv.jsx)("div",{className:"section-header",children:"Projects"}),a.map((e,t)=>(0,bv.jsxs)("div",{className:"project-item",children:[(0,bv.jsx)("div",{children:(0,bv.jsx)("span",{style:{fontWeight:600},children:e.name})}),(0,bv.jsx)("div",{className:"project-description",children:(0,bv.jsx)("span",{children:e.description})}),e.technologies&&e.technologies.length>0&&(0,bv.jsxs)("div",{style:{fontWeight:600},children:["Technologies : ",e.technologies.join(", ")]}),e.url&&(0,bv.jsx)("div",{children:(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Project Link"})})]},e.id||t))]}),o.length>0&&(0,bv.jsxs)("section",{className:"certifications",children:[(0,bv.jsx)("div",{className:"section-header",children:"Certifications"}),o.map((e,t)=>(0,bv.jsxs)("div",{className:"certification-item",children:[(0,bv.jsx)("div",{children:(0,bv.jsx)("span",{style:{fontWeight:600},children:e.name})}),(0,bv.jsxs)("div",{children:[(0,bv.jsx)("span",{children:e.issuer}),(0,bv.jsx)("span",{style:{marginLeft:8},children:Uv(e.date)})]})]},e.id||t))]}),l.length>0&&(0,bv.jsxs)("section",{className:"additional-info",children:[(0,bv.jsx)("div",{className:"section-header",children:"Additional Information"}),(0,bv.jsx)("ul",{children:l.map((e,t)=>"string"===typeof e?(0,bv.jsx)("li",{style:{fontSize:"0.8em"},children:e},t):"object"===typeof e&&null!==e?(0,bv.jsxs)("li",{style:{fontSize:"0.8em"},children:[e.type&&(0,bv.jsxs)("strong",{children:[e.type,": "]}),e.description||JSON.stringify(e)]},e.id||t):null)})]})]})},jx=e=>{let{personalInfo:t={},summary:n,experience:s=[],education:r=[],skills:i=[],projects:a=[],certifications:o=[],additionalInfo:l=[]}=e;const c=zv(i);return(0,bv.jsxs)("div",{className:"template1-resume",children:[(0,bv.jsxs)("header",{className:"template1-header",children:[t.photoURL&&(0,bv.jsx)("div",{className:"template1-photo-section",children:(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"template1-profile-photo"})}),(0,bv.jsx)("div",{className:"template1-title",children:(0,bv.jsx)("span",{className:"template1-name",children:t.fullName})}),t.jobRole&&(0,bv.jsx)("div",{className:"template1-job-title",children:t.jobRole}),(0,bv.jsxs)("div",{className:"template1-contact",children:[t.email&&(0,bv.jsx)("span",{className:"template1-email",children:(0,bv.jsx)("a",{href:`mailto:${t.email}`,children:t.email})}),t.phone&&(0,bv.jsx)("span",{className:"template1-phone",children:t.phone}),t.address&&(0,bv.jsx)("span",{className:"template1-address",children:t.address}),t.linkedin&&(0,bv.jsx)("span",{className:"template1-linkedin",children:(0,bv.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})}),t.portfolio&&(0,bv.jsx)("span",{className:"template1-portfolio",children:(0,bv.jsx)("a",{href:t.portfolio,target:"_blank",rel:"noopener noreferrer",children:"Portfolio"})})]})]}),n&&(0,bv.jsxs)("section",{className:"template1-summary",children:[(0,bv.jsx)("h2",{className:"template1-section-heading",children:"Professional Summary"}),(0,bv.jsx)("p",{className:"template1-description",children:n})]}),s.length>0&&(0,bv.jsxs)("section",{className:"template1-experience",children:[(0,bv.jsx)("h2",{className:"template1-section-heading",children:"Experience"}),(0,bv.jsx)("ul",{className:"template1-experience-list",children:s.map((e,t)=>(0,bv.jsxs)("li",{className:"template1-experience-item",children:[(0,bv.jsxs)("div",{className:"template1-exp-row1",children:[(0,bv.jsx)("span",{className:"template1-exp-position",children:e.position}),(0,bv.jsx)("span",{className:"template1-exp-company",children:e.company}),(0,bv.jsxs)("span",{className:"template1-exp-dates",children:[Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),e.description&&(0,bv.jsx)("ul",{className:"template1-exp-description",children:e.description.split("\n").map((e,t)=>e.trim()&&(0,bv.jsx)("li",{className:"template1-description",children:e.trim()},t))})]},e.id||t))})]}),r.length>0&&(0,bv.jsxs)("section",{className:"template1-education",children:[(0,bv.jsx)("h2",{className:"template1-section-heading",children:"Education"}),(0,bv.jsx)("ul",{className:"template1-education-list",children:r.map((e,t)=>(0,bv.jsxs)("li",{className:"template1-education-item",children:[(0,bv.jsxs)("div",{className:"template1-edu-row1",children:[(0,bv.jsx)("span",{className:"template1-edu-degree",children:e.degree}),e.field&&(0,bv.jsxs)("span",{className:"template1-edu-field",children:["in ",e.field]})]}),(0,bv.jsxs)("div",{className:"template1-edu-row2",children:[(0,bv.jsx)("span",{className:"template1-edu-institution",children:e.institution}),e.gpa&&(0,bv.jsxs)("span",{className:"template1-edu-gpa",children:["GPA: ",e.gpa]}),(0,bv.jsxs)("span",{className:"template1-edu-dates",children:[Uv(e.startDate)," - ",Uv(e.endDate)]})]})]},e.id||t))})]}),i.length>0&&(0,bv.jsxs)("section",{className:"template1-skills",children:[(0,bv.jsx)("h2",{className:"template1-section-heading",children:"Skills"}),(0,bv.jsx)("div",{className:"template1-skills-categories",children:Object.entries(c).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"template1-skill-category",children:[(0,bv.jsx)("h4",{className:"template1-skill-category-title",children:Bv?Bv(t):t}),(0,bv.jsx)("span",{className:"template1-skill-list",children:n.map(e=>e.name).join(", ")})]},t)})})]}),a.length>0&&(0,bv.jsxs)("section",{className:"template1-projects",children:[(0,bv.jsx)("h2",{className:"template1-section-heading",children:"Projects"}),(0,bv.jsx)("ul",{className:"template1-projects-list",children:a.map((e,t)=>(0,bv.jsxs)("li",{className:"template1-project-item",children:[(0,bv.jsxs)("div",{className:"template1-project-row1",children:[(0,bv.jsx)("span",{className:"template1-project-name",children:e.name}),e.url&&(0,bv.jsx)("span",{className:"template1-project-url",children:(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Project Link"})})]}),(0,bv.jsxs)("div",{className:"template1-project-row2",children:[(0,bv.jsx)("span",{className:"template1-project-description",children:e.description}),e.technologies&&e.technologies.length>0&&(0,bv.jsxs)("span",{className:"template1-project-technologies",children:[(0,bv.jsx)("strong",{children:"Technologies:"})," ",e.technologies.join(", ")]})]})]},e.id||t))})]}),o.length>0&&(0,bv.jsxs)("section",{className:"template1-certifications",children:[(0,bv.jsx)("h2",{className:"template1-section-heading",children:"Certifications"}),(0,bv.jsx)("ul",{className:"template1-certifications-list",children:o.map((e,t)=>(0,bv.jsxs)("li",{className:"template1-certification-item",children:[(0,bv.jsx)("div",{className:"template1-cert-row1",children:(0,bv.jsx)("span",{className:"template1-cert-name",children:e.name})}),(0,bv.jsxs)("div",{className:"template1-cert-row2",children:[(0,bv.jsx)("span",{className:"template1-cert-issuer",children:e.issuer}),(0,bv.jsx)("span",{className:"template1-cert-date",children:Uv(e.date)}),e.credentialId&&(0,bv.jsxs)("span",{className:"template1-cert-credential",children:["Credential ID: ",e.credentialId]}),e.url&&(0,bv.jsx)("span",{className:"template1-cert-url",children:(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Certificate Link"})})]})]},e.id||t))})]}),l.length>0&&(0,bv.jsxs)("section",{className:"template1-additional-info",children:[(0,bv.jsx)("h2",{className:"template1-section-heading",children:"Additional Information"}),(0,bv.jsx)("ul",{className:"template1-additional-info-list",children:l.map((e,t)=>"string"===typeof e?(0,bv.jsx)("li",{className:"template1-additional-info-item",children:e},t):"object"===typeof e&&null!==e?(0,bv.jsxs)("li",{className:"template1-additional-info-item",children:[e.type&&(0,bv.jsxs)("strong",{children:[e.type,": "]}),e.description||JSON.stringify(e)]},e.id||t):null)})]})]})};function Ex(e){return e?e.replace(/([%$&#_{}~^\\])/g,"\\$1").replace(/\n/g," \\ "):""}const _x=e=>{const[t,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(null),l=(0,r.useRef)();return(0,r.useEffect)(()=>((async()=>{i(!0),o(null),n(null);try{const t=await fetch("/src/components/templates/LatexResumeTemplate.tex"),s=function(e,t){var n,s,r,i,a,o,l,c,u,d;let h=e;return h=h.replace(/<FULL_NAME>/g,Ex((null===(n=t.personalInfo)||void 0===n?void 0:n.fullName)||"")),h=h.replace(/<LAST_NAME>/g,Ex((null===(s=t.personalInfo)||void 0===s?void 0:s.lastName)||"")),h=h.replace(/<JOB_TITLE>/g,Ex((null===(r=t.personalInfo)||void 0===r?void 0:r.jobRole)||"")),h=h.replace(/<ADDRESS>/g,Ex((null===(i=t.personalInfo)||void 0===i?void 0:i.address)||"")),h=h.replace(/<CITY>/g,Ex((null===(a=t.personalInfo)||void 0===a?void 0:a.city)||"")),h=h.replace(/<ZIP>/g,Ex((null===(o=t.personalInfo)||void 0===o?void 0:o.zip)||"")),h=h.replace(/<PHONE>/g,Ex((null===(l=t.personalInfo)||void 0===l?void 0:l.phone)||"")),h=h.replace(/<EMAIL>/g,Ex((null===(c=t.personalInfo)||void 0===c?void 0:c.email)||"")),h=h.replace(/<PORTFOLIO>/g,Ex((null===(u=t.personalInfo)||void 0===u?void 0:u.portfolio)||"")),h=h.replace(/<LINKEDIN>/g,Ex((null===(d=t.personalInfo)||void 0===d?void 0:d.linkedin)||"")),h=h.replace(/<SUMMARY>/g,Ex(t.summary||"")),h=h.replace(/<EXPERIENCE_BLOCKS>/g,(t.experience||[]).map(e=>`\\cventry{${Ex(e.years||"")}}{${Ex(e.position||"")}}{${Ex(e.company||"")}}{${Ex(e.location||"")}}{}{${Ex(e.description||"")}}`).join("\n")),h=h.replace(/<EDUCATION_BLOCKS>/g,(t.education||[]).map(e=>`\\cventry{${Ex(e.years||"")}}{${Ex(e.degree||"")}}{${Ex(e.institution||"")}}{${Ex(e.location||"")}}{}{${Ex(e.details||"")}}`).join("\n")),h=h.replace(/<SKILLS_BLOCKS>/g,t.skills&&t.skills.length>0?`\\begin{itemize}[leftmargin=*]\n${t.skills.map(e=>`\\item ${Ex(e.name)}`).join("\n")}\n\\end{itemize}`:""),h=h.replace(/<PROJECTS_BLOCKS>/g,t.projects&&t.projects.length>0?`\\begin{itemize}[leftmargin=*]\n${t.projects.map(e=>`\\item ${Ex(e.name)}: ${Ex(e.description)}`).join("\n")}\n\\end{itemize}`:""),h=h.replace(/<CERTIFICATIONS_BLOCKS>/g,t.certifications&&t.certifications.length>0?`\\begin{itemize}[leftmargin=*]\n${t.certifications.map(e=>`\\item ${Ex(e.name)} (${Ex(e.issuer)})`).join("\n")}\n\\end{itemize}`:""),h=h.replace(/<ADDITIONAL_INFO_BLOCKS>/g,t.additionalInfo&&t.additionalInfo.length>0?`\\begin{itemize}[leftmargin=*]\n${t.additionalInfo.map(e=>`\\item ${Ex(e.type)}: ${Ex(e.description)}`).join("\n")}\n\\end{itemize}`:""),h}(await t.text(),e),r=await async function(e){const t=await fetch("https://api.cloudcompiler.app/compile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({compiler:"pdflatex",code:e,output:"pdf"})});if(!t.ok)throw new Error("Failed to generate PDF from LaTeX");const n=await t.json();if(!n.success||!n.output)throw new Error("CloudCompiler failed: "+(n.error||"Unknown error"));return await(await fetch(`data:application/pdf;base64,${n.output}`)).blob()}(s),i=URL.createObjectURL(r);n(i)}catch(lb){o((null===lb||void 0===lb?void 0:lb.message)||"Failed to generate PDF preview.")}finally{i(!1)}})(),()=>{t&&URL.revokeObjectURL(t)}),[JSON.stringify(e)]),(0,bv.jsxs)("div",{style:{width:"100%",height:"80vh",background:"#f8f9fa",borderRadius:8,boxShadow:"0 2px 8px #0001",display:"flex",alignItems:"center",justifyContent:"center"},children:[s&&(0,bv.jsx)("div",{children:"Generating PDF preview..."}),a&&(0,bv.jsx)("div",{style:{color:"red"},children:a}),t&&(0,bv.jsx)("iframe",{ref:l,src:t,title:"LaTeX PDF Preview",style:{width:"100%",height:"100%",border:"none",borderRadius:8}})]})},kx=e=>{let{personalInfo:t,summary:n,education:s,experience:r,projects:i,skills:a,certifications:o,achievements:l,additionalInfo:c}=e;const u=zv(a);return(0,bv.jsxs)("div",{className:"tpl11-root",children:[(0,bv.jsxs)("div",{className:"tpl11-header",children:[(0,bv.jsx)("h1",{className:"tpl11-name",children:null===t||void 0===t?void 0:t.fullName}),(0,bv.jsxs)("div",{className:"tpl11-contact",children:[(null===t||void 0===t?void 0:t.jobRole)&&(0,bv.jsxs)("span",{className:"tpl11-contact-role",children:[(0,bv.jsx)("i",{className:"fas fa-briefcase"})," ",t.jobRole]}),(null===t||void 0===t?void 0:t.email)&&(0,bv.jsxs)("span",{className:"tpl11-contact-email",children:[(0,bv.jsx)("i",{className:"fas fa-envelope"})," ",t.email]}),(null===t||void 0===t?void 0:t.phone)&&(0,bv.jsxs)("span",{className:"tpl11-contact-phone",children:[(0,bv.jsx)("i",{className:"fas fa-phone"})," ",t.phone]}),(null===t||void 0===t?void 0:t.address)&&(0,bv.jsxs)("span",{className:"tpl11-contact-address",children:[(0,bv.jsx)("i",{className:"fas fa-map-marker-alt"})," ",t.address]}),(null===t||void 0===t?void 0:t.portfolio)&&(0,bv.jsxs)("span",{className:"tpl11-contact-portfolio",children:[(0,bv.jsx)("i",{className:"fas fa-globe"})," ",(0,bv.jsx)("a",{href:t.portfolio,target:"_blank",rel:"noopener noreferrer",children:"Portfolio"})]}),(null===t||void 0===t?void 0:t.customLinks)&&t.customLinks.map((e,t)=>(0,bv.jsxs)("span",{className:"tpl11-contact-custom",children:[(0,bv.jsx)("i",{className:"fas fa-link"})," ",(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.name})]},t)),(null===t||void 0===t?void 0:t.linkedin)&&(0,bv.jsxs)("span",{className:"tpl11-contact-linkedin",children:[(0,bv.jsx)("i",{className:"fab fa-linkedin"})," ",(0,bv.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]}),(null===t||void 0===t?void 0:t.github)&&(0,bv.jsxs)("span",{className:"tpl11-contact-github",children:[(0,bv.jsx)("i",{className:"fab fa-github"})," ",(0,bv.jsx)("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]})]})]}),n&&(0,bv.jsxs)("div",{className:"tpl11-section",children:[(0,bv.jsx)("h2",{className:"tpl11-section-header",children:"Profile Summary"}),(0,bv.jsx)("div",{className:"tpl11-summary",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("div",{className:"tpl11-section",children:[(0,bv.jsx)("h2",{className:"tpl11-section-header",children:"Education"}),(0,bv.jsx)("ul",{className:"tpl11-list",children:s.map((e,t)=>(0,bv.jsxs)("li",{className:"tpl11-list-item",children:[(0,bv.jsxs)("div",{className:"tpl11-row",children:[(0,bv.jsx)("span",{className:"tpl11-edu-institution",children:e.institution}),(0,bv.jsxs)("span",{className:"tpl11-edu-dates",children:[e.startDate," - ",e.endDate]})]}),(0,bv.jsxs)("div",{className:"tpl11-row",children:[(0,bv.jsxs)("span",{className:"tpl11-edu-degree",children:[e.degree," in ",e.field," ",e.stream?`, ${e.stream}`:""]}),e.gpa&&(0,bv.jsxs)("span",{className:"tpl11-edu-gpa",children:["CGPA: ",e.gpa]})]})]},t))})]}),l&&l.length>0&&(0,bv.jsxs)("div",{className:"tpl11-section",children:[(0,bv.jsx)("h2",{className:"tpl11-section-header",children:"Achievements"}),(0,bv.jsx)("ul",{className:"tpl11-list",children:l.map((e,t)=>(0,bv.jsx)("li",{className:"tpl11-list-item tpl11-achievement",children:e},t))})]}),r&&r.length>0&&(0,bv.jsxs)("div",{className:"tpl11-section",children:[(0,bv.jsx)("h2",{className:"tpl11-section-header",children:"Experience"}),(0,bv.jsx)("ul",{className:"tpl11-list",children:r.map((e,t)=>(0,bv.jsxs)("li",{className:"tpl11-list-item",children:[(0,bv.jsxs)("div",{className:"tpl11-row",children:[(0,bv.jsx)("span",{className:"tpl11-exp-company",children:e.company}),(0,bv.jsxs)("span",{className:"tpl11-exp-dates",children:[e.startDate," - ",e.endDate||"Present"]})]}),(0,bv.jsxs)("div",{className:"tpl11-row",children:[(0,bv.jsx)("span",{className:"tpl11-exp-position",children:e.position}),(0,bv.jsx)("span",{className:"tpl11-exp-location",children:e.location})]}),e.description&&(0,bv.jsx)("div",{className:"tpl11-exp-desc",children:e.description})]},t))})]}),i&&i.length>0&&(0,bv.jsxs)("div",{className:"tpl11-section",children:[(0,bv.jsx)("h2",{className:"tpl11-section-header",children:"Notable Projects"}),(0,bv.jsx)("ul",{className:"tpl11-list",children:i.map((e,t)=>(0,bv.jsxs)("li",{className:"tpl11-list-item",children:[(0,bv.jsxs)("div",{className:"tpl11-row",children:[(0,bv.jsx)("span",{className:"tpl11-proj-name",children:e.name}),(0,bv.jsx)("span",{className:"tpl11-proj-date",children:e.date})]}),(0,bv.jsx)("div",{className:"tpl11-row",children:(0,bv.jsx)("span",{className:"tpl11-proj-role",children:e.role})}),e.description&&(0,bv.jsx)("div",{className:"tpl11-proj-desc",children:e.description})]},t))})]}),a&&a.length>0&&(0,bv.jsxs)("div",{className:"tpl11-section",children:[(0,bv.jsx)("h2",{className:"tpl11-section-header",children:"Skills"}),(0,bv.jsx)("div",{className:"tpl11-skills",children:Object.keys(u).map((e,t)=>(0,bv.jsxs)("div",{className:"tpl11-skill-category",children:[(0,bv.jsxs)("span",{className:"tpl11-skill-category-label",children:[Bv(e),":"]})," ",u[e].map(e=>e.name).filter(Boolean).map((e,t,n)=>(0,bv.jsxs)("span",{className:"tpl11-skill-name",children:[e,t<n.length-1?", ":""]},t))]},e))})]}),c&&c.length>0&&(0,bv.jsxs)("div",{className:"tpl11-section",children:[(0,bv.jsx)("h2",{className:"tpl11-section-header",children:"Additional Information"}),(0,bv.jsx)("ul",{className:"tpl11-list",children:c.map((e,t)=>(0,bv.jsxs)("li",{className:"tpl11-list-item",children:[(0,bv.jsx)("div",{className:"tpl11-additional-type",children:e.type}),(0,bv.jsx)("div",{className:"tpl11-additional-desc",children:e.description})]},t))})]}),o&&o.length>0&&(0,bv.jsxs)("div",{className:"tpl11-section",children:[(0,bv.jsx)("h2",{className:"tpl11-section-header",children:"Certifications"}),(0,bv.jsx)("ul",{className:"tpl11-list",children:o.map((e,t)=>(0,bv.jsxs)("li",{className:"tpl11-list-item",children:[(0,bv.jsxs)("div",{className:"tpl11-row",children:[(0,bv.jsx)("span",{className:"tpl11-cert-name",children:e.name}),(0,bv.jsxs)("span",{className:"tpl11-cert-issuer",children:["- ",e.issuer]})]}),(0,bv.jsxs)("div",{className:"tpl11-row",children:[(0,bv.jsx)("span",{className:"tpl11-cert-date",children:e.date}),e.url&&(0,bv.jsx)("a",{className:"tpl11-cert-url",href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Verify"})]})]},t))})]})]})},Sx=e=>{const{personalInfo:t={},summary:n="",experience:s=[],education:r=[],skills:i=[],projects:a=[],certifications:o=[],additionalInfo:l=[]}=e||{};return(0,bv.jsxs)("div",{className:"t12-container",children:[(0,bv.jsxs)("header",{className:"t12-header",children:[t.photoURL&&(0,bv.jsx)("div",{className:"t12-photo-container",children:(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"t12-photo"})}),(0,bv.jsxs)("div",{className:"t12-header-content",children:[(0,bv.jsx)("h1",{className:"t12-name",children:t.fullName||"Full Name"}),(0,bv.jsxs)("div",{className:"t12-contact-info",children:[(0,bv.jsxs)("p",{children:["\ud83d\udce7 ",t.email]}),(0,bv.jsxs)("p",{children:["\ud83d\udcde ",t.phone]}),(0,bv.jsxs)("p",{children:["\ud83d\udccd ",t.address]}),t.linkedin&&(0,bv.jsxs)("p",{children:["\ud83d\udcbc ",t.linkedin]}),t.portfolio&&(0,bv.jsxs)("p",{children:["\ud83c\udf10 ",t.portfolio]})]})]})]}),n&&(0,bv.jsxs)("section",{className:"t12-section",children:[(0,bv.jsx)("h2",{className:"t12-section-title",children:"Professional Summary"}),(0,bv.jsx)("p",{className:"t12-summary",style:{marginBottom:"5px"},children:n})]}),s&&s.length>0&&(0,bv.jsxs)("section",{className:"t12-section",children:[(0,bv.jsx)("h2",{className:"t12-section-title",children:"Experience"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"t12-experience-item",children:[(0,bv.jsxs)("div",{className:"t12-experience-header",children:[(0,bv.jsxs)("h3",{className:"t12-company",children:[e.company||"Company Name"," | ",e.position||"Position"]}),(0,bv.jsxs)("span",{className:"t12-date",children:[e.startDate," - ",e.endDate||"Present"]})]}),e.description&&(0,bv.jsx)("p",{className:"t12-experience-description",children:e.description}),(0,bv.jsx)("ul",{className:"t12-responsibilities",children:(e.responsibilities||[]).map((e,t)=>(0,bv.jsx)("li",{children:e},t))})]},t))]}),r&&r.length>0&&(0,bv.jsxs)("section",{className:"t12-section",children:[(0,bv.jsx)("h2",{className:"t12-section-title",style:{marginTop:"15px"},children:"Education"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"t12-education-item",children:[(0,bv.jsxs)("div",{className:"t12-education-header",children:[(0,bv.jsx)("h3",{className:"t12-institution",children:e.institution||"Institution Name"}),(0,bv.jsxs)("span",{className:"t12-date",children:[e.startDate," - ",e.endDate||"Present"]})]}),(0,bv.jsxs)("p",{className:"t12-degree",children:[e.degree||"Degree"," in ",e.field]}),e.description&&(0,bv.jsx)("p",{className:"t12-description",children:e.description})]},t))]}),i&&i.length>0&&(0,bv.jsxs)("section",{className:"t12-section",children:[(0,bv.jsx)("h2",{className:"t12-section-title",style:{marginTop:"15px"},children:"Skills"}),Object.entries(zv(i)).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"t12-skill-category",children:[(0,bv.jsx)("h3",{className:"t12-category-title",children:Bv(t)}),(0,bv.jsx)("div",{className:"t12-skills-container",children:n.map((e,t)=>(0,bv.jsx)("div",{className:"t12-skill-item",children:(0,bv.jsx)("span",{className:"t12-skill-name",children:e.name})},t))})]},t)})]}),a&&a.length>0&&(0,bv.jsxs)("section",{className:"t12-section",children:[(0,bv.jsx)("h2",{className:"t12-section-title",children:"Projects"}),a.map((e,t)=>(0,bv.jsxs)("div",{className:"t12-project-item",children:[(0,bv.jsx)("h3",{className:"t12-project-title",children:e.name||"Project Name"}),(0,bv.jsx)("p",{className:"t12-project-description",children:e.description||"Project Description"}),e.technologies&&(0,bv.jsxs)("p",{className:"t12-project-tech",children:[(0,bv.jsx)("strong",{children:"Technologies:"})," ",(e.technologies||[]).join(", ")]})]},t))]}),o&&o.length>0&&(0,bv.jsxs)("section",{className:"t12-section",children:[(0,bv.jsx)("h2",{className:"t12-section-title",children:"Certifications"}),o.map((e,t)=>(0,bv.jsxs)("div",{className:"t12-certification-item",children:[(0,bv.jsxs)("h3",{className:"t12-cert-name",children:[e.name||"Certification Name"," -- ",e.issuer||"Issuer"]}),e.date&&(0,bv.jsx)("span",{className:"t12-date",children:e.date}),e.description&&(0,bv.jsx)("p",{className:"t12-description",children:e.description})]},t))]}),l&&l.length>0&&(0,bv.jsxs)("section",{className:"t12-section",children:[(0,bv.jsx)("h2",{className:"t12-section-title",children:"Additional Information"}),l.map((e,t)=>(0,bv.jsxs)("div",{className:"t12-additional-item",children:[(0,bv.jsx)("h3",{className:"t12-additional-type",children:e.type}),(0,bv.jsx)("p",{className:"t12-additional-description",children:e.description})]},t))]})]})},Ix=e=>{let{personalInfo:t={},summary:n="",experience:s=[],education:r=[],skills:i=[],projects:a=[],certifications:o=[],additionalInfo:l=[]}=e;const c=zv(i);return(0,bv.jsxs)("div",{className:"t31-container",children:[(0,bv.jsxs)("header",{className:"t31-header",children:[(0,bv.jsxs)("div",{className:"t31-header-content",children:[(0,bv.jsx)("h1",{className:"t31-name",children:t.fullName||"Full Name"}),t.jobRole&&(0,bv.jsx)("p",{className:"t31-job-title",style:{marginBottom:"1px"},children:t.jobRole}),(0,bv.jsxs)("div",{className:"t31-contact-info",children:[t.email&&(0,bv.jsxs)("div",{className:"t31-contact-item",children:[(0,bv.jsx)("span",{className:"t31-contact-label",children:"\ud83d\udce7"}),(0,bv.jsx)("span",{children:t.email})]}),t.phone&&(0,bv.jsxs)("div",{className:"t31-contact-item",children:[(0,bv.jsx)("span",{className:"t31-contact-label",children:"\ud83d\udcde"}),(0,bv.jsx)("span",{children:t.phone})]}),t.address&&(0,bv.jsxs)("div",{className:"t31-contact-item",children:[(0,bv.jsx)("span",{className:"t31-contact-label",children:"\ud83c\udfe0"}),(0,bv.jsx)("span",{children:t.address})]}),t.linkedin&&(0,bv.jsxs)("div",{className:"t31-contact-item",children:[(0,bv.jsx)("span",{className:"t31-contact-label",children:"\ud83d\udd17"}),(0,bv.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]}),t.portfolio&&(0,bv.jsxs)("div",{className:"t31-contact-item",children:[(0,bv.jsx)("span",{className:"t31-contact-label",children:"\ud83d\udd17"}),(0,bv.jsx)("a",{href:t.portfolio,target:"_blank",rel:"noopener noreferrer",children:"Portfolio"})]}),t.customLinks&&t.customLinks.map((e,t)=>(0,bv.jsxs)("div",{className:"t31-contact-item",children:[(0,bv.jsx)("span",{className:"t31-contact-label",children:"\ud83d\udd17"}),(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.name})]},t))]})]}),(0,bv.jsx)("div",{className:"t31-photo-section",children:t.photoURL&&(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"t31-photo"})})]}),n&&(0,bv.jsxs)("section",{className:"t31-section",children:[(0,bv.jsx)("h2",{className:"t31-section-title",children:"Professional Summary"}),(0,bv.jsx)("div",{className:"t31-summary-content",children:(0,bv.jsx)("p",{style:{marginBottom:"1px"},children:n})})]}),s&&s.length>0&&(0,bv.jsxs)("section",{className:"t31-section",children:[(0,bv.jsx)("h2",{className:"t31-section-title",children:"Work Experience"}),(0,bv.jsx)("div",{className:"t31-experience-list",children:s.map((e,t)=>(0,bv.jsxs)("div",{className:"t31-experience-item",children:[(0,bv.jsxs)("div",{className:"t31-experience-header",children:[(0,bv.jsx)("h3",{className:"t31-company-name",children:e.company||"Company Name"}),(0,bv.jsxs)("span",{className:"t31-position",children:[" ",Uv(e.startDate)," - ",e.current?"Present":Uv(e.endDate)]})]}),(0,bv.jsx)("div",{className:"t31-experience-duration",children:(0,bv.jsx)("span",{children:e.position||"Position"})}),e.description&&(0,bv.jsx)("p",{className:"t31-experience-description",children:e.description})]},t))})]}),r&&r.length>0&&(0,bv.jsxs)("section",{className:"t31-section",children:[(0,bv.jsx)("h2",{className:"t31-section-title",children:"Education"}),(0,bv.jsx)("div",{className:"t31-education-list",children:r.map((e,t)=>(0,bv.jsxs)("div",{className:"t31-education-item",children:[(0,bv.jsxs)("div",{className:"t31-education-header",children:[(0,bv.jsx)("h3",{className:"t31-institution",children:e.institution||"Institution Name"}),(0,bv.jsxs)("span",{className:"t31-degree",children:[Uv(e.startDate)," - ",e.endDate?Uv(e.endDate):"Present"]})]}),e.field&&(0,bv.jsx)("div",{className:"t31-field-of-study",children:(0,bv.jsxs)("span",{children:[e.degree||"Degree"," in ",e.field," ",e.gpa&&(0,bv.jsxs)("span",{className:"tpl11-edu-gpa",children:["CGPA: ",e.gpa]})]})}),e.description&&(0,bv.jsx)("p",{className:"t31-education-description",children:e.description})]},t))})]}),i&&i.length>0&&(0,bv.jsxs)("section",{className:"t31-section",children:[(0,bv.jsx)("h2",{className:"t31-section-title",children:"Skills"}),(0,bv.jsx)("div",{className:"t31-skills-container",children:Object.entries(c).map(e=>{let[t,n]=e;return(0,bv.jsxs)("div",{className:"t31-skill-category",children:[(0,bv.jsx)("h3",{className:"t31-skill-category-title",children:Bv(t)}),(0,bv.jsx)("div",{className:"t31-category-skills",children:n.map((e,t)=>(0,bv.jsx)("span",{className:"t31-skill-item",children:e.name},t))})]},t)})})]}),a&&a.length>0&&(0,bv.jsxs)("section",{className:"t31-section",children:[(0,bv.jsx)("h2",{className:"t31-section-title",children:"Projects"}),(0,bv.jsx)("div",{className:"t31-projects-list",children:a.map((e,t)=>(0,bv.jsxs)("div",{className:"t31-project-item",children:[(0,bv.jsxs)("div",{className:"t31-project-header",children:[(0,bv.jsx)("h3",{className:"t31-project-name",children:e.name||"Project Name"}),e.url&&(0,bv.jsx)("a",{href:e.url,className:"t31-project-link",target:"_blank",rel:"noopener noreferrer",children:"Link"})]}),(0,bv.jsx)("div",{className:"t31-project-technologies",children:e.technologies&&e.technologies.length>0&&(0,bv.jsx)("div",{children:e.technologies.map((e,t)=>(0,bv.jsx)("span",{className:"t31-tech-tag",children:e},t))})}),e.description&&(0,bv.jsx)("p",{className:"t31-project-description",children:e.description})]},t))})]}),o&&o.length>0&&(0,bv.jsxs)("section",{className:"t31-section",children:[(0,bv.jsx)("h2",{className:"t31-section-title",style:{marginBottom:"-7px"},children:"Certifications"}),(0,bv.jsx)("div",{className:"t31-certifications-list",children:o.map((e,t)=>(0,bv.jsxs)("div",{className:"t31-certification-item",children:[(0,bv.jsxs)("div",{className:"t31-cert-header",children:[(0,bv.jsxs)("h3",{className:"t31-cert-name",children:[e.name||"Certification Name"," - ",e.issuer||"Issuer"]}),e.url&&(0,bv.jsx)("a",{href:e.url,className:"t31-cert-verify-link",target:"_blank",rel:"noopener noreferrer",children:"Verify"})]}),(0,bv.jsxs)("div",{className:"t31-cert-details",children:[e.date&&(0,bv.jsx)("span",{className:"t31-cert-date",children:e.date}),e.credentialId&&(0,bv.jsxs)("span",{className:"t31-cert-id",children:["Credential ID: ",e.credentialId]})]})]},t))})]}),l&&l.length>0&&(0,bv.jsxs)("section",{className:"t31-section",children:[(0,bv.jsx)("h2",{className:"t31-section-title",children:"Additional Information"}),(0,bv.jsx)("div",{className:"t31-additional-content",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"t31-additional-item",children:[(0,bv.jsx)("h3",{className:"t31-additional-type",children:e.type||"Information"}),(0,bv.jsx)("p",{className:"t31-additional-description",children:e.description||""})]},t))})]})]})},Tx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;const c=zv(i);return(0,bv.jsxs)("div",{className:"modern21-container",children:[(0,bv.jsxs)("header",{className:"modern21-header",children:[(0,bv.jsxs)("div",{className:"modern21-header-content",children:[(0,bv.jsx)("h1",{className:"modern21-name",children:(null===t||void 0===t?void 0:t.fullName)||"Your Name"}),(null===t||void 0===t?void 0:t.jobRole)&&(0,bv.jsx)("h2",{className:"modern21-job-title",children:t.jobRole})]}),(0,bv.jsx)("div",{className:"modern21-contact-section",children:(0,bv.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,bv.jsxs)("tbody",{children:[(0,bv.jsxs)("tr",{children:[(0,bv.jsx)("td",{style:{padding:"5px 10px"},children:(null===t||void 0===t?void 0:t.email)&&(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,bv.jsx)("i",{className:"fas fa-envelope"}),(0,bv.jsx)("span",{children:t.email})]})}),(0,bv.jsx)("td",{style:{padding:"5px 10px"},children:(null===t||void 0===t?void 0:t.phone)&&(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,bv.jsx)("i",{className:"fas fa-phone"}),(0,bv.jsx)("span",{children:t.phone})]})})]}),(0,bv.jsxs)("tr",{children:[(0,bv.jsx)("td",{style:{padding:"5px 10px"},children:(null===t||void 0===t?void 0:t.address)&&(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,bv.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,bv.jsx)("span",{children:t.address})]})}),(0,bv.jsx)("td",{style:{padding:"5px 10px"},children:(null===t||void 0===t?void 0:t.linkedin)&&(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,bv.jsx)("i",{className:"fab fa-linkedin"}),(0,bv.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]})})]}),(()=>{const e=[];null!==t&&void 0!==t&&t.portfolio&&e.push({iconClass:"fas fa-globe",name:"Portfolio",url:t.portfolio}),null!==t&&void 0!==t&&t.customLinks&&e.push(...t.customLinks.map(e=>({iconClass:"fas fa-link",name:e.name,url:e.url})));const n=[];for(let t=0;t<e.length;t+=2){const s=e[t],r=e[t+1];n.push((0,bv.jsxs)("tr",{children:[(0,bv.jsx)("td",{style:{padding:"5px 10px"},children:(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,bv.jsx)("i",{className:s.iconClass}),(0,bv.jsx)("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:s.name})]})}),(0,bv.jsx)("td",{style:{padding:"5px 10px"},children:r&&(0,bv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,bv.jsx)("i",{className:r.iconClass}),(0,bv.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:r.name})]})})]},`link-row-${t}`))}return n})()]})})})]}),n&&(0,bv.jsxs)("section",{className:"modern21-section",children:[(0,bv.jsx)("h2",{className:"modern21-section-title",style:{lineHeight:"1.0",wordSpacing:"1px"},children:"Professional Summary"}),(0,bv.jsx)("p",{className:"modern21-summary",style:{lineHeight:"1.3"},children:n})]}),s&&s.length>0&&(0,bv.jsxs)("section",{className:"modern21-section",children:[(0,bv.jsx)("h2",{className:"modern21-section-title",children:"Experience"}),s.map((e,t)=>(0,bv.jsxs)("div",{className:"modern21-experience-item",children:[(0,bv.jsxs)("div",{className:"modern21-experience-header",children:[(0,bv.jsxs)("h3",{className:"modern21-company",style:{marginBottom:"-5px"},children:[e.company," | ",e.position]}),(0,bv.jsxs)("span",{className:"modern21-date",children:[new Date(e.startDate).toLocaleDateString("en-US",{year:"numeric",month:"short"})," -",e.current?"Present":new Date(e.endDate).toLocaleDateString("en-US",{year:"numeric",month:"short"})]})]}),(0,bv.jsx)("div",{className:"modern21-responsibilities",children:e.description&&(0,bv.jsx)("ul",{children:e.description.split("\n").map((e,t)=>(0,bv.jsx)("li",{children:e},t))})})]},e.id||t))]}),r&&r.length>0&&(0,bv.jsxs)("section",{className:"modern21-section",children:[(0,bv.jsx)("h2",{className:"modern21-section-title",children:"Education"}),r.map((e,t)=>(0,bv.jsxs)("div",{className:"modern21-education-item",children:[(0,bv.jsxs)("div",{className:"modern21-education-header",children:[(0,bv.jsx)("h3",{className:"modern21-institution",children:e.institution}),(0,bv.jsxs)("span",{className:"modern21-date",children:[e.startDate&&new Date(e.startDate).getFullYear(),e.startDate&&(e.endDate||e.isPresent)&&" - ",e.endDate?new Date(e.endDate).getFullYear():e.isPresent?"Present":""]})]}),(0,bv.jsxs)("h4",{className:"modern21-degree",style:{fontSize:"0.8em"},children:[e.degree," in ",e.field," - CGPA: ",e.gpa]})]},e.id||t))]}),i&&i.length>0&&Object.keys(c).length>0&&(0,bv.jsxs)("section",{className:"modern21-section",children:[(0,bv.jsx)("h2",{className:"modern21-section-title",children:"Skills"}),(0,bv.jsx)("div",{className:"modern21-skills-container",children:Object.keys(c).map(e=>(0,bv.jsxs)("div",{className:"modern21-skill-category",children:[(0,bv.jsx)("h3",{className:"modern21-skill-category-title",children:Bv(e)}),(0,bv.jsx)("div",{className:"modern21-skills-list",children:c[e].map(e=>(0,bv.jsxs)("span",{className:"modern21-skill-item",children:[e.name,e.level&&"Beginner"!==e.level&&` (${e.level})`]},e.id))})]},e))})]}),a&&a.length>0&&(0,bv.jsxs)("section",{className:"modern21-section",children:[(0,bv.jsx)("h2",{className:"modern21-section-title",children:"Projects"}),a.map((e,t)=>(0,bv.jsxs)("div",{className:"modern21-project-item",children:[(0,bv.jsxs)("div",{className:"modern21-project-header",children:[(0,bv.jsx)("h3",{className:"modern21-project-name",children:e.name}),e.url&&(0,bv.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"modern21-project-link",children:[(0,bv.jsx)("i",{className:"fas fa-external-link-alt"})," View Project"]})]}),e.technologies&&e.technologies.length>0&&(0,bv.jsxs)("p",{className:"modern21-project-tech",children:[(0,bv.jsx)("strong",{children:"Technologies:"})," ",e.technologies.join(", ")]}),(0,bv.jsx)("div",{className:"modern21-project-description",children:e.description&&(0,bv.jsx)("ul",{children:e.description.split("\n").map((e,t)=>(0,bv.jsx)("li",{children:e},t))})})]},e.id||t))]}),o&&o.length>0&&(0,bv.jsxs)("section",{className:"modern21-section",children:[(0,bv.jsx)("h2",{className:"modern21-section-title",children:"Certifications"}),o.map((e,t)=>(0,bv.jsxs)("div",{className:"modern21-certification-item",children:[(0,bv.jsxs)("div",{className:"modern21-certification-header",children:[(0,bv.jsxs)("h3",{className:"modern21-certification-name",children:[e.name," - ",e.issuer]}),(0,bv.jsx)("span",{className:"modern21-date",children:e.date&&new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short"})})]}),e.credentialId&&e.url&&(0,bv.jsxs)("p",{className:"modern21-credential-id",children:["Credential ID: ",e.credentialId," -",(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:" View Credential"})]}),e.credentialId&&!e.url&&(0,bv.jsxs)("p",{className:"modern21-credential-id",children:["Credential ID: ",e.credentialId]})]},e.id||t))]}),l&&l.length>0&&(0,bv.jsxs)("section",{className:"modern21-section",children:[(0,bv.jsx)("h2",{className:"modern21-section-title",children:"Additional Information"}),l.map((e,t)=>(0,bv.jsxs)("div",{className:"corp-additional-info-item",style:{fontSize:"0.8em"},children:[(0,bv.jsx)("span",{className:"info-type",style:{fontWeight:"bold"},children:e.type}),(0,bv.jsxs)("span",{className:"info-description",children:[" | ",e.description]})]},t))]})]})},Cx=e=>{let{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o,additionalInfo:l}=e;const c=zv(i);return(0,bv.jsx)("div",{className:"modern69-container",children:(0,bv.jsx)("div",{className:"modern69-page",children:(0,bv.jsxs)("div",{className:"modern69-column-container",children:[(0,bv.jsxs)("div",{className:"modern69-left-column",children:[(null===t||void 0===t?void 0:t.photoURL)&&(0,bv.jsx)("div",{className:"modern69-photo-section",children:(0,bv.jsx)("img",{src:t.photoURL,alt:"Profile",className:"modern69-profile-photo"})}),(0,bv.jsxs)("section",{className:"modern69-section modern69-contact-section",children:[(0,bv.jsx)("h2",{className:"modern69-section-title",children:"CONTACT"}),(0,bv.jsxs)("div",{className:"modern69-contact-content",children:[(null===t||void 0===t?void 0:t.address)&&(0,bv.jsxs)("div",{className:"modern69-contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-map-marker-alt modern69-contact-icon"}),(0,bv.jsx)("span",{children:t.address})]}),(null===t||void 0===t?void 0:t.phone)&&(0,bv.jsxs)("div",{className:"modern69-contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-phone modern69-contact-icon"}),(0,bv.jsx)("span",{children:t.phone})]}),(null===t||void 0===t?void 0:t.email)&&(0,bv.jsxs)("div",{className:"modern69-contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-envelope modern69-contact-icon"}),(0,bv.jsx)("span",{children:t.email})]}),(null===t||void 0===t?void 0:t.linkedin)&&(0,bv.jsxs)("div",{className:"modern69-contact-item",children:[(0,bv.jsx)("i",{className:"fab fa-linkedin modern69-contact-icon"}),(0,bv.jsx)("span",{children:t.linkedin})]}),(null===t||void 0===t?void 0:t.portfolio)&&(0,bv.jsxs)("div",{className:"modern69-contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-globe modern69-contact-icon"}),(0,bv.jsx)("span",{children:t.portfolio})]}),(null===t||void 0===t?void 0:t.customLinks)&&t.customLinks.map((e,t)=>(0,bv.jsxs)("div",{className:"modern69-contact-item",children:[(0,bv.jsx)("i",{className:"fas fa-link modern69-contact-icon"}),(0,bv.jsxs)("span",{children:[e.name,": ",e.url]})]},t))]})]}),r&&r.length>0&&(0,bv.jsxs)("section",{className:"modern69-section modern69-education-section",children:[(0,bv.jsx)("h2",{className:"modern69-section-title",children:"EDUCATION"}),(0,bv.jsx)("div",{className:"modern69-education-content",children:r.map((e,t)=>(0,bv.jsxs)("div",{className:"modern69-education-item",children:[(0,bv.jsx)("div",{className:"modern69-education-header",children:(0,bv.jsxs)("span",{className:"modern69-education-date",children:[e.startDate&&new Date(e.startDate).getFullYear(),e.startDate&&(e.endDate||e.isPresent)&&" - ",e.endDate?new Date(e.endDate).getFullYear():e.isPresent?"Present":""]})}),(0,bv.jsx)("h3",{className:"modern69-education-institution",children:e.institution}),(0,bv.jsxs)("h4",{className:"modern69-education-degree",children:[e.degree," in ",e.field]}),e.gpa&&(0,bv.jsxs)("p",{className:"modern69-education-gpa",children:["GPA: ",e.gpa]}),e.description&&(0,bv.jsx)("p",{className:"modern69-education-description",children:e.description})]},e.id||t))})]}),o&&o.length>0&&(0,bv.jsxs)("section",{className:"modern69-section modern69-certifications-section",children:[(0,bv.jsx)("h2",{className:"modern69-section-title",children:"CERTIFICATIONS"}),(0,bv.jsx)("div",{className:"modern69-certifications-content",children:o.map((e,t)=>(0,bv.jsxs)("div",{className:"modern69-certification-item",children:[(0,bv.jsxs)("div",{className:"modern69-certification-header",children:[(0,bv.jsx)("h3",{className:"modern69-certification-name",children:e.name}),(0,bv.jsx)("span",{className:"modern69-certification-date",children:e.date&&new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short"})})]}),(0,bv.jsx)("p",{className:"modern69-certification-issuer",children:e.issuer}),e.description&&(0,bv.jsx)("p",{className:"modern69-certification-description",children:e.description}),e.credentialId&&(0,bv.jsxs)("p",{className:"modern69-certification-credential",children:["Credential ID: ",e.credentialId]}),e.url&&(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"modern69-certification-link",children:"View Credential"})]},e.id||t))})]})]}),(0,bv.jsxs)("div",{className:"modern69-right-column",children:[(0,bv.jsx)("header",{className:"modern69-header",children:(0,bv.jsxs)("div",{className:"modern69-header-content",children:[(0,bv.jsx)("h1",{className:"modern69-name",children:(null===t||void 0===t?void 0:t.fullName)||"Your Name"}),(null===t||void 0===t?void 0:t.jobRole)&&(0,bv.jsx)("h2",{className:"modern69-job-title",children:t.jobRole})]})}),n&&(0,bv.jsxs)("section",{className:"modern69-section modern69-profile-section",children:[(0,bv.jsx)("h2",{className:"modern69-section-title",children:"PROFILE"}),(0,bv.jsx)("p",{className:"modern69-profile-summary",children:n})]}),s&&s.length>0&&(0,bv.jsxs)("section",{className:"modern69-section modern69-experience-section",children:[(0,bv.jsx)("h2",{className:"modern69-section-title",children:"WORK EXPERIENCE"}),(0,bv.jsx)("div",{className:"modern69-experience-content",children:s.map((e,t)=>(0,bv.jsxs)("div",{className:"modern69-experience-item",children:[(0,bv.jsxs)("div",{className:"modern69-experience-header",children:[(0,bv.jsx)("h3",{className:"modern69-experience-company",children:e.company}),(0,bv.jsxs)("span",{className:"modern69-experience-date modern69-date-box",children:[new Date(e.startDate).toLocaleDateString("en-US",{year:"numeric",month:"short"})," -",e.current?"NOW":new Date(e.endDate).toLocaleDateString("en-US",{year:"numeric",month:"short"})]})]}),(0,bv.jsx)("h4",{className:"modern69-experience-position",children:e.position}),(0,bv.jsx)("p",{className:"modern69-experience-location",children:e.location}),e.description&&(0,bv.jsx)("div",{className:"modern69-experience-description",children:(0,bv.jsx)("ul",{children:e.description.split("\n").map((e,t)=>(0,bv.jsx)("li",{children:e},t))})})]},e.id||t))})]}),a&&a.length>0&&(0,bv.jsxs)("section",{className:"modern69-section modern69-projects-section",children:[(0,bv.jsx)("h2",{className:"modern69-section-title",children:"PROJECTS"}),(0,bv.jsx)("div",{className:"modern69-projects-content",children:a.map((e,t)=>(0,bv.jsxs)("div",{className:"modern69-project-item",children:[(0,bv.jsxs)("div",{className:"modern69-project-header",children:[(0,bv.jsx)("h3",{className:"modern69-project-name",children:e.name}),e.url&&(0,bv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"modern69-project-link",children:"View Project"})]}),e.technologies&&e.technologies.length>0&&(0,bv.jsxs)("p",{className:"modern69-project-tech",children:[(0,bv.jsx)("strong",{children:"Technologies:"})," ",e.technologies.join(", ")]}),e.description&&(0,bv.jsx)("div",{className:"modern69-project-description",children:(0,bv.jsx)("ul",{children:e.description.split("\n").map((e,t)=>(0,bv.jsx)("li",{children:e},t))})})]},e.id||t))})]}),i&&i.length>0&&Object.keys(c).length>0&&(0,bv.jsxs)("section",{className:"modern69-section modern69-skills-section",children:[(0,bv.jsx)("h2",{className:"modern69-section-title",children:"SKILLS"}),(0,bv.jsx)("div",{className:"modern69-additional-content",children:Object.entries(c).map(e=>{let[t,n]=e;return(0,bv.jsx)("div",{className:"modern69-additional-item",children:(0,bv.jsxs)("p",{className:"modern69-additional-description",children:[(0,bv.jsxs)("strong",{children:[Bv(t)," : "]}),n.map(e=>e.name).join(", ")]})},t)})})]}),l&&l.length>0&&(0,bv.jsxs)("section",{className:"modern69-section modern69-additional-section",children:[(0,bv.jsx)("h2",{className:"modern69-section-title",children:"ADDITIONAL INFORMATION"}),(0,bv.jsx)("div",{className:"modern69-additional-content",children:l.map((e,t)=>(0,bv.jsxs)("div",{className:"modern69-additional-item",children:[(0,bv.jsx)("h3",{className:"modern69-additional-type",children:e.type}),(0,bv.jsx)("p",{className:"modern69-additional-description",children:e.description})]},t))})]})]})]})})})},Ax=()=>{const e=Wv(),{template:t,dispatch:n,...s}=e;return(0,bv.jsxs)("div",{className:"resume-preview",children:[(0,bv.jsxs)("div",{className:"preview-header",children:[(0,bv.jsx)("h3",{children:"Resume Preview"}),(0,bv.jsx)("div",{className:"template-selector",children:(0,bv.jsxs)("select",{value:t,onChange:e=>{n({type:"UPDATE_TEMPLATE",payload:e.target.value})},children:[(0,bv.jsx)("option",{value:Ky,children:"Corporate Professional (with Photo)"}),(0,bv.jsx)("option",{value:Xy,children:"Howard Style - Burgundy Sidebar (with Photo)"}),(0,bv.jsx)("option",{value:Jy,children:"Overleaf Style (Clean ATS)"}),(0,bv.jsx)("option",{value:sx,children:"Professional Modern 2 (With photo)"}),(0,bv.jsx)("option",{value:rx,children:" Modern (Professional with Photo)"}),(0,bv.jsx)("option",{value:ix,children:"Modern (Professional)"}),(0,bv.jsx)("option",{value:ax,children:"Creative Modern (Professional Two-Column Layout)"}),(0,bv.jsx)("option",{value:nx,children:"Professional Modern"})]})})]}),(0,bv.jsx)("div",{className:"preview-content",id:"resume-preview",children:(()=>{switch(t){case $y:return(0,bv.jsx)(dx,{...s});case By:return(0,bv.jsx)(hx,{...s});case Hy:return(0,bv.jsx)(mx,{...s});case qy:return(0,bv.jsx)(px,{...s});case Wy:return(0,bv.jsx)(fx,{...s});case Ky:return(0,bv.jsx)(gx,{...s});case Gy:return(0,bv.jsx)(vx,{...s});case Yy:return(0,bv.jsx)(yx,{...s});case Qy:return(0,bv.jsx)(xx,{...s});case Xy:return(0,bv.jsx)(bx,{...s});case Jy:return(0,bv.jsx)(wx,{...s});case ex:return(0,bv.jsx)(Nx,{...s});case tx:return(0,bv.jsx)(jx,{...s});case Zy:return(0,bv.jsx)(_x,{...s});case nx:return(0,bv.jsx)(kx,{...s});case sx:return(0,bv.jsx)(Sx,{...s});case rx:return(0,bv.jsx)(Ix,{...s});case ix:return(0,bv.jsx)(Tx,{...s});case ax:return(0,bv.jsx)(Cx,{...s});default:return(0,bv.jsx)(gx,{...s})}})()})]})},Rx=()=>{const{certifications:e,addCertification:t,updateCertification:n,removeCertification:s}=Wv(),r=(e,t,s)=>{n(e,{[t]:s})};return(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsxs)("div",{className:"section-header",style:{marginBottom:"10px"},children:[(0,bv.jsx)("h3",{children:"Certification"}),(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:()=>{t()},children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Add Certification"]})]}),(0,bv.jsx)("p",{className:"section-description",children:"Add your professional certifications, licenses, and credentials."}),(0,bv.jsx)("div",{className:"dynamic-list",children:e.map((e,t)=>(0,bv.jsxs)("div",{className:"dynamic-list-item",children:[(0,bv.jsxs)("div",{className:"dynamic-list-item-header",children:[(0,bv.jsxs)("h4",{className:"dynamic-list-item-title",children:["Certification ",t+1]}),(0,bv.jsx)("div",{className:"dynamic-list-item-actions",children:(0,bv.jsxs)(Jv,{variant:"danger",size:"sm",onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to remove this certification?")&&s(t));var t},children:[(0,bv.jsx)("i",{className:"fas fa-trash"}),"Remove"]})})]}),(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsxs)("div",{className:"form-row",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{className:"form-label",children:"Certification Name *"}),(0,bv.jsx)("input",{type:"text",value:e.name,onChange:t=>r(e.id,"name",t.target.value),className:"form-control",placeholder:"e.g., AWS Certified Developer"})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{className:"form-label",children:"Issuing Organization *"}),(0,bv.jsx)("input",{type:"text",value:e.issuer,onChange:t=>r(e.id,"issuer",t.target.value),className:"form-control",placeholder:"e.g., Amazon Web Services"})]})]}),(0,bv.jsxs)("div",{className:"form-row",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{className:"form-label",children:"Date Obtained"}),(0,bv.jsx)("input",{type:"month",value:e.date,onChange:t=>r(e.id,"date",t.target.value),className:"form-control"})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{className:"form-label",children:"Credential ID"}),(0,bv.jsx)("input",{type:"text",value:e.credentialId,onChange:t=>r(e.id,"credentialId",t.target.value),className:"form-control",placeholder:"Certificate ID or Badge Number"})]})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{className:"form-label",children:"Verification URL"}),(0,bv.jsx)("input",{type:"url",value:e.url,onChange:t=>r(e.id,"url",t.target.value),className:"form-control",placeholder:"https://certification-verification-url.com"}),(0,bv.jsx)("div",{className:"form-help",children:"Link to verify the certification online"})]})]})]},e.id))})]})},Px=()=>{const{additionalInfo:e,addAdditionalInfo:t,updateAdditionalInfo:n,removeAdditionalInfo:s}=Wv(),r=(e,t,s)=>{n(e,{[t]:s})},i=["Workshop/Seminar","Volunteering","Awards","Industry Visit"];return(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsxs)("div",{className:"section-header",style:{marginBottom:"10px"},children:[(0,bv.jsx)("h3",{children:"Additional Information"}),(0,bv.jsxs)(Jv,{variant:"secondary",size:"small",onClick:()=>{t()},children:[(0,bv.jsx)("i",{className:"fas fa-plus"})," Additional Information"]})]}),(0,bv.jsx)("p",{className:"section-description",children:"Add additional information such as workshops, volunteering experience, awards, or industry visits."}),(0,bv.jsx)("div",{className:"dynamic-list",children:e.map((e,t)=>(0,bv.jsxs)("div",{className:"dynamic-list-item",children:[(0,bv.jsxs)("div",{className:"dynamic-list-item-header",children:[(0,bv.jsxs)("h4",{className:"dynamic-list-item-title",children:["Additional Information ",t+1]}),(0,bv.jsx)("div",{className:"dynamic-list-item-actions",children:(0,bv.jsxs)(Jv,{variant:"danger",size:"sm",onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to remove this additional information?")&&s(t));var t},children:[(0,bv.jsx)("i",{className:"fas fa-trash"}),"Remove"]})})]}),(0,bv.jsxs)("div",{className:"form-section",children:[(0,bv.jsx)("div",{className:"form-row",children:(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{className:"form-label",children:"Type *"}),(0,bv.jsx)("select",{value:e.type,onChange:t=>r(e.id,"type",t.target.value),className:"form-control",children:i.map(e=>(0,bv.jsx)("option",{value:e,children:e},e))})]})}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{className:"form-label",children:"Description *"}),(0,bv.jsx)("textarea",{value:e.description,onChange:t=>r(e.id,"description",t.target.value),className:"form-control",placeholder:"Describe your workshop/seminar, volunteering experience, award, or industry visit...",rows:"4"}),(0,bv.jsx)("div",{className:"form-help",children:"Provide details about your experience, achievement, or participation"})]})]})]},e.id))})]})};const Dx=new class{constructor(){this.isLibrariesLoaded=!1,this.checkLibraries()}checkLibraries(){return this.isLibrariesLoaded=!(!window.html2canvas||!window.jspdf),this.isLibrariesLoaded}async waitForLibraries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;const t=Date.now();for(;!this.checkLibraries()&&Date.now()-t<e;)await new Promise(e=>setTimeout(e,100));if(!this.isLibrariesLoaded)throw new Error("PDF libraries failed to load. Please refresh the page and try again.");return!0}async exportToPDF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{await this.waitForLibraries();const{elementId:t="resume-preview",filename:n="resume.pdf",quality:s=2,format:r="a4",orientation:i="portrait",margin:a=10}=e,o=document.getElementById(t);if(!o)throw new Error("Resume preview not found. Please ensure the resume is loaded.");this.showLoadingState(!0);const l={scale:s,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",logging:!1,width:794,height:1123,scrollX:0,scrollY:0,windowWidth:794,windowHeight:1123,onclone:e=>{const n=e.getElementById(t);n&&(n.style.overflow="visible",n.style.height="auto",n.style.width="794px",n.style.maxWidth="794px");const s=e.createElement("style");s.type="text/css",s.innerHTML="\n            @media print {\n              * {\n                overflow: visible !important;\n              }\n              body {\n                zoom: 1 !important;\n                transform: none !important;\n                width: 794px !important;\n                max-width: 794px !important;\n              }\n              .resume-template, .t12-container, .template1-resume, .modern69-container, .modern21-container, .howard-template, .daniel-template, .t31-container {\n                width: 794px !important;\n                max-width: 794px !important;\n                min-width: 794px !important;\n              }\n            }\n          ",e.head.appendChild(s)}},c=await window.html2canvas(o,l),u=c.toDataURL("image/png",1),{jsPDF:d}=window.jspdf,h=new d({orientation:i,unit:"mm",format:r,compress:!0}),m=h.internal.pageSize.getWidth(),p=h.internal.pageSize.getHeight(),f=m-2*a,g=p-2*a,v=f/c.width,y=g/c.height,x=Math.min(v,y,1),b=c.width*x,w=c.height*x,N=a+(f-b)/2,j=a+(g-w)/2;if(w<=g)h.addImage(u,"PNG",N,j,b,w);else{const e=g/w*c.height;let t=0,n=1;for(;t<c.height;){n>1&&h.addPage();const s=c.height-t,r=Math.min(e,s),i=document.createElement("canvas");i.width=c.width,i.height=r;i.getContext("2d").drawImage(c,0,t,c.width,r,0,0,c.width,r);const a=i.toDataURL("image/png",1);h.addImage(a,"PNG",N,j,b,r/c.height*w),t+=e,n++}}return h.setProperties({title:"Professional Resume",subject:"Resume Document",author:"Resume Builder",creator:"Resume Builder App",producer:"Resume Builder PDF Export"}),h.save(n),this.showLoadingState(!1),{success:!0,message:"Resume exported successfully!",filename:n}}catch(t){return this.showLoadingState(!1),console.error("PDF Export Error:",t),{success:!1,error:t.message||"Failed to export PDF. Please try again.",details:t}}}showLoadingState(e){const t=document.getElementById("pdf-loading");t&&(t.style.display=e?"flex":"none")}validateResumeData(e){var t,n,s,r;const i=[];if(null!==(t=e.personalInfo)&&void 0!==t&&null!==(n=t.fullName)&&void 0!==n&&n.trim()||i.push("Full name is required"),null!==(s=e.personalInfo)&&void 0!==s&&null!==(r=s.email)&&void 0!==r&&r.trim()||i.push("Email is required"),i.length>0)throw new Error(`Please complete the following fields before exporting:\n${i.join("\n")}`);return!0}getSuggestedFilename(e){var t,n;const s=null===(t=e.personalInfo)||void 0===t||null===(n=t.fullName)||void 0===n?void 0:n.trim();if(s){return`${s.replace(/[^a-zA-Z0-9]/g,"_")}_Resume_${(new Date).toISOString().split("T")[0]}.pdf`}return`Resume_${(new Date).toISOString().split("T")[0]}.pdf`}async exportResumeWithValidation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.validateResumeData(e);const n=this.getSuggestedFilename(e);return await this.exportToPDF({filename:n,...t})}catch(n){return{success:!1,error:n.message,details:n}}}},Ox={technology:["javascript","python","java","react","node.js","aws","docker","kubernetes","microservices","api","database","sql","nosql","git","agile","scrum","devops","ci/cd","cloud","machine learning","ai","data science","frontend","backend","full-stack","mobile","ios","android","web development"],marketing:["digital marketing","seo","sem","social media","content marketing","email marketing","analytics","google analytics","facebook ads","google ads","conversion optimization","brand management","campaign management","lead generation","crm","marketing automation"],finance:["financial analysis","accounting","budgeting","forecasting","excel","financial modeling","risk management","compliance","audit","gaap","ifrs","tax","investment","portfolio","derivatives","banking","insurance","financial planning","treasury"],sales:["sales","business development","lead generation","crm","salesforce","pipeline management","account management","client relations","negotiation","closing","prospecting","cold calling","relationship building","quota achievement","revenue growth"],healthcare:["patient care","medical","clinical","healthcare","nursing","diagnosis","treatment","medical records","hipaa","pharmaceutical","medical devices","surgery","therapy","rehabilitation","emergency medicine","preventive care","health informatics"]},Lx=["achieved","accelerated","accomplished","advanced","analyzed","built","created","delivered","developed","directed","drove","enhanced","established","executed","generated","implemented","improved","increased","initiated","launched","led","managed","optimized","organized","pioneered","reduced","resolved","streamlined","strengthened","supervised","transformed","upgraded"],Mx=["%","percent","million","thousand","billion","$","revenue","sales","growth","increase","decrease","reduction","improvement","efficiency","productivity","roi","kpi","metric","target","goal","benchmark","performance"],Ux={phd:100,doctorate:100,"ph.d":100,master:85,mba:90,ms:85,ma:85,"m.s":85,"m.a":85,bachelor:70,bs:70,ba:70,"b.s":70,"b.a":70,associate:50,diploma:40,certificate:30},Fx={harvard:100,stanford:100,mit:100,yale:100,princeton:100,columbia:95,"university of chicago":95,caltech:95,cornell:95,duke:90,northwestern:90,"johns hopkins":90,vanderbilt:90},Vx=e=>{const{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o}=e;let l="";return t&&(l+=`${t.fullName||""} ${t.email||""} ${t.phone||""} `,l+=`${t.location||""} ${t.jobTitle||""} `),n&&(l+=`${n} `),s&&s.length>0&&s.forEach(e=>{l+=`${e.position||""} ${e.company||""} ${e.description||""} `,l+=`${e.responsibilities||""} `}),r&&r.length>0&&r.forEach(e=>{l+=`${e.degree||""} ${e.field||""} ${e.institution||""} `}),i&&(i.technical&&(l+=i.technical.join(" ")+" "),i.soft&&(l+=i.soft.join(" ")+" "),i.languages&&(l+=i.languages.join(" ")+" ")),a&&a.length>0&&a.forEach(e=>{l+=`${e.name||""} ${e.description||""} `,e.technologies&&(l+=e.technologies.join(" ")+" ")}),o&&o.length>0&&o.forEach(e=>{l+=`${e.name||""} ${e.issuer||""} `}),l.toLowerCase()},zx=function(e){const t={industryMatch:0,actionVerbs:0,quantifiableMetrics:0,keywordDensity:0,relevantKeywords:[],missingKeywords:[]};let n="general",s=0;Object.keys(Ox).forEach(t=>{const r=Ox[t].filter(t=>e.includes(t.toLowerCase())).length;r>s&&(s=r,n=t)});const r=Ox[n]||[],i=r.filter(t=>e.includes(t.toLowerCase()));t.industryMatch=Math.min(i.length/r.length*100,100),t.relevantKeywords=i,t.missingKeywords=r.filter(t=>!e.includes(t.toLowerCase())).slice(0,10);const a=Lx.filter(t=>e.includes(t.toLowerCase())).length;t.actionVerbs=Math.min(a/10*100,100);const o=Mx.filter(t=>e.includes(t.toLowerCase())).length;t.quantifiableMetrics=Math.min(o/5*100,100);const l=e.split(/\s+/).length,c=i.length+a;return t.keywordDensity=l>0?c/l*100:0,{analysis:t,detectedIndustry:n}},$x=e=>{if(!e||0===e.length)return{score:0,feedback:["Add education details to improve your score"]};let t=0,n=0;const s=[];e.forEach(e=>{let r=0;const i=(e.degree||"").toLowerCase(),a=Object.keys(Ux).find(e=>i.includes(e));a?r+=Ux[a]:s.push(`Specify your degree type more clearly: "${e.degree}"`);const o=(e.institution||"").toLowerCase(),l=Object.keys(Fx).find(e=>o.includes(e));if(l&&(r+=.3*Fx[l]),e.gpa&&parseFloat(e.gpa)>=3.5&&(r+=20),e.graduationYear){(new Date).getFullYear()-parseInt(e.graduationYear)<=5&&(r+=10)}t+=r,n+=130});const r=n>0?t/n*100:0;return r<50&&s.push("Consider adding more prestigious institutions or higher degrees"),{score:Math.min(r,100),feedback:s}},Bx=(e,t)=>{if(!e||0===e.length)return{score:0,feedback:["Add work experience to improve your score"]};let n=0;const s=[],r=e.length;n+=Math.min(15*r,60);let i=0;e.forEach(e=>{const t=(e.position||"").toLowerCase();t.includes("senior")||t.includes("lead")||t.includes("manager")?i+=20:t.includes("junior")||t.includes("intern")?i+=5:i+=10;const n=(e.description||"").toLowerCase();n.length>100&&(i+=10),n.length>200&&(i+=10);const s=(e.company||"").toLowerCase();(s.includes("inc")||s.includes("corp")||s.includes("ltd"))&&(i+=5)}),n+=Math.min(i,40),r<2&&s.push("Add more work experience entries to strengthen your profile");return e.reduce((t,n)=>((n.description||"").length,0/e.length))<100&&s.push("Expand your job descriptions with more details and achievements"),{score:Math.min(n,100),feedback:s}},Hx=e=>{var t,n;const{personalInfo:s,summary:r,experience:i,education:a,skills:o}=e;let l=0;const c=[];if(s?(s.fullName&&s.fullName.split(" ").length>=2?l+=10:c.push("Use your full name (first and last name)"),s.email&&s.email.includes("@")?l+=10:c.push("Add a valid email address"),s.phone?l+=5:c.push("Add your phone number"),s.location?l+=5:c.push("Add your location/city"),s.jobTitle?l+=10:c.push("Add a professional job title")):c.push("Complete your personal information section"),r&&r.length>=50?l+=15:c.push("Add a professional summary (at least 50 characters)"),i&&i.length>0?l+=20:c.push("Add work experience entries"),a&&a.length>0?l+=15:c.push("Add education details"),o&&((null===(t=o.technical)||void 0===t?void 0:t.length)>0||(null===(n=o.soft)||void 0===n?void 0:n.length)>0)?l+=10:c.push("Add relevant skills"),i&&i.length>0){i.some(e=>(e.description||"").length>100)?l+=15:c.push("Add more detailed job descriptions")}return{score:Math.min(l,100),feedback:c}},qx=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!My())return{score:50,feedback:["AI analysis unavailable - configure Gemini API for advanced analysis"],aiAnalysis:null};try{var n,s,r,i,a;const o=Vx(e),l=`Analyze this resume for ATS compatibility and professional quality. Provide a score (0-100) and specific feedback.\n\nResume Content:\n${o.substring(0,2e3)} ${o.length>2e3?"...":""}\n\n${t?`Job Description: ${t.substring(0,500)}`:""}\n\nAnalyze for:\n1. Professional language and tone\n2. Achievement-oriented content\n3. Industry relevance\n4. Quantifiable results\n5. ATS keyword optimization\n6. Content structure and flow\n\nProvide response in this format:\nSCORE: [0-100]\nSTRENGTHS: [2-3 key strengths]\nIMPROVEMENTS: [3-4 specific improvements]\nKEYWORDS: [5-8 missing important keywords]`,c=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=AIzaSyDiY5QHNaKePD0Q5FoYP-5T50cmCYpKeTo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{temperature:.7,topK:1,topP:1,maxOutputTokens:200}})});if(!c.ok)throw new Error(`API request failed with status ${c.status}`);const u=(null===(n=(await c.json()).candidates)||void 0===n||null===(s=n[0])||void 0===s||null===(r=s.content)||void 0===r||null===(i=r.parts)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.text)||"Analysis completed",d=u.match(/SCORE:\s*(\d+)/i),h=d?parseInt(d[1]):75,m=u.match(/STRENGTHS:\s*(.*?)(?=IMPROVEMENTS:|$)/is),p=m?m[1].trim().split("\n").filter(e=>e.trim()):[],f=u.match(/IMPROVEMENTS:\s*(.*?)(?=KEYWORDS:|$)/is),g=f?f[1].trim().split("\n").filter(e=>e.trim()):[],v=u.match(/KEYWORDS:\s*(.*?)$/is),y=v?v[1].trim().split("\n").filter(e=>e.trim()):[];return{score:Math.min(Math.max(h,0),100),feedback:[...g.slice(0,4)],aiAnalysis:{strengths:p.slice(0,3),improvements:g.slice(0,4),missingKeywords:y.slice(0,8),fullResponse:u}}}catch(o){return console.error("AI analysis error:",o),{score:60,feedback:["AI analysis failed - using basic analysis"],aiAnalysis:null}}},Wx=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=Date.now(),s=Vx(e),[r,i,a,o,l]=await Promise.all([Promise.resolve(zx(s,t)),Promise.resolve($x(e.education)),Promise.resolve(Bx(e.experience)),Promise.resolve(Hx(e)),qx(e,t)]),c=.25,u=.25,d=.15,h=.15,m=.2,p=Math.round(r.analysis.industryMatch*c+a.score*u+i.score*d+o.score*h+l.score*m),f=[...o.feedback,...a.feedback,...i.feedback,...l.feedback],g=[];p<60?g.push("\ud83d\udea8 Critical: Your resume needs significant improvements for ATS compatibility"):p<80?g.push("\u26a0\ufe0f Good: Your resume is decent but has room for improvement"):g.push("\u2705 Excellent: Your resume is well-optimized for ATS systems"),r.analysis.missingKeywords.length>0&&g.push(`\ud83d\udd11 Add these ${r.detectedIndustry} keywords: ${r.analysis.missingKeywords.slice(0,5).join(", ")}`);const v=Date.now()-n;return{overallScore:p,detailedScores:{keywordRelevance:Math.round(r.analysis.industryMatch),experienceQuality:a.score,educationBackground:i.score,formattingStructure:o.score,contentQuality:l.score},industryDetected:r.detectedIndustry,keywordAnalysis:r.analysis,suggestions:f.slice(0,8),prioritySuggestions:g,aiInsights:l.aiAnalysis,analysisMetrics:{processingTime:`${v}ms`,wordsAnalyzed:s.split(/\s+/).length,sectionsAnalyzed:5,aiPowered:My()}}},Kx=e=>{let{isOpen:t,onClose:n,atsResult:s,onFileUpload:i}=e;const[a,o]=(0,r.useState)("overview"),[l,c]=(0,r.useState)("current"),[u,d]=(0,r.useState)(!1),[h,m]=(0,r.useState)("");(0,r.useEffect)(()=>{s?(c("current"),m("")):t&&c("upload")},[s,t]);const p=async e=>{const t=e.target.files[0];if(!t)return;const n=t.name.toLowerCase(),s=t.type;if(n.endsWith(".txt")||n.endsWith(".pdf")||"text/plain"===s||"application/pdf"===s)if(t.size>10485760)m("File size must be less than 10MB");else{d(!0),m("");try{i&&await i(t)}catch(r){console.error("File upload error:",r),m(r.message||"Failed to process file. Please try again.")}finally{d(!1)}}else m("Please upload a TXT or PDF file. TXT files are recommended for best results.")};if(!t)return null;if(!s)return(0,bv.jsx)("div",{className:"ats-modal-overlay",onClick:n,children:(0,bv.jsxs)("div",{className:"ats-modal advanced upload-mode",onClick:e=>e.stopPropagation(),children:[(0,bv.jsxs)("div",{className:"ats-modal-header",children:[(0,bv.jsx)("h2",{children:"\ud83c\udfaf Advanced ATS Analysis"}),(0,bv.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]}),(0,bv.jsx)("div",{className:"ats-upload-section",children:(0,bv.jsx)("div",{className:"upload-options",children:(0,bv.jsxs)("div",{className:"upload-option",children:[(0,bv.jsx)("div",{className:"upload-icon",children:"\ud83d\udcc4"}),(0,bv.jsx)("h3",{children:"Upload Resume for Analysis"}),(0,bv.jsx)("p",{children:"Upload your resume file to get comprehensive ATS scoring and recommendations. For best results, save your resume as a TXT file first!"}),(0,bv.jsxs)("div",{className:"file-upload-area",children:[(0,bv.jsx)("input",{type:"file",id:"resume-upload",accept:".pdf,.txt,application/pdf,text/plain",onChange:p,style:{display:"none"},disabled:u}),(0,bv.jsxs)(Jv,{variant:"primary",onClick:()=>document.getElementById("resume-upload").click(),disabled:u,className:"upload-btn",children:[(0,bv.jsx)("i",{className:u?"fas fa-spinner fa-spin":"fas fa-upload"}),u?"Processing...":"Choose Resume File"]}),(0,bv.jsxs)("div",{className:"upload-info",children:[(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Recommended:"})," TXT files for best results"]}),(0,bv.jsx)("p",{children:"Supported formats: PDF, TXT | Maximum file size: 10MB"})]}),h&&(0,bv.jsxs)("div",{className:"upload-error",children:[(0,bv.jsx)("i",{className:"fas fa-exclamation-triangle"}),h]})]})]})})}),(0,bv.jsx)("div",{className:"ats-modal-footer",children:(0,bv.jsx)(Jv,{variant:"secondary",onClick:n,children:"Cancel"})})]})});const f=e=>e>=80?"#10b981":e>=60?"#f59e0b":"#ef4444",g=e=>e>=90?"A+":e>=80?"A":e>=70?"B":e>=60?"C":e>=50?"D":"F",v=e=>{let{score:t,label:n,size:s=80}=e;return(0,bv.jsxs)("div",{className:"score-circle-container",children:[(0,bv.jsx)("div",{className:"score-circle",style:{width:s,height:s,background:`conic-gradient(${f(t)} ${3.6*t}deg, #e5e7eb 0deg)`},children:(0,bv.jsxs)("div",{className:"score-inner",children:[(0,bv.jsx)("span",{className:"score-number",children:t}),(0,bv.jsx)("span",{className:"score-grade",children:g(t)})]})}),(0,bv.jsx)("p",{className:"score-label",children:n})]})};return(0,bv.jsx)("div",{className:"ats-modal-overlay",onClick:n,children:(0,bv.jsxs)("div",{className:"ats-modal advanced",onClick:e=>e.stopPropagation(),children:[(0,bv.jsxs)("div",{className:"ats-modal-header",children:[(0,bv.jsx)("h2",{children:"\ud83c\udfaf Advanced ATS Analysis"}),(0,bv.jsxs)("div",{className:"header-controls",children:[(0,bv.jsxs)("div",{className:"mode-toggle",children:[(0,bv.jsx)("button",{className:"mode-btn "+("current"===l?"active":""),onClick:()=>c("current"),children:"Current Resume"}),(0,bv.jsx)("button",{className:"mode-btn "+("upload"===l?"active":""),onClick:()=>c("upload"),children:"Upload File"})]}),(0,bv.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]})]}),(0,bv.jsxs)("div",{className:"ats-tabs",children:[(0,bv.jsx)("button",{className:"tab-btn "+("overview"===a?"active":""),onClick:()=>o("overview"),children:"\ud83d\udcca Overview"}),(0,bv.jsx)("button",{className:"tab-btn "+("keywords"===a?"active":""),onClick:()=>o("keywords"),children:"\ud83d\udd11 Keywords"}),(0,bv.jsx)("button",{className:"tab-btn "+("suggestions"===a?"active":""),onClick:()=>o("suggestions"),children:"\ud83d\udca1 Suggestions"}),(0,bv.jsx)("button",{className:"tab-btn "+("analytics"===a?"active":""),onClick:()=>o("analytics"),children:"\ud83d\udcc8 Analytics"})]}),"upload"===l&&(0,bv.jsx)("div",{className:"ats-upload-section",children:(0,bv.jsx)("div",{className:"upload-options",children:(0,bv.jsxs)("div",{className:"upload-option",children:[(0,bv.jsx)("div",{className:"upload-icon",children:"\ud83d\udcc4"}),(0,bv.jsx)("h3",{children:"Upload Resume for Analysis"}),(0,bv.jsx)("p",{children:"Upload a different resume file to compare ATS scores. TXT files work best!"}),(0,bv.jsxs)("div",{className:"file-upload-area",children:[(0,bv.jsx)("input",{type:"file",id:"resume-upload-modal",accept:".pdf,.txt,application/pdf,text/plain",onChange:p,style:{display:"none"},disabled:u}),(0,bv.jsxs)(Jv,{variant:"primary",onClick:()=>document.getElementById("resume-upload-modal").click(),disabled:u,className:"upload-btn",children:[(0,bv.jsx)("i",{className:u?"fas fa-spinner fa-spin":"fas fa-upload"}),u?"Processing...":"Choose Resume File"]}),(0,bv.jsxs)("div",{className:"upload-info",children:[(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Recommended:"})," TXT files for best results"]}),(0,bv.jsx)("p",{children:"Supported formats: PDF, TXT | Maximum file size: 10MB"})]}),h&&(0,bv.jsxs)("div",{className:"upload-error",children:[(0,bv.jsx)("i",{className:"fas fa-exclamation-triangle"}),h]})]})]})})}),"current"===l&&(0,bv.jsxs)("div",{className:"ats-content",children:["overview"===a&&(0,bv.jsxs)("div",{className:"ats-overview",children:[(0,bv.jsxs)("div",{className:"main-score-section",children:[(0,bv.jsx)(v,{score:s.overallScore,label:"Overall ATS Score",size:120}),(0,bv.jsxs)("div",{className:"score-interpretation",children:[(0,bv.jsxs)("h4",{children:["Industry Detected: ",(0,bv.jsx)("span",{className:"industry-tag",children:s.industryDetected})]}),(0,bv.jsx)("div",{className:"priority-suggestions",children:s.prioritySuggestions.map((e,t)=>(0,bv.jsx)("div",{className:"priority-item",children:e},t))})]})]}),(0,bv.jsxs)("div",{className:"detailed-scores",children:[(0,bv.jsx)("h4",{children:"Detailed Breakdown"}),(0,bv.jsxs)("div",{className:"score-grid",children:[(0,bv.jsx)(v,{score:s.detailedScores.keywordRelevance,label:"Keyword Match",size:70}),(0,bv.jsx)(v,{score:s.detailedScores.experienceQuality,label:"Experience",size:70}),(0,bv.jsx)(v,{score:s.detailedScores.educationBackground,label:"Education",size:70}),(0,bv.jsx)(v,{score:s.detailedScores.formattingStructure,label:"Structure",size:70}),(0,bv.jsx)(v,{score:s.detailedScores.contentQuality,label:"Content Quality",size:70})]})]})]}),"keywords"===a&&(0,bv.jsxs)("div",{className:"ats-keywords",children:[(0,bv.jsxs)("div",{className:"keyword-stats",children:[(0,bv.jsxs)("div",{className:"stat-item",children:[(0,bv.jsx)("span",{className:"stat-number",children:s.keywordAnalysis.relevantKeywords.length}),(0,bv.jsx)("span",{className:"stat-label",children:"Keywords Found"})]}),(0,bv.jsxs)("div",{className:"stat-item",children:[(0,bv.jsxs)("span",{className:"stat-number",children:[s.keywordAnalysis.actionVerbs.toFixed(0),"%"]}),(0,bv.jsx)("span",{className:"stat-label",children:"Action Verbs"})]}),(0,bv.jsxs)("div",{className:"stat-item",children:[(0,bv.jsxs)("span",{className:"stat-number",children:[s.keywordAnalysis.quantifiableMetrics.toFixed(0),"%"]}),(0,bv.jsx)("span",{className:"stat-label",children:"Metrics Used"})]})]}),(0,bv.jsxs)("div",{className:"keyword-sections",children:[(0,bv.jsxs)("div",{className:"keyword-section",children:[(0,bv.jsxs)("h4",{children:["\u2705 Keywords Found (",s.keywordAnalysis.relevantKeywords.length,")"]}),(0,bv.jsx)("div",{className:"keyword-tags",children:s.keywordAnalysis.relevantKeywords.slice(0,15).map((e,t)=>(0,bv.jsx)("span",{className:"keyword-tag found",children:e},t))})]}),(0,bv.jsxs)("div",{className:"keyword-section",children:[(0,bv.jsxs)("h4",{children:["\u274c Missing Keywords (",s.keywordAnalysis.missingKeywords.length,")"]}),(0,bv.jsx)("div",{className:"keyword-tags",children:s.keywordAnalysis.missingKeywords.slice(0,15).map((e,t)=>(0,bv.jsx)("span",{className:"keyword-tag missing",children:e},t))}),(0,bv.jsx)("p",{className:"keyword-tip",children:"\ud83d\udca1 Add these keywords naturally in your experience descriptions and skills section"})]})]})]}),"suggestions"===a&&(0,bv.jsxs)("div",{className:"ats-suggestions",children:[(0,bv.jsx)("h4",{children:"\ud83c\udfaf Improvement Recommendations"}),(0,bv.jsx)("div",{className:"suggestions-list",children:s.suggestions.map((e,t)=>(0,bv.jsxs)("div",{className:"suggestion-item",children:[(0,bv.jsx)("span",{className:"suggestion-icon",children:"\ud83d\udca1"}),(0,bv.jsx)("span",{className:"suggestion-text",children:e})]},t))}),s.aiInsights&&(0,bv.jsxs)("div",{className:"ai-insights",children:[(0,bv.jsx)("h4",{children:"\ud83e\udd16 AI-Powered Insights"}),s.aiInsights.strengths.length>0&&(0,bv.jsxs)("div",{className:"insight-section",children:[(0,bv.jsx)("h5",{children:"\u2705 Strengths"}),(0,bv.jsx)("ul",{children:s.aiInsights.strengths.map((e,t)=>(0,bv.jsx)("li",{children:e},t))})]}),s.aiInsights.improvements.length>0&&(0,bv.jsxs)("div",{className:"insight-section",children:[(0,bv.jsx)("h5",{children:"\ud83d\udd27 Areas for Improvement"}),(0,bv.jsx)("ul",{children:s.aiInsights.improvements.map((e,t)=>(0,bv.jsx)("li",{children:e},t))})]}),s.aiInsights.missingKeywords.length>0&&(0,bv.jsxs)("div",{className:"insight-section",children:[(0,bv.jsx)("h5",{children:"\ud83d\udd11 AI-Suggested Keywords"}),(0,bv.jsx)("div",{className:"keyword-tags",children:s.aiInsights.missingKeywords.map((e,t)=>(0,bv.jsx)("span",{className:"keyword-tag ai-suggested",children:e},t))})]})]})]}),"analytics"===a&&(0,bv.jsxs)("div",{className:"ats-analytics",children:[(0,bv.jsx)("h4",{children:"\ud83d\udcca Analysis Metrics"}),(0,bv.jsxs)("div",{className:"metrics-grid",children:[(0,bv.jsxs)("div",{className:"metric-card",children:[(0,bv.jsx)("span",{className:"metric-value",children:s.analysisMetrics.processingTime}),(0,bv.jsx)("span",{className:"metric-label",children:"Processing Time"})]}),(0,bv.jsxs)("div",{className:"metric-card",children:[(0,bv.jsx)("span",{className:"metric-value",children:s.analysisMetrics.wordsAnalyzed}),(0,bv.jsx)("span",{className:"metric-label",children:"Words Analyzed"})]}),(0,bv.jsxs)("div",{className:"metric-card",children:[(0,bv.jsx)("span",{className:"metric-value",children:s.analysisMetrics.sectionsAnalyzed}),(0,bv.jsx)("span",{className:"metric-label",children:"Sections Checked"})]}),(0,bv.jsxs)("div",{className:"metric-card",children:[(0,bv.jsx)("span",{className:"metric-value",children:s.analysisMetrics.aiPowered?"\u2705":"\u274c"}),(0,bv.jsx)("span",{className:"metric-label",children:"AI Enhanced"})]})]}),(0,bv.jsxs)("div",{className:"comparison-section",children:[(0,bv.jsx)("h5",{children:"\ud83d\udcc8 Industry Benchmarks"}),(0,bv.jsxs)("div",{className:"benchmark-item",children:[(0,bv.jsxs)("span",{children:["Average ATS Score (",s.industryDetected,")"]}),(0,bv.jsxs)("div",{className:"benchmark-bar",children:[(0,bv.jsx)("div",{className:"benchmark-fill",style:{width:"65%"}}),(0,bv.jsx)("span",{className:"benchmark-value",children:"65"})]})]}),(0,bv.jsxs)("div",{className:"benchmark-item",children:[(0,bv.jsx)("span",{children:"Your Score"}),(0,bv.jsxs)("div",{className:"benchmark-bar",children:[(0,bv.jsx)("div",{className:"benchmark-fill your-score",style:{width:`${s.overallScore}%`,backgroundColor:f(s.overallScore)}}),(0,bv.jsx)("span",{className:"benchmark-value",children:s.overallScore})]})]})]})]})]}),(0,bv.jsx)("div",{className:"ats-modal-footer",children:(0,bv.jsx)(Jv,{variant:"secondary",onClick:n,children:"Close Analysis"})})]})})},Gx={spelling:[{pattern:/\brecieve\b/gi,correction:"receive",type:"spelling"},{pattern:/\baccomplishements\b/gi,correction:"accomplishments",type:"spelling"},{pattern:/\bresponsibilites\b/gi,correction:"responsibilities",type:"spelling"},{pattern:/\bexperiance\b/gi,correction:"experience",type:"spelling"},{pattern:/\bmanagment\b/gi,correction:"management",type:"spelling"},{pattern:/\bdevelopement\b/gi,correction:"development",type:"spelling"},{pattern:/\borganisation\b/gi,correction:"organization",type:"spelling"},{pattern:/\bseperate\b/gi,correction:"separate",type:"spelling"},{pattern:/\boccured\b/gi,correction:"occurred",type:"spelling"},{pattern:/\bsuccessfull\b/gi,correction:"successful",type:"spelling"}],grammar:[{pattern:/\bi am\b/gi,correction:"Remove first person (use action verbs)",type:"grammar"},{pattern:/\bmy\b/gi,correction:"Remove personal pronouns",type:"grammar"},{pattern:/\bwe\b/gi,correction:'Use "I" or action verbs instead',type:"grammar"},{pattern:/\bthat\s+that\b/gi,correction:'Remove duplicate "that"',type:"grammar"},{pattern:/\bvery\s+\w+/gi,correction:'Use stronger adjectives instead of "very"',type:"grammar"},{pattern:/\ba\s+[aeiou]/gi,correction:'Use "an" before vowel sounds',type:"grammar"},{pattern:/\ban\s+[bcdfghjklmnpqrstvwxyz]/gi,correction:'Use "a" before consonant sounds',type:"grammar"}],punctuation:[{pattern:/\s+,/g,correction:"Remove space before comma",type:"punctuation"},{pattern:/,(?!\s)/g,correction:"Add space after comma",type:"punctuation"},{pattern:/\s+\./g,correction:"Remove space before period",type:"punctuation"},{pattern:/\.{2,}/g,correction:"Use single period or ellipsis (...)",type:"punctuation"},{pattern:/\s+;/g,correction:"Remove space before semicolon",type:"punctuation"},{pattern:/;(?!\s)/g,correction:"Add space after semicolon",type:"punctuation"}],style:[{pattern:/\b(helped|assisted)\b/gi,correction:"Use stronger action verbs (led, managed, developed)",type:"style"},{pattern:/\bresponsible for\b/gi,correction:"Use active voice (managed, oversaw, directed)",type:"style"},{pattern:/\bworked on\b/gi,correction:"Use specific action verbs (developed, created, implemented)",type:"style"},{pattern:/\bgood\b/gi,correction:"Use more specific adjectives (excellent, outstanding, proficient)",type:"style"},{pattern:/\bbad\b/gi,correction:"Use more professional language",type:"style"},{pattern:/\bstuff\b/gi,correction:'Use specific terms instead of "stuff"',type:"style"},{pattern:/\bthing\b/gi,correction:'Use specific terms instead of "thing"',type:"style"}],resume:[{pattern:/\breferences available upon request\b/gi,correction:"Remove - this is assumed",type:"resume"},{pattern:/\bcurriculum vitae\b/gi,correction:'Use "resume" for US applications',type:"resume"},{pattern:/\bphone:\s*/gi,correction:"Remove label, just list number",type:"resume"},{pattern:/\bemail:\s*/gi,correction:"Remove label, just list email",type:"resume"},{pattern:/\baddress:\s*/gi,correction:"Remove label, just list address",type:"resume"}]},Yx=["Achieved","Accelerated","Accomplished","Advanced","Analyzed","Built","Created","Delivered","Developed","Directed","Drove","Enhanced","Established","Executed","Generated","Implemented","Improved","Increased","Initiated","Launched","Led","Managed","Optimized","Organized","Pioneered","Reduced","Resolved","Streamlined","Strengthened","Supervised","Transformed","Upgraded"],Qx=e=>({spelling:"high",grammar:"high",punctuation:"medium",style:"low",resume:"medium"}[e]||"low"),Xx=async e=>{const t=Date.now(),n=(e=>{const{personalInfo:t,summary:n,experience:s,education:r,skills:i,projects:a,certifications:o}=e;let l=[];return t&&(t.fullName&&l.push({text:t.fullName,section:"Personal Info",field:"Name"}),t.jobTitle&&l.push({text:t.jobTitle,section:"Personal Info",field:"Job Title"})),n&&l.push({text:n,section:"Professional Summary",field:"Summary"}),s&&s.length>0&&s.forEach((e,t)=>{e.position&&l.push({text:e.position,section:"Experience",field:`Position ${t+1}`}),e.company&&l.push({text:e.company,section:"Experience",field:`Company ${t+1}`}),e.description&&l.push({text:e.description,section:"Experience",field:`Description ${t+1}`}),e.responsibilities&&l.push({text:e.responsibilities,section:"Experience",field:`Responsibilities ${t+1}`})}),r&&r.length>0&&r.forEach((e,t)=>{e.degree&&l.push({text:e.degree,section:"Education",field:`Degree ${t+1}`}),e.field&&l.push({text:e.field,section:"Education",field:`Field ${t+1}`}),e.institution&&l.push({text:e.institution,section:"Education",field:`Institution ${t+1}`})}),i&&(i.technical&&i.technical.forEach((e,t)=>{l.push({text:e,section:"Skills",field:`Technical Skill ${t+1}`})}),i.soft&&i.soft.forEach((e,t)=>{l.push({text:e,section:"Skills",field:`Soft Skill ${t+1}`})})),a&&a.length>0&&a.forEach((e,t)=>{e.name&&l.push({text:e.name,section:"Projects",field:`Project Name ${t+1}`}),e.description&&l.push({text:e.description,section:"Projects",field:`Project Description ${t+1}`})}),o&&o.length>0&&o.forEach((e,t)=>{e.name&&l.push({text:e.name,section:"Certifications",field:`Certification ${t+1}`})}),l})(e),s=n.map(e=>e.text).join(" "),r=(e=>{const t=[];return e.forEach(e=>{const n=e.text;n&&"string"===typeof n&&Object.keys(Gx).forEach(s=>{Gx[s].forEach(r=>{const i=n.match(r.pattern);i&&i.forEach(i=>{const a=n.indexOf(i);t.push({type:r.type,category:s,text:i,correction:r.correction,context:n.substring(Math.max(0,a-20),a+i.length+20),section:e.section,field:e.field,severity:Qx(r.type),position:a})})})})}),t})(n),i=await(async e=>{const t=[],n={recieve:"receive",seperate:"separate",occured:"occurred",managment:"management",developement:"development",responsibilty:"responsibility",experiance:"experience",sucessful:"successful",acheivement:"achievement",maintainance:"maintenance",colaboration:"collaboration",analize:"analyze",efficent:"efficient",consistant:"consistent",independant:"independent",enviroment:"environment",recomendation:"recommendation",profesional:"professional",comunication:"communication",knowlege:"knowledge",ther:"there",thier:"their",teh:"the",adn:"and",taht:"that",hte:"the",fo:"of",tot:"to",writting:"writing",begining:"beginning",reccomend:"recommend",accomodate:"accommodate",definately:"definitely",neccessary:"necessary",occassion:"occasion",priviledge:"privilege",recieve:"receive",beleive:"believe",acheive:"achieve",freind:"friend",wierd:"weird",calender:"calendar",cemetary:"cemetery",concious:"conscious",embarass:"embarrass",existance:"existence",goverment:"government",independance:"independence",judgement:"judgment",liesure:"leisure",mispell:"misspell",noticable:"noticeable",occurance:"occurrence",perseverence:"perseverance",questionaire:"questionnaire",rythm:"rhythm",seperation:"separation",temperture:"temperature",untill:"until",vaccuum:"vacuum",wether:"whether"};(e.match(/\b[a-zA-Z]+\b/g)||[]).forEach(e=>{const s=e.toLowerCase();n[s]&&t.push({type:"spelling",severity:"high",text:e,suggestion:n[s],message:`Spelling error: "${e}" should be "${n[s]}"`})}),[{pattern:/\bi\s+/gi,message:'Avoid using "I" in resume - use action verbs instead',severity:"medium"},{pattern:/\bresponsible for\b/gi,message:'Replace "responsible for" with stronger action verbs',severity:"low"},{pattern:/\bhelped\b/gi,message:'Replace "helped" with more specific action verbs',severity:"low"},{pattern:/\.\s*[a-z]/g,message:"Capitalize first letter after periods",severity:"medium"},{pattern:/\s{2,}/g,message:"Remove extra spaces",severity:"low"}].forEach(n=>{let{pattern:s,message:r,severity:i}=n;const a=e.match(s);a&&a.forEach(e=>{t.push({type:"grammar",severity:i,text:e.trim(),message:r,suggestion:"medium"===i?"Use professional resume language":"Review and correct"})})});let s=100;if(s-=15*t.filter(e=>"high"===e.severity).length,s-=8*t.filter(e=>"medium"===e.severity).length,s-=3*t.filter(e=>"low"===e.severity).length,s=Math.max(s,20),Ry.isGeminiConfigured())try{const n=`You are a professional proofreader. Carefully examine this resume text and find ALL spelling mistakes, grammar errors, and style issues.\n\nRESUME TEXT TO ANALYZE:\n${e.substring(0,1500)}\n\nINSTRUCTIONS:\n1. Check EVERY word for spelling mistakes (including common typos like "experiance", "managment", "recieved", "seperate", "occured", "developement", "responsibilty")\n2. Find grammar errors (subject-verb disagreement, wrong tense, missing articles)\n3. Identify punctuation problems\n4. Look for unprofessional language\n5. Check for consistency issues\n\nIMPORTANT: Be very thorough. Even check words that look correct - they might be subtle misspellings.\n\nFORMAT YOUR RESPONSE EXACTLY AS:\nSPELLING_ERRORS:\n- [wrong word] -> [correct word]\n\nGRAMMAR_ERRORS:\n- [error] -> [correction]\n\nSTYLE_ISSUES:\n- [issue] -> [improvement]\n\nExample:\nSPELLING_ERRORS:\n- experiance -> experience\n- managment -> management\n\nFind ALL errors, no matter how small!`,s=await Ry.generateContent(n);console.log("Gemini AI Response:",s);const r=s.match(/SPELLING_ERRORS:(.*?)(?=GRAMMAR_ERRORS:|STYLE_ISSUES:|$)/is),i=s.match(/GRAMMAR_ERRORS:(.*?)(?=STYLE_ISSUES:|$)/is),a=s.match(/STYLE_ISSUES:(.*?)$/is);console.log("Parsed sections:",{spellingSection:r,grammarSection:i,styleSection:a}),r&&(r[1].match(/- ([^-]+) -> ([^\n]+)/g)||[]).forEach(e=>{const n=e.match(/- ([^-]+) -> ([^\n]+)/);n&&t.push({type:"ai_spelling",severity:"high",text:n[1].trim(),suggestion:n[2].trim(),message:`Spelling error: "${n[1].trim()}" should be "${n[2].trim()}"`})}),i&&(i[1].match(/- ([^-]+) -> ([^\n]+)/g)||[]).forEach(e=>{const n=e.match(/- ([^-]+) -> ([^\n]+)/);n&&t.push({type:"ai_grammar",severity:"medium",text:n[1].trim(),suggestion:n[2].trim(),message:`Grammar error: "${n[1].trim()}" should be "${n[2].trim()}"`})}),a&&(a[1].match(/- ([^-]+) -> ([^\n]+)/g)||[]).forEach(e=>{const n=e.match(/- ([^-]+) -> ([^\n]+)/);n&&t.push({type:"ai_style",severity:"low",text:n[1].trim(),suggestion:n[2].trim(),message:`Style improvement: "${n[1].trim()}" could be "${n[2].trim()}"`})})}catch(a){console.warn("Gemini analysis failed, using rule-based detection only:",a)}console.log("Total detected issues:",t);const r=t.filter(e=>"spelling"===e.type||"ai_spelling"===e.type||"ai_grammar"===e.type||"ai_detected"===e.type),i=t.filter(e=>"grammar"===e.type||"ai_style"===e.type);return console.log("Filtered errors:",r),console.log("Style improvements:",i),{score:Math.min(Math.max(s,0),100),aiAnalysis:{errors:r.map(e=>e.message),styleImprovements:i.map(e=>e.message),suggestions:["Use strong action verbs to start bullet points","Quantify achievements with specific numbers","Maintain consistent verb tense throughout","Proofread carefully for spelling and grammar"],detectedIssues:t}}})(s),a=(e=>{const t=[];return e&&e.errors&&e.errors.forEach((e,n)=>{const s=e.toLowerCase();let r="grammar",i="high";s.includes("spell")||s.includes("misspell")?r="spelling":s.includes("punctuation")||s.includes("comma")||s.includes("period")?(r="punctuation",i="medium"):(s.includes("style")||s.includes("tone")||s.includes("professional"))&&(r="style",i="low");let a="General",o="Content";s.includes("experience")||s.includes("years")?(a="Experience",o="Description"):s.includes("education")||s.includes("university")||s.includes("degree")?(a="Education",o="Institution/Degree"):(s.includes("summary")||s.includes("objective"))&&(a="Professional Summary",o="Summary"),t.push({type:r,category:r,text:e.substring(0,50)+(e.length>50?"...":""),correction:"See AI suggestion for correction",context:e,section:a,field:o,severity:i,position:n,source:"ai"})}),t})(i.aiAnalysis),o=[...r,...a],l=o.length,c=o.filter(e=>"high"===e.severity).length,u=o.filter(e=>"medium"===e.severity).length;let d=100;d-=10*c,d-=5*u,d-=2*(l-c-u),d=Math.max(d,0);const h=Math.round(.7*d+.3*i.score),m=o.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),p=[];c>0&&p.push(`Fix ${c} critical grammar/spelling errors`),o.filter(e=>"style"===e.type).length>0&&p.push("Use stronger action verbs and professional language"),o.filter(e=>"resume"===e.type).length>0&&p.push("Remove outdated resume conventions"),a.length>0&&p.push(`Address ${a.length} AI-detected writing issues`);const f=Date.now()-t;return{overallScore:h,grammarScore:d,aiScore:i.score,totalIssues:l,issuesByCategory:m,issuesBySeverity:{high:o.filter(e=>"high"===e.severity),medium:o.filter(e=>"medium"===e.severity),low:o.filter(e=>"low"===e.severity)},suggestions:p,aiInsights:i.aiAnalysis,actionVerbs:Yx,statistics:{wordsAnalyzed:s.split(/\s+/).length,sectionsChecked:n.length,processingTime:`${f}ms`,aiPowered:My(),ruleBasedIssues:r.length,aiDetectedIssues:a.length}}},Jx=e=>{let{isOpen:t,onClose:n,grammarResult:s}=e;const[i,a]=(0,r.useState)("overview"),[o,l]=(0,r.useState)(null);if(!t||!s)return null;const c=e=>e>=90?"#10b981":e>=80?"#22c55e":e>=70?"#eab308":e>=60?"#f59e0b":"#ef4444",u=e=>e>=95?"A+":e>=90?"A":e>=85?"A-":e>=80?"B+":e>=75?"B":e>=70?"B-":e>=65?"C+":e>=60?"C":"F",d=e=>{switch(e){case"high":return"\ud83d\udd34";case"medium":return"\ud83d\udfe1";case"low":return"\ud83d\udfe2";default:return"\u26aa"}},h=e=>{switch(e){case"spelling":return"\ud83d\udcdd";case"grammar":return"\ud83d\udcda";case"punctuation":return"\u2757";case"style":return"\u2728";case"resume":return"\ud83d\udcc4";default:return"\ud83d\udccb"}},m=e=>{let{score:t,label:n,size:s=80}=e;return(0,bv.jsxs)("div",{className:"grammar-score-circle-container",children:[(0,bv.jsx)("div",{className:"grammar-score-circle",style:{width:s,height:s,background:`conic-gradient(${c(t)} ${3.6*t}deg, #e5e7eb 0deg)`},children:(0,bv.jsxs)("div",{className:"grammar-score-inner",children:[(0,bv.jsx)("span",{className:"grammar-score-number",children:t}),(0,bv.jsx)("span",{className:"grammar-score-grade",children:u(t)})]})}),(0,bv.jsx)("p",{className:"grammar-score-label",children:n})]})};return(0,bv.jsx)("div",{className:"grammar-modal-overlay",onClick:n,children:(0,bv.jsxs)("div",{className:"grammar-modal",onClick:e=>e.stopPropagation(),children:[(0,bv.jsxs)("div",{className:"grammar-modal-header",children:[(0,bv.jsx)("h2",{children:"\ud83d\udcdd Smart Grammar Check"}),(0,bv.jsx)("button",{className:"grammar-close-btn",onClick:n,children:"\xd7"})]}),(0,bv.jsxs)("div",{className:"grammar-tabs",children:[(0,bv.jsx)("button",{className:"grammar-tab-btn "+("overview"===i?"active":""),onClick:()=>a("overview"),children:"\ud83d\udcca Overview"}),(0,bv.jsxs)("button",{className:"grammar-tab-btn "+("issues"===i?"active":""),onClick:()=>a("issues"),children:["\ud83d\udccb Issues (",s.totalIssues,")"]}),(0,bv.jsx)("button",{className:"grammar-tab-btn "+("ai"===i?"active":""),onClick:()=>a("ai"),children:"\ud83e\udd16 AI Insights"}),(0,bv.jsx)("button",{className:"grammar-tab-btn "+("stats"===i?"active":""),onClick:()=>a("stats"),children:"\ud83d\udcc8 Statistics"})]}),(0,bv.jsxs)("div",{className:"grammar-content",children:["overview"===i&&(()=>{var e,t,n,r,i;return(0,bv.jsxs)("div",{className:"grammar-overview",children:[(0,bv.jsxs)("div",{className:"grammar-main-score",children:[(0,bv.jsx)(m,{score:s.overallScore,label:"Grammar Score",size:120}),(0,bv.jsxs)("div",{className:"grammar-score-details",children:[(0,bv.jsxs)("div",{className:"score-breakdown",children:[(0,bv.jsxs)("div",{className:"breakdown-item",children:[(0,bv.jsx)("span",{className:"breakdown-label",children:"Rule-based Analysis"}),(0,bv.jsxs)("span",{className:"breakdown-value",children:[s.grammarScore,"/100"]})]}),(0,bv.jsxs)("div",{className:"breakdown-item",children:[(0,bv.jsx)("span",{className:"breakdown-label",children:"AI Analysis"}),(0,bv.jsxs)("span",{className:"breakdown-value",children:[s.aiScore,"/100"]})]}),(0,bv.jsxs)("div",{className:"breakdown-item",children:[(0,bv.jsx)("span",{className:"breakdown-label",children:"Total Issues Found"}),(0,bv.jsx)("span",{className:"breakdown-value",children:s.totalIssues})]})]}),(0,bv.jsxs)("div",{className:"mistake-summary",children:[(0,bv.jsxs)("div",{className:"mistake-summary-item",children:[(0,bv.jsx)("span",{className:"mistake-count spelling",children:(null===(e=s.issuesByCategory.spelling)||void 0===e?void 0:e.length)||0}),(0,bv.jsx)("span",{className:"mistake-label",children:"Spelling Errors"})]}),(0,bv.jsxs)("div",{className:"mistake-summary-item",children:[(0,bv.jsx)("span",{className:"mistake-count grammar",children:(null===(t=s.issuesByCategory.grammar)||void 0===t?void 0:t.length)||0}),(0,bv.jsx)("span",{className:"mistake-label",children:"Grammar Issues"})]}),(0,bv.jsxs)("div",{className:"mistake-summary-item",children:[(0,bv.jsx)("span",{className:"mistake-count style",children:(null===(n=s.issuesByCategory.style)||void 0===n?void 0:n.length)||0}),(0,bv.jsx)("span",{className:"mistake-label",children:"Style Issues"})]})]})]})]}),(0,bv.jsxs)("div",{className:"grammar-summary-stats",children:[(0,bv.jsxs)("div",{className:"stat-card high",children:[(0,bv.jsx)("div",{className:"stat-icon",children:"\ud83d\udd34"}),(0,bv.jsxs)("div",{className:"stat-content",children:[(0,bv.jsx)("span",{className:"stat-number",children:s.issuesBySeverity.high.length}),(0,bv.jsx)("span",{className:"stat-label",children:"Critical Issues"})]})]}),(0,bv.jsxs)("div",{className:"stat-card medium",children:[(0,bv.jsx)("div",{className:"stat-icon",children:"\ud83d\udfe1"}),(0,bv.jsxs)("div",{className:"stat-content",children:[(0,bv.jsx)("span",{className:"stat-number",children:s.issuesBySeverity.medium.length}),(0,bv.jsx)("span",{className:"stat-label",children:"Medium Issues"})]})]}),(0,bv.jsxs)("div",{className:"stat-card low",children:[(0,bv.jsx)("div",{className:"stat-icon",children:"\ud83d\udfe2"}),(0,bv.jsxs)("div",{className:"stat-content",children:[(0,bv.jsx)("span",{className:"stat-number",children:s.issuesBySeverity.low.length}),(0,bv.jsx)("span",{className:"stat-label",children:"Style Issues"})]})]}),(0,bv.jsxs)("div",{className:"stat-card info",children:[(0,bv.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,bv.jsxs)("div",{className:"stat-content",children:[(0,bv.jsx)("span",{className:"stat-number",children:s.statistics.wordsAnalyzed}),(0,bv.jsx)("span",{className:"stat-label",children:"Words Checked"})]})]})]}),(s.issuesBySeverity.high.length>0||s.issuesByCategory.spelling&&s.issuesByCategory.spelling.length>0||s.issuesByCategory.grammar&&s.issuesByCategory.grammar.length>0)&&(0,bv.jsxs)("div",{className:"critical-mistakes-section",children:[(0,bv.jsx)("h4",{children:"\ud83d\udea8 Critical Grammar & Spelling Issues"}),(0,bv.jsxs)("div",{className:"critical-mistakes-grid",children:[s.issuesByCategory.spelling&&s.issuesByCategory.spelling.slice(0,4).map((e,t)=>(0,bv.jsxs)("div",{className:"mistake-card spelling",children:[(0,bv.jsxs)("div",{className:"mistake-header",children:[(0,bv.jsx)("span",{className:"mistake-icon",children:"\ud83d\udcdd"}),(0,bv.jsx)("span",{className:"mistake-type",children:"Spelling"})]}),(0,bv.jsxs)("div",{className:"mistake-content",children:[(0,bv.jsxs)("div",{className:"mistake-error",children:['"',e.text,'"']}),(0,bv.jsxs)("div",{className:"mistake-correction",children:["\u2192 ","ai"===e.source?"AI-detected issue - see AI Insights for details":e.correction]}),(0,bv.jsxs)("div",{className:"mistake-location",children:[e.section," ","ai"===e.source?"(AI-detected)":""]})]})]},`spelling-${t}`)),s.issuesByCategory.grammar&&s.issuesByCategory.grammar.slice(0,4).map((e,t)=>(0,bv.jsxs)("div",{className:"mistake-card grammar",children:[(0,bv.jsxs)("div",{className:"mistake-header",children:[(0,bv.jsx)("span",{className:"mistake-icon",children:"\ud83d\udcda"}),(0,bv.jsx)("span",{className:"mistake-type",children:"Grammar"})]}),(0,bv.jsxs)("div",{className:"mistake-content",children:[(0,bv.jsxs)("div",{className:"mistake-error",children:['"',e.text,'"']}),(0,bv.jsxs)("div",{className:"mistake-correction",children:["\u2192 ","ai"===e.source?"AI-detected issue - see AI Insights for details":e.correction]}),(0,bv.jsxs)("div",{className:"mistake-location",children:[e.section," ","ai"===e.source?"(AI-detected)":""]})]})]},`grammar-${t}`)),s.issuesBySeverity.high.filter(e=>"spelling"!==e.category&&"grammar"!==e.category).slice(0,2).map((e,t)=>(0,bv.jsxs)("div",{className:"mistake-card high-severity",children:[(0,bv.jsxs)("div",{className:"mistake-header",children:[(0,bv.jsx)("span",{className:"mistake-icon",children:h(e.category)}),(0,bv.jsx)("span",{className:"mistake-type",children:e.category.charAt(0).toUpperCase()+e.category.slice(1)})]}),(0,bv.jsxs)("div",{className:"mistake-content",children:[(0,bv.jsxs)("div",{className:"mistake-error",children:['"',e.text,'"']}),(0,bv.jsxs)("div",{className:"mistake-correction",children:["\u2192 ","ai"===e.source?"AI-detected issue - see AI Insights for details":e.correction]}),(0,bv.jsxs)("div",{className:"mistake-location",children:[e.section," ","ai"===e.source?"(AI-detected)":""]})]})]},`high-${t}`))]}),((null===(r=s.issuesByCategory.spelling)||void 0===r?void 0:r.length)>4||(null===(i=s.issuesByCategory.grammar)||void 0===i?void 0:i.length)>4||s.issuesBySeverity.high.length>6)&&(0,bv.jsx)("div",{className:"more-issues-notice",children:(0,bv.jsxs)("span",{children:['\ud83d\udccb View "Issues" tab to see all ',s.totalIssues," problems found"]})})]}),s.suggestions.length>0&&(0,bv.jsxs)("div",{className:"grammar-quick-suggestions",children:[(0,bv.jsx)("h4",{children:"\ud83c\udfaf Priority Actions"}),(0,bv.jsx)("div",{className:"quick-suggestions-list",children:s.suggestions.map((e,t)=>(0,bv.jsxs)("div",{className:"quick-suggestion-item",children:[(0,bv.jsx)("span",{className:"suggestion-bullet",children:"\ud83d\udca1"}),(0,bv.jsx)("span",{children:e})]},t))})]})]})})(),"issues"===i&&(0,bv.jsxs)("div",{className:"grammar-issues",children:[(0,bv.jsxs)("div",{className:"issues-header",children:[(0,bv.jsx)("h4",{children:"\ud83d\udccb Grammar & Style Issues"}),(0,bv.jsx)("div",{className:"issues-filter",children:(0,bv.jsx)("span",{className:"filter-info",children:"Click on any issue for details"})})]}),Object.keys(s.issuesByCategory).map(e=>(0,bv.jsxs)("div",{className:"issue-category",children:[(0,bv.jsxs)("h5",{className:"category-header",children:[h(e)," ",e.charAt(0).toUpperCase()+e.slice(1),(0,bv.jsxs)("span",{className:"category-count",children:["(",s.issuesByCategory[e].length,")"]})]}),(0,bv.jsx)("div",{className:"issues-list",children:s.issuesByCategory[e].map((e,t)=>(0,bv.jsxs)("div",{className:`issue-item ${e.severity} ${o===e?"selected":""}`,onClick:()=>l(o===e?null:e),children:[(0,bv.jsxs)("div",{className:"issue-header",children:[(0,bv.jsx)("span",{className:"severity-icon",children:d(e.severity)}),(0,bv.jsxs)("span",{className:"issue-text",children:['"',e.text,'"']}),(0,bv.jsxs)("span",{className:"issue-location",children:[e.section," - ",e.field]})]}),o===e&&(0,bv.jsxs)("div",{className:"issue-details",children:[(0,bv.jsxs)("div",{className:"issue-context",children:[(0,bv.jsx)("strong",{children:"Context:"})," ...",e.context,"..."]}),(0,bv.jsxs)("div",{className:"issue-correction",children:[(0,bv.jsx)("strong",{children:"Suggestion:"})," ",e.correction]})]})]},t))})]},e)),0===s.totalIssues&&(0,bv.jsxs)("div",{className:"no-issues",children:[(0,bv.jsx)("div",{className:"no-issues-icon",children:"\ud83c\udf89"}),(0,bv.jsx)("h4",{children:"Excellent Grammar!"}),(0,bv.jsx)("p",{children:"No grammar or style issues found in your resume."})]})]}),"ai"===i&&(0,bv.jsxs)("div",{className:"grammar-ai-insights",children:[(0,bv.jsx)("h4",{children:"\ud83e\udd16 AI-Powered Writing Analysis"}),s.aiInsights&&(0,bv.jsxs)("div",{className:"ai-analysis-sections",children:[s.aiInsights.errors.length>0&&(0,bv.jsxs)("div",{className:"ai-section",children:[(0,bv.jsx)("h5",{children:"\ud83d\udd0d Detected Errors"}),(0,bv.jsx)("ul",{className:"ai-list",children:s.aiInsights.errors.map((e,t)=>(0,bv.jsx)("li",{className:"ai-error-item",children:e},t))})]}),s.aiInsights.styleImprovements.length>0&&(0,bv.jsxs)("div",{className:"ai-section",children:[(0,bv.jsx)("h5",{children:"\u2728 Style Improvements"}),(0,bv.jsx)("ul",{className:"ai-list",children:s.aiInsights.styleImprovements.map((e,t)=>(0,bv.jsx)("li",{className:"ai-style-item",children:e},t))})]}),s.aiInsights.suggestions.length>0&&(0,bv.jsxs)("div",{className:"ai-section",children:[(0,bv.jsx)("h5",{children:"\ud83d\udca1 Professional Writing Tips"}),(0,bv.jsx)("ul",{className:"ai-list",children:s.aiInsights.suggestions.map((e,t)=>(0,bv.jsx)("li",{className:"ai-suggestion-item",children:e},t))})]})]}),(0,bv.jsxs)("div",{className:"action-verbs-section",children:[(0,bv.jsx)("h5",{children:"\ud83d\ude80 Powerful Action Verbs"}),(0,bv.jsx)("p",{className:"action-verbs-intro",children:"Use these strong action verbs to make your resume more impactful:"}),(0,bv.jsx)("div",{className:"action-verbs-grid",children:s.actionVerbs.slice(0,16).map((e,t)=>(0,bv.jsx)("span",{className:"action-verb-tag",children:e},t))})]})]}),"stats"===i&&(0,bv.jsxs)("div",{className:"grammar-statistics",children:[(0,bv.jsx)("h4",{children:"\ud83d\udcca Analysis Statistics"}),(0,bv.jsxs)("div",{className:"stats-grid",children:[(0,bv.jsxs)("div",{className:"stat-detail-card",children:[(0,bv.jsx)("div",{className:"stat-detail-icon",children:"\ud83d\udcdd"}),(0,bv.jsxs)("div",{className:"stat-detail-content",children:[(0,bv.jsx)("span",{className:"stat-detail-number",children:s.statistics.wordsAnalyzed}),(0,bv.jsx)("span",{className:"stat-detail-label",children:"Words Analyzed"})]})]}),(0,bv.jsxs)("div",{className:"stat-detail-card",children:[(0,bv.jsx)("div",{className:"stat-detail-icon",children:"\ud83d\udccb"}),(0,bv.jsxs)("div",{className:"stat-detail-content",children:[(0,bv.jsx)("span",{className:"stat-detail-number",children:s.statistics.sectionsChecked}),(0,bv.jsx)("span",{className:"stat-detail-label",children:"Sections Checked"})]})]}),(0,bv.jsxs)("div",{className:"stat-detail-card",children:[(0,bv.jsx)("div",{className:"stat-detail-icon",children:"\u26a1"}),(0,bv.jsxs)("div",{className:"stat-detail-content",children:[(0,bv.jsx)("span",{className:"stat-detail-number",children:s.statistics.processingTime}),(0,bv.jsx)("span",{className:"stat-detail-label",children:"Processing Time"})]})]}),(0,bv.jsxs)("div",{className:"stat-detail-card",children:[(0,bv.jsx)("div",{className:"stat-detail-icon",children:"\ud83e\udd16"}),(0,bv.jsxs)("div",{className:"stat-detail-content",children:[(0,bv.jsx)("span",{className:"stat-detail-number",children:s.statistics.aiPowered?"Yes":"No"}),(0,bv.jsx)("span",{className:"stat-detail-label",children:"AI Enhanced"})]})]})]}),(0,bv.jsxs)("div",{className:"grammar-score-breakdown",children:[(0,bv.jsx)("h5",{children:"Score Breakdown"}),(0,bv.jsxs)("div",{className:"score-breakdown-chart",children:[(0,bv.jsxs)("div",{className:"breakdown-bar",children:[(0,bv.jsx)("div",{className:"breakdown-segment rule-based",style:{width:"70%"},children:(0,bv.jsxs)("span",{children:["Rule-based: ",s.grammarScore]})}),(0,bv.jsx)("div",{className:"breakdown-segment ai-based",style:{width:"30%"},children:(0,bv.jsxs)("span",{children:["AI: ",s.aiScore]})})]}),(0,bv.jsxs)("div",{className:"breakdown-legend",children:[(0,bv.jsxs)("div",{className:"legend-item",children:[(0,bv.jsx)("div",{className:"legend-color rule-based"}),(0,bv.jsx)("span",{children:"Rule-based Analysis (70%)"})]}),(0,bv.jsxs)("div",{className:"legend-item",children:[(0,bv.jsx)("div",{className:"legend-color ai-based"}),(0,bv.jsx)("span",{children:"AI Analysis (30%)"})]})]})]})]})]})]}),(0,bv.jsx)("div",{className:"grammar-modal-footer",children:(0,bv.jsx)(Jv,{variant:"secondary",onClick:n,children:"Close Analysis"})})]})})},Zx=async e=>{console.log("Extracting text from file:",e.name,"Type:",e.type,"Size:",e.size);const t=e.name.toLowerCase(),n=e.type;if(t.endsWith(".txt")||"text/plain"===n)return console.log("Processing as text file"),await eb(e);if(t.endsWith(".pdf")||"application/pdf"===n){if(console.log("Processing as PDF file"),"undefined"===typeof window.pdfjsLib||!window.pdfJSReady)throw console.error("PDF.js is not loaded. Please refresh the page and try again."),new Error("PDF processing library is not available. Please refresh the page and try again, or save your resume as a TXT file for immediate processing.");return await tb(e)}throw console.error("Unsupported file type:",{fileName:t,fileType:n}),new Error(`Unsupported file type: ${t}. Please upload a TXT or PDF file.`)},eb=async e=>new Promise((t,n)=>{const s=new FileReader;s.onload=e=>{try{const s=e.target.result;if(console.log("Successfully extracted text from TXT file"),console.log("Text length:",s.length),console.log("First 200 characters:",s.substring(0,200)),!s||0===s.trim().length)return void n(new Error("The text file appears to be empty. Please upload a file with content."));t(s)}catch(s){console.error("Error processing text file content:",s),n(new Error("Failed to process text file content"))}},s.onerror=e=>{console.error("FileReader error:",e),n(new Error("Failed to read the file. Please try again with a different file."))},s.readAsText(e)}),tb=async e=>{try{if("undefined"===typeof window.pdfjsLib&&(console.warn("PDF.js not available, attempting to load dynamically..."),await(async()=>new Promise((e,t)=>{const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",n.crossOrigin="anonymous",n.onload=()=>{"undefined"!==typeof window.pdfjsLib?(window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js",window.pdfJSReady=!0,console.log("PDF.js loaded dynamically"),e()):t(new Error("Failed to load PDF.js dynamically"))},n.onerror=()=>{t(new Error("Failed to load PDF.js script"))},document.head.appendChild(n)}))()),"undefined"===typeof window.pdfjsLib)throw new Error("PDF parsing library could not be loaded. Please refresh the page and try again, or use a TXT file for best results.");console.log("PDF.js is available, processing PDF file...");const n=window.pdfjsLib;n&&!n.GlobalWorkerOptions.workerSrc&&(n.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js");const s=await e.arrayBuffer();console.log("PDF file size:",s.byteLength,"bytes");const r=await n.getDocument({data:s,verbosity:0}).promise;console.log("PDF loaded successfully. Pages:",r.numPages);let i="";for(let e=1;e<=r.numPages;e++)try{const t=await r.getPage(e),n=(await t.getTextContent()).items.map(e=>e.str).join(" ");i+=n+"\n",console.log(`Extracted text from page ${e}, length: ${n.length}`)}catch(t){console.warn(`Failed to extract text from page ${e}:`,t)}const a=i.trim();if(console.log("Total extracted text length:",a.length),a.length<50)throw new Error("PDF appears to contain mostly images or unreadable text. Please save as TXT file for better results.");return a}catch(n){return console.error("PDF.js extraction failed:",n),await nb(e)}},nb=async e=>{try{throw console.log("Attempting PDF extraction with API fallback..."),new Error("PDF text extraction requires additional setup. For the best experience, please save your resume as a TXT file and upload that instead. TXT files provide more accurate text extraction and better ATS analysis results.")}catch(t){return console.warn("API PDF extraction failed:",t.message),await sb(e)}},sb=async e=>{throw new Error("PDF files require additional setup that is not currently available. For the best experience, please save your resume as a TXT file and upload that instead. TXT files provide more accurate text extraction and better ATS analysis results.")},rb=e=>{const t={personalInfo:{},summary:"",experience:[],education:[],skills:[],projects:[],certifications:[]},n=e.split("\n").map(e=>e.trim()).filter(e=>e.length>0),s=e.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/);s&&(t.personalInfo.email=s[0]);const r=e.match(/[\+]?[1-9]?[\-\.\s]?\(?[0-9]{3}\)?[\-\.\s]?[0-9]{3}[\-\.\s]?[0-9]{4}/);if(r&&(t.personalInfo.phone=r[0]),n.length>0){const e=n[0];e.length<50&&!e.includes("@")&&!e.match(/\d{3}/)&&(t.personalInfo.fullName=e)}const i=["summary","objective","profile","about"];for(let o=0;o<n.length;o++){const e=n[o].toLowerCase();if(i.some(t=>e.includes(t))){const e=n.slice(o+1,o+4).filter(e=>e.length>20);if(e.length>0){t.summary=e.join(" ");break}}}const a=["skills","technologies","technical skills","competencies"];for(let o=0;o<n.length;o++){const e=n[o].toLowerCase();if(a.some(t=>e.includes(t))){const e=n.slice(o+1,o+5).join(" ").split(/[,;|]/).map(e=>e.trim()).filter(e=>e.length>1);t.skills=e.slice(0,20);break}}return!t.summary&&e.length>100&&(t.summary=e.substring(0,500)+(e.length>500?"...":"")),t},ib=e=>{const t=e.personalInfo&&(e.personalInfo.fullName||e.personalInfo.email),n=e.summary||e.experience&&e.experience.length>0||e.skills&&e.skills.length>0;return t||n},ab=()=>{const{user:e}=Nv(),t=Wv(),{saveResume:n,loading:s,dispatch:i}=t,a=ne(),[o]=Pe(),[l,c]=(0,r.useState)("personal");(0,r.useEffect)(()=>{const t="true"===o.get("new");e&&t&&i({type:"RESET_RESUME"})},[o,e,i]);const[u,d]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,x]=(0,r.useState)(null),[b,w]=(0,r.useState)(!1);return s?(0,bv.jsxs)("div",{className:"loading-container",children:[(0,bv.jsx)(Qv,{size:"large"}),(0,bv.jsx)("p",{children:"Loading resume builder..."})]}):(0,bv.jsxs)("div",{className:"resume-builder-page",children:[(0,bv.jsx)(Zv,{}),(0,bv.jsxs)("div",{className:"builder-container",children:[(0,bv.jsxs)("div",{className:"builder-sidebar",children:[(0,bv.jsx)("nav",{className:"section-nav",children:[{id:"personal",label:"Personal Info",icon:"fas fa-user"},{id:"summary",label:"Summary",icon:"fas fa-align-left"},{id:"experience",label:"Experience",icon:"fas fa-briefcase"},{id:"education",label:"Education",icon:"fas fa-graduation-cap"},{id:"skills",label:"Skills",icon:"fas fa-cogs"},{id:"projects",label:"Projects",icon:"fas fa-project-diagram"},{id:"certifications",label:"Certifications",icon:"fas fa-certificate"},{id:"additionalInfo",label:"Additional Information",icon:"fas fa-info-circle"}].map(e=>(0,bv.jsxs)("button",{className:"nav-item "+(l===e.id?"active":""),onClick:()=>c(e.id),children:[(0,bv.jsx)("i",{className:e.icon}),(0,bv.jsx)("span",{children:e.label})]},e.id))}),(0,bv.jsxs)("div",{className:"sidebar-actions",children:[(0,bv.jsxs)(Jv,{variant:"primary",onClick:async()=>{if(!e)return void ly("Authentication Required","Please log in to save your resume.");const t=cy("Saving Resume","Please wait while we save your resume...");try{const e=await n();ay.remove(t),e&&e.success?oy("Resume Saved Successfully!","Your resume has been saved to the database and can be accessed from your dashboard."):ly("Save Failed",e&&e.error||"An unexpected error occurred while saving your resume.")}catch(s){console.error("Save error caught:",s),ay.remove(t),ly("Save Failed",s.message||"An unexpected error occurred while saving your resume.")}},disabled:s,className:"save-btn .save-btn:hover",children:[(0,bv.jsx)("i",{className:"fas fa-save",children:"\xa0"}),"Save Resume"]}),(0,bv.jsxs)(Jv,{variant:"secondary",onClick:async()=>{if(!e)return void ly("Authentication Required","Please log in to export your resume.");const n={personalInfo:t.personalInfo,summary:t.summary,experience:t.experience,education:t.education,skills:t.skills,projects:t.projects,certifications:t.certifications,additionalInfo:t.additionalInfo},s=cy("Exporting PDF","Please wait while we generate your resume PDF...");try{const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await Dx.exportResumeWithValidation(e,t)}(n,{elementId:"resume-preview",quality:2,format:"a4",orientation:"portrait"});ay.remove(s),e.success?oy("PDF Export Successful!",`Your resume has been downloaded as ${e.filename}`):ly("Export Failed",e.error||"Failed to export PDF. Please try again.")}catch(r){ay.remove(s),console.error("PDF export failed:",r),ly("Export Failed",r.message||"An unexpected error occurred while exporting your resume.")}},className:"export-btn",children:[(0,bv.jsx)("i",{className:"fas fa-download",children:"\xa0"}),"Export PDF"]}),(0,bv.jsxs)(Jv,{variant:"secondary",onClick:async()=>{var e;if(!((null===(e=t.personalInfo)||void 0===e?void 0:e.fullName)||t.summary||t.experience&&t.experience.length>0||t.skills&&t.skills.length>0))return m(null),void d(!0);f(!0);try{const e={personalInfo:t.personalInfo,summary:t.summary,experience:t.experience,education:t.education,skills:t.skills,projects:t.projects,certifications:t.certifications},n=await Wx(e);m(n),d(!0)}catch(n){console.error("ATS analysis failed:",n),ly("ATS analysis failed. Please try again.")}finally{f(!1)}},disabled:p,className:"ats-btn",children:[(0,bv.jsx)("i",{className:p?"fas fa-spinner fa-spin":"fas fa-robot",children:"\xa0"}),p?"Analyzing...":"Advanced ATS Check"]}),(0,bv.jsxs)(Jv,{variant:"secondary",onClick:async()=>{w(!0);try{const e={personalInfo:t.personalInfo,summary:t.summary,experience:t.experience,education:t.education,skills:t.skills,projects:t.projects,certifications:t.certifications},n=await Xx(e);x(n),v(!0)}catch(e){console.error("Grammar check failed:",e),ly("Grammar check failed. Please try again.")}finally{w(!1)}},disabled:b,className:"grammar-btn",children:[(0,bv.jsx)("i",{className:b?"fas fa-spinner fa-spin":"fas fa-spell-check",children:"\xa0"}),b?"Checking...":"Smart Grammar Check"]}),(0,bv.jsxs)(Jv,{variant:"secondary",onClick:()=>a("/dashboard"),className:"back-btn",children:[(0,bv.jsx)("i",{className:"fas fa-arrow-left",children:"\xa0"}),"Back to Dashboard"]})]}),(0,bv.jsx)(Kx,{isOpen:u,onClose:()=>d(!1),atsResult:h,onFileUpload:async e=>{let t=null;try{t=cy("Processing uploaded resume...","Extracting text and analyzing content");const n=await Zx(e);if(!n||n.trim().length<50)throw new Error("Unable to extract sufficient text from the file. Please ensure the file contains readable text.");const s=rb(n);if(!ib(s))throw new Error("The uploaded file does not appear to contain valid resume content.");const r=await Wx(s);t&&ay.remove(t),m(r),oy("File Analyzed Successfully!",`ATS analysis completed. Overall score: ${r.overallScore}/100`)}catch(n){throw t&&ay.remove(t),console.error("File upload ATS analysis failed:",n),ly("File Analysis Failed",n.message||"Failed to analyze the uploaded file. Please try again with a different file."),n}}}),(0,bv.jsx)(Jx,{isOpen:g,onClose:()=>v(!1),grammarResult:y})]}),(0,bv.jsxs)("div",{className:"builder-content",children:[(0,bv.jsx)("div",{className:"form-panel",children:(0,bv.jsx)("div",{className:"form-container",children:(()=>{switch(l){case"personal":default:return(0,bv.jsx)(vy,{});case"summary":return(0,bv.jsx)(Fy,{});case"experience":return(0,bv.jsx)(Vy,{});case"education":return(0,bv.jsx)(zy,{});case"skills":return(0,bv.jsx)(cx,{});case"projects":return(0,bv.jsx)(ux,{});case"certifications":return(0,bv.jsx)(Rx,{});case"additionalInfo":return(0,bv.jsx)(Px,{})}})()})}),(0,bv.jsx)("div",{className:"preview-panel",children:(0,bv.jsx)(Ax,{})})]})]}),(0,bv.jsx)("div",{id:"pdf-loading",style:{display:"none"},className:"pdf-loading-overlay",children:(0,bv.jsxs)("div",{className:"pdf-loading-content",children:[(0,bv.jsx)(Qv,{size:"large"}),(0,bv.jsx)("h3",{children:"Generating PDF..."}),(0,bv.jsx)("p",{children:"Please wait while we create your professional resume PDF."})]})})]})};const ob=function(){return(0,bv.jsx)(jv,{children:(0,bv.jsx)(Se,{children:(0,bv.jsx)(Yv,{children:(0,bv.jsx)("div",{className:"App",children:(0,bv.jsxs)(be,{children:[(0,bv.jsx)(ye,{path:"/",element:(0,bv.jsx)(ty,{})}),(0,bv.jsx)(ye,{path:"/login",element:(0,bv.jsx)(sy,{})}),(0,bv.jsx)(ye,{path:"/signup",element:(0,bv.jsx)(iy,{})}),(0,bv.jsx)(ye,{path:"/forgot-password",element:(0,bv.jsx)(dy,{})}),(0,bv.jsx)(ye,{path:"/dashboard",element:(0,bv.jsx)(Xv,{children:(0,bv.jsx)(my,{})})}),(0,bv.jsx)(ye,{path:"/resume-builder",element:(0,bv.jsx)(Xv,{children:(0,bv.jsx)(ab,{})})}),(0,bv.jsx)(ye,{path:"*",element:(0,bv.jsx)(ve,{to:"/",replace:!0})})]})})})})})};a.createRoot(document.getElementById("root")).render((0,bv.jsx)(r.StrictMode,{children:(0,bv.jsx)(ob,{})}))})();
//# sourceMappingURL=main.04638c6c.js.map